{"version":3,"sources":["first_logo.png","prtocols/ACL.pdf","prtocols/ASD.pdf","prtocols/BANKART.pdf","prtocols/KNEE.pdf","prtocols/REVERSE_TSR.pdf","prtocols/ROTATORCUFF.pdf","prtocols/FIRST.pdf","ImagesOrth/INSTRUCTIONS.PNG","Logo.js","Search.js","ExportCSV.js","Table.js","TableAns.js","Graph.js","TablePer.js","SleepGraph.js","GraphAns.js","PatientData.js","DisplayButton.js","PatientSearch.js","NavBar.js","MessagesPage.js","Questionnaire/SurveyComponent.jsx","Questionnaire/QuestionnaireManger.js","PatientSearchNew.js","InstructionsSurgery.js","ExercisesPage.js","App.js","AddUser.js","Login.js","HomeLogin.js","Home.js","serviceWorker.js","index.js"],"names":["module","exports","Logo","src","require","style","height","marginleft","marginRight","alt","Popup","Component","className","onClick","this","props","closePopup","id","text","React","ExportCSV","csvData","fileName","e","wb","Sheets","XLSX","json_to_sheet","SheetNames","excelBuffer","bookType","type","data","Blob","FileSaver","exportToCSV","Table","state","steps","distance","calories","weather","sleep","dataArr","table","exportCSV","handleChange","bind","event","target","name","value","checked","setState","ready","i","noData","length","values","j","dateOStr","week","dates","weekly","day","Date","date","getDay","sun","sat","getTime","toLocaleDateString","month","monthly","avgO","צעדים","מרחק","קלוריות","light","deep","total","sum","counter","showDaily","ValidTime","dateStr","replace","push","firstTime","k","time","dayOfWeek","sunday","saturday","sort","arr","Object","entries","key","key1","last","Math","min","d","setHours","num","floor","toFixed","o","sundayO","firstDay","getFullYear","getMonth","firstDayO","line","width","align","TableAns","dateO","slice","includes","Graph","sort_by_key","array","a","b","x","y","points","oDay","Data","year","dataX","download","TablePer","dic","QuestionnaireID","Score","SleepGraph","pointsD","pointsL","pointsT","lineD","lineL","lineT","colors","GraphAns","PatientData","q2","q3","q4","q5","user","showPopup","showPopupQ","new_date","Questionnaires","quest1","quest2","quest3","quest4","quest5","quest6","changeDate","togglePopup","handleSubmit","togglePopupQ","handleSubmitQ","preventDefault","axios","post","UserID","DateOfSurgery","headers","sessionStorage","getItem","then","res","window","alert","bmi","parseFloat","sDate","undefined","weekday","gender","pNumber","smoke","sType","weight","today","birthday","age","first","charAt","substring","onSubmit","onChange","PopupQ","DisplayButton","graph","styleLabel","fontSize","color","margin","clean","tempDic","temp","arrSteps","arrDis","arrCal","arrWeat","arrSleep","arr1","arr2","arr3","arr4","arr5","arr6","High","periodicAnswers","dailyA","dailyQ","perQ","NavBar","userInfo","pass","pass2","diff","isLogOut","isMessage","isPatientInfo","isInstructions","isExercises","isEdit","logout","change","privateInfoShow","changeToEdit","updateUser","isQuestionnaires","url","response","token","message","getInfo","get","currUser","removeItem","localStorage","toggleUserInfo","iconType","location","pathname","isDoctor","class","size","Navbar","bg","variant","fixed","goToSearch","goToQuestionnaires","goToMessages","goToExercises","goToInstructions","to","NavDropdown","title","Item","as","Brand","required","DoctorInfo","userName","fName","First_Name","lName","Last_Name","bday","BirthDate","phone","Phone_Number","handleChangeInfo","handleSubmitInfo","bDay","now","dateOfSurgery","height_double","Number","String","pow","put","bDate","toISOString","split","substr","Card","Header","ListGroup","onReset","handleReset","maxLength","pattern","max","float","position","UserInfo","Gender","Smoke","surgeryType","SurgeryType","education","Education","Height","Weight","BMI","onSelectGender","onSelectSmoke","onSelectSurgeryType","onSelectEducation","selectedIndex","options","1","2","3","4","5","6","surgeryDateDisplay","patientListItems","genderOptions","surgeryOptions","smokeOptions","educationOptions","surgeryDate","MessagesPage","messages","content","fetchMessagesPatient","fetchMessagesDoctor","prevProps","prevState","snapshot","patientUserId","reverse","patientId","encodeURIComponent","mId","console","log","MessageId","delete","count","dt2","forEach","dt1","UTC","getDate","addMessage","marginLeft","striped","bordered","hover","map","toLocaleString","FromFirstName","FromLastName","textAlign","Content","removeMessage","borderColor","Survey1","applyTheme","SurveyComponent","json","questionnaireId","match","params","$","getQuestionnaire","sendAnswersToServer","sendParsedResultToServer","QuestionnaireEnglishText","description","QuestionnaireText","questions","Questions","elements","singleQuestion","QuestionText","Type","isRequired","choices","Answers","answer","answerID","answerText","hasNone","colCount","result","showID","showWrongUser","showQ","showChange","register","wrongA","serveryResult","parseInt","totalAnswers","prototype","hasOwnProperty","call","question","QuestionID","answers","Array","isArray","AnswerID","widgets","survey","onComplete","add","JSON","stringify","href","model","showQuestionNumbers","QuestionnaireManger","questionnairesArr","questionnairesArrDoctor","presentQuestionnaire","questionnairesArrTemp","q","alignRight","alignLeft","textWeight","scope","changeQuest","PatientSearchNew","first_date","setMonth","three_month","end_date","start_date","sleeping_hours","todayDate","getRequest","selectUser","getDoctorRequest","getPatientRequest","getUrl","start_time","end_time","numOfUsers","da","docs","questionnaire","responseQ","MAP","areas","shape","coords","preFillColor","fillColor","lineWidth","InstructionsSurgery","instructions","instructionsForGrid","pdfNames","ACL","KNEE","ASD","BANKART","REVERSE_TSR","ROTATORCUFF","FIRST","headerNames","instructionsByCategory","showInstructions","getInstructions","changePdfToShow","getInitialState","load","clicked","clickedOutside","moveOnImage","enterArea","leaveArea","moveOnArea","getTipPosition","hoveredArea","msg","moveMsg","area","category","focusOnInstructions","document","getElementById","scrollIntoView","evt","nativeEvent","layerX","layerY","top","center","left","respone","instructionsArr","groupArrayOfObjects","list","reduce","rv","pdfToShow","Grid","container","spacing","item","xs","onLoad","strokeColor","instruction","CardMedia","component","image","ImagePart","PdfName","Title","ExercisesPage","exercises","exercisesGrid","newExerciseUrl","newExerciseCategory","categories","getExercises","onSelectCategoryChosen","exercisesForGrid","addExercise","urlId","URL","searchParams","Video","eId","confirm","group","r","Category","opts","playerVars","autoplay","optionItems","backgroundColor","keys","keyName","keyIndex","exercise","videoId","onReady","_onReady","removeExercise","ExerciseId","pdfjs","GlobalWorkerOptions","workerSrc","version","App","optionsPName","namesDiv","isFetchingNames","users","pName","fetchNames","handlePName","names","trim","uniqueNames","from","Set","usersByName","toLocaleLowerCase","cards","dateC","Body","placeholder","checkIfNotSearchNeeded","searchPatient","getActiveComponent","initialState","password","questionsID","questionsText","answerUserQuestion","quesionChosen","code","questionnairesID","questionnairesText","questionnairesChosen","AddUser","questionnaires","onSelectQuesionChosen","onSelectQuestionnairesChosen","selected","chosen","selectQuestionnaire","initialQuestions","initQuestionsID","initQuestionsText","fetch","results","obj","initQuestionnairesID","initQuestionnairesText","initQuestionnaires","Password","Code","VerificationQuestion","VerificationAnswer","reload","componentDidMount","questionnairesOption","Button","floatButtom","isPatient","for","minLength","minlength","Tooltip","IconButton","handleOnChange","Login","ID","wrong","doctor","patient","remember","setItem","sumbit","forget","handle","changePass","qID","response1","dateLong","HomeLogin","path","Home","body","setAttribute","basename","exact","render","Boolean","hostname","ReactDOM","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.4a3ead4e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/first_logo.4c4417d4.png\";","module.exports = __webpack_public_path__ + \"static/media/ACL.5b081277.pdf\";","module.exports = __webpack_public_path__ + \"static/media/ASD.e2908041.pdf\";","module.exports = __webpack_public_path__ + \"static/media/BANKART.be5c0d16.pdf\";","module.exports = __webpack_public_path__ + \"static/media/KNEE.75f6c6fa.pdf\";","module.exports = __webpack_public_path__ + \"static/media/REVERSE_TSR.a2e02d04.pdf\";","module.exports = __webpack_public_path__ + \"static/media/ROTATORCUFF.d03b22ee.pdf\";","module.exports = __webpack_public_path__ + \"static/media/FIRST.e59c3598.pdf\";","module.exports = __webpack_public_path__ + \"static/media/INSTRUCTIONS.a467ee60.PNG\";","import React from \"react\"\r\n\r\nfunction Logo(){\r\n    const style ={\r\n        height: \"25vmin\"\r\n    };\r\n\r\n    return (\r\n        <img src={require(\"./first_logo.png\")} style={{ height: \"25vmin\", marginleft: \"center\",marginRight: \"center\"}} alt=\"logo\" />\r\n    )\r\n}\r\n\r\nexport default Logo","import React, {Component} from \"react\"\r\nimport axios from 'axios';\r\nimport Card from 'react-bootstrap/Card'\r\n\r\nclass SearchPatient extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            optionsPName: [],\r\n            namesDiv: [],\r\n            isFetchingNames: false,\r\n            users: [],\r\n            pName:'',\r\n            showPopup: false\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.togglePopup = this.togglePopup.bind(this);\r\n        this.fetchNames = this.fetchNames.bind(this);\r\n        this.handlePName = this.handlePName.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchNames()\r\n            .then(() => console.log(\"Fetch names successfully\"));\r\n    }\r\n\r\n    async fetchNames(){\r\n        var list = [];\r\n        var users = [];\r\n        var namesDiv = [];\r\n        this.setState({isFetchingNames: true});\r\n        var response = await axios.get(\r\n            \"http://localhost:8180/auth/doctors/metrics/getUsers\",\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                }\r\n            }\r\n        );\r\n        if(response.data.data){\r\n            var names = [];\r\n            for(var i = 0; i < response.data.data.length; i++){\r\n                let user = response.data.data[i];\r\n                namesDiv.push({first: user.First_Name, last: user.Last_Name});\r\n                users.push(user);\r\n                names.push(user.First_Name.trim() + \" \" + user.Last_Name.trim())\r\n            }\r\n            names = names.sort();\r\n            var uniqueNames = Array.from(new Set(names));\r\n            for(i = 0; i < uniqueNames.length; i++){\r\n                list.push(<option key={uniqueNames[i]}>{uniqueNames[i]}</option>);\r\n            }\r\n        }\r\n        this.setState({\r\n            isFetchingNames: false,\r\n            optionsPName: list,\r\n            namesDiv: namesDiv,\r\n            users: users\r\n        });\r\n    }\r\n    togglePopup() {\r\n        this.setState({\r\n            showPopup: !this.state.showPopup\r\n        });\r\n    }\r\n\r\n    handlePName(event) {\r\n        this.setState({pName: event.target.value});\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        if(event){\r\n            event.preventDefault()\r\n        }\r\n\r\n        let usersByName = [];\r\n        this.state.users.forEach(user => {\r\n            if(this.state.pName.toLocaleLowerCase() === `${user.First_Name.trim()} ${user.Last_Name.trim()}`.toLocaleLowerCase()) {\r\n                console.log(`found user ${user}`);\r\n                usersByName.push(user);\r\n            }\r\n        });\r\n        let cards = [];\r\n        for(let i = 0; i < usersByName.length; i++){\r\n            let user = usersByName[i];\r\n            let dateC = new Date(user.BirthDate).toLocaleDateString('en-GB', {day: 'numeric', month: 'numeric', year:\"numeric\"});\r\n            cards.push(\r\n                <Card className=\"card\" key={user.UserID}  onClick={() => {\r\n                    sessionStorage.setItem(\"patientUserId\", user.UserID);\r\n                    this.togglePopup();\r\n                }}>\r\n                    <Card.Body className=\"cardBody\">שם מלא: {this.state.pName.trim()} </Card.Body>\r\n                    <Card.Body className=\"cardBody\">תאריך לידה: {dateC}</Card.Body>\r\n                </Card>\r\n            );\r\n        }\r\n        this.setState({\r\n            text: cards\r\n        });\r\n        this.togglePopup();\r\n    }\r\n\r\n    render() {\r\n        require(\"./search.css\");\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <datalist id=\"first-list\">{this.state.optionsPName}</datalist>\r\n                    <div className=\"search\">\r\n                        <label className=\"lSearch\">\r\n                            חפש מטופל:\r\n                        </label>\r\n                        <input className=\"iSearch\"\r\n                               id=\"pname\"\r\n                               type=\"text\"\r\n                               name=\"pName\"\r\n                               value={this.state.pName}\r\n                               placeholder=\"שם פרטי ומשפחה\"\r\n                               onChange={this.handlePName}\r\n                               list=\"first-list\"\r\n                               required\r\n                        />\r\n                        <button className=\"bSearch\">\r\n                            חפש\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n                <br />\r\n                {this.state.showPopup ?\r\n                    <Popup\r\n                        text={this.state.text}\r\n                        closePopup={this.togglePopup.bind(this)}\r\n                    /> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SearchPatient\r\n\r\nclass Popup extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className='popup'>\r\n                <div className='popup_inner' >\r\n                    <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                    <h4>:אנא בחר מבין הרשומות הבאות</h4>\r\n                    {this.props.text}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react'\r\n//import Button from 'react-bootstrap/Button';\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\nimport \"./ExportCSV.css\"\r\n\r\nexport const ExportCSV = ({csvData, fileName}) => {\r\n\r\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\n    const fileExtension = '.xlsx';\r\n\r\n    const exportToCSV = (csvData, fileName) => {\r\n        const ws = XLSX.utils.json_to_sheet(csvData);\r\n        const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\r\n        const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\r\n        const data = new Blob([excelBuffer], {type: fileType});\r\n        FileSaver.saveAs(data, fileName + fileExtension);\r\n    }\r\n\r\n    return (\r\n        <button className=\"b\" onClick={(e) => exportToCSV(csvData,fileName)}>יצא לאקסל</button>\r\n    )\r\n}","import React, {Component} from \"react\";\r\nimport {ExportCSV} from \"./ExportCSV\";\r\n\r\nclass Table extends Component {\r\n    constructor(props) {\r\n        super();\r\n        this.state = {\r\n            steps: props.steps,\r\n            distance : props.distance,\r\n            calories: props.calories,\r\n            weather: props.weather,\r\n            sleep: props.sleep,\r\n            dataArr: props.dataArr,\r\n            table: [],\r\n            exportCSV: []\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({[name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n\r\n    render() {\r\n        require(\"./Table.css\");\r\n        if(this.props.ready){\r\n            var noData = true;\r\n            var i\r\n            for(i = 0; i < this.props.dataArr.length; i++){\r\n                if(this.props.dataArr[i].values.length > 0){\r\n                    noData = false\r\n                }\r\n            }\r\n            if(!noData){\r\n                var table = {};\r\n                var j, week = false;\r\n                var dates = [];\r\n                var dateO, dateOStr;\r\n                if(this.props.weekly){\r\n                    dateO = new Date(this.props.date);\r\n                    var day = dateO.getDay();\r\n                    var sun = new Date(this.props.date - day * 86400000);\r\n                    var sat = new Date(sun.getTime() + 518400000);\r\n                    dateOStr = sun.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + sat.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                }\r\n                if(this.props.monthly){\r\n                    dateO = new Date(this.props.date);\r\n                    dateOStr = dateO.toLocaleDateString('en-GB', {month: 'short'});\r\n                }\r\n                var avgO = {};\r\n                avgO[\"before\"] = {צעדים: {}, מרחק: {}, קלוריות: {}, weather: {}, light: {}, deep: {}, total: {}};\r\n                avgO[\"after\"] = {צעדים: {}, מרחק: {}, קלוריות: {}, weather: {}, light: {}, deep: {}, total: {}};\r\n                avgO[\"before\"][\"צעדים\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"מרחק\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"קלוריות\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"weather\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"light\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"deep\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"total\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"צעדים\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"מרחק\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"קלוריות\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"weather\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"light\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"deep\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"total\"] = {sum: 0, counter: 0};\r\n                for(i = 0; i < this.props.dataArr.length; i++){\r\n                    for(j = 0; j < this.props.dataArr[i].values.length; j++){\r\n                        if(this.props.showDaily){\r\n                            var date = new Date(this.props.dataArr[i].values[j].ValidTime);\r\n                            var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-');\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                dates.push(this.props.dataArr[i].values[j].ValidTime);\r\n                            }\r\n                            if(this.props.dataArr[i].name === \"שעות שינה\"){\r\n                            var deep = 0, light = 0, total = 0, firstTime = 0;\r\n                                for(var k = 0; k < this.props.dataArr[i].values[j][\"Data\"].length; k++){\r\n                                    if(k === 0){\r\n                                        firstTime = this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                    }\r\n                                    else if( firstTime === this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"]){\r\n                                        break;\r\n                                    }\r\n                                    var time = this.props.dataArr[i].values[j][\"Data\"][k][\"EndTime\"] - this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                    time = time / 3600000;\r\n                                    if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"Light sleep\" || this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_LIGHT\"){\r\n                                        light = light + time;\r\n                                    }\r\n                                    else if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"Deep sleep\" || this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_DEEP\"){\r\n                                        deep = deep + time;\r\n                                    }\r\n                                    total = total + time;\r\n                                }\r\n                                if(!table[dateStr]){\r\n                                    table[dateStr] = {};\r\n                                }\r\n                                table[dateStr][\"light\"] = light;\r\n                                table[dateStr][\"deep\"] = deep;\r\n                                table[dateStr][\"total\"] = total;\r\n                                continue;\r\n                            }\r\n                            table[dateStr][this.props.dataArr[i].name] = this.props.dataArr[i].values[j];\r\n                        }\r\n                        else if(this.props.weekly){\r\n                            date = new Date(this.props.dataArr[i].values[j].ValidTime);\r\n                            var dayOfWeek = date.getDay();\r\n                            var sunday = new Date(this.props.dataArr[i].values[j].ValidTime - dayOfWeek * 86400000);\r\n                            var saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                            if(dateOStr === dateStr){\r\n                                if(this.props.dataArr[i].name === \"שעות שינה\"){\r\n                                    let deep = 0, light = 0, total = 0, firstTime = 0;\r\n                                    for(k = 0; k < this.props.dataArr[i].values[j][\"Data\"].length; k++){\r\n                                        if(k === 0){\r\n                                            firstTime = this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                        }\r\n                                        else if( firstTime === this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"]){\r\n                                            break;\r\n                                        }\r\n                                        time = this.props.dataArr[i].values[j][\"Data\"][k][\"EndTime\"] - this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                        time = time / 3600000;\r\n                                        if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"Light sleep\" || this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_LIGHT\"){\r\n                                            light = light + time;\r\n                                        }\r\n                                        else if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"Deep sleep\" || this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_DEEP\"){\r\n                                            deep = deep + time;\r\n                                        }\r\n                                        total = total + time;\r\n                                    }\r\n                                    if(this.props.dataArr[i].values[j].ValidTime < this.props.date){\r\n                                        avgO[\"before\"][\"light\"][\"sum\"] += light;\r\n                                        avgO[\"before\"][\"deep\"][\"sum\"] += deep;\r\n                                        avgO[\"before\"][\"total\"][\"sum\"] += total;\r\n                                        avgO[\"before\"][\"light\"][\"counter\"] ++;\r\n                                        avgO[\"before\"][\"deep\"][\"counter\"] ++;\r\n                                        avgO[\"before\"][\"total\"][\"counter\"] ++;\r\n                                    }\r\n                                    else{\r\n                                        avgO[\"after\"][\"light\"][\"sum\"] += light;\r\n                                        avgO[\"after\"][\"deep\"][\"sum\"] += deep;\r\n                                        avgO[\"after\"][\"total\"][\"sum\"] += total;\r\n                                        avgO[\"after\"][\"light\"][\"counter\"] ++;\r\n                                        avgO[\"after\"][\"deep\"][\"counter\"] ++;\r\n                                        avgO[\"after\"][\"total\"][\"counter\"] ++;\r\n                                    }\r\n                                    continue;\r\n                                }\r\n                                if(this.props.dataArr[i].values[j].ValidTime < this.props.date){\r\n                                    if(this.props.dataArr[i].name === \"מזג האוויר\"){\r\n                                        avgO[\"before\"][\"weather\"][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                        avgO[\"before\"][\"weather\"][\"counter\"] ++;\r\n                                        continue;\r\n                                    }\r\n                                    avgO[\"before\"][this.props.dataArr[i].name][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                    avgO[\"before\"][this.props.dataArr[i].name][\"counter\"] ++;\r\n                                }\r\n                                else{\r\n                                    if(this.props.dataArr[i].name === \"מזג האוויר\"){\r\n                                        avgO[\"after\"][\"weather\"][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                        avgO[\"after\"][\"weather\"][\"counter\"] ++;\r\n                                        continue;\r\n                                    }\r\n                                    avgO[\"after\"][this.props.dataArr[i].name][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                    avgO[\"after\"][this.props.dataArr[i].name][\"counter\"] ++;\r\n                                }\r\n                                if(!week){\r\n                                    dates.push(this.props.dataArr[i].values[j].ValidTime);\r\n                                    week = true;\r\n                                }\r\n                                continue;\r\n                            }\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                dates.push(this.props.dataArr[i].values[j].ValidTime);\r\n                            }\r\n                            if(table[dateStr][this.props.dataArr[i].name] == null){\r\n                                table[dateStr][this.props.dataArr[i].name] = {};\r\n                                table[dateStr][this.props.dataArr[i].name][\"counter\"] = 0;\r\n                                table[dateStr][this.props.dataArr[i].name][\"sum\"] = 0;\r\n                            }\r\n                            if(this.props.dataArr[i].name === \"שעות שינה\"){\r\n                                let deep = 0, light = 0, total = 0, firstTime = 0;\r\n                                for(k = 0; k < this.props.dataArr[i].values[j][\"Data\"].length; k++){\r\n                                    if(k === 0){\r\n                                        firstTime = this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                    }\r\n                                    else if( firstTime === this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"]){\r\n                                        break;\r\n                                    }\r\n                                    time = this.props.dataArr[i].values[j][\"Data\"][k][\"EndTime\"] - this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                    time = time / 3600000;\r\n                                    if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"Light sleep\" || this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_LIGHT\"){\r\n                                        light = light + time;\r\n                                    }\r\n                                    else if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"Deep sleep\" || this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_DEEP\"){\r\n                                        deep = deep + time;\r\n                                    }\r\n                                    total = total + time;\r\n                                }\r\n                                if(!table[dateStr]){\r\n                                    table[dateStr] = {};\r\n                                }\r\n                                if(!table[dateStr][\"total\"]){\r\n                                    table[dateStr][\"light\"] = {};\r\n                                    table[dateStr][\"deep\"] = {};\r\n                                    table[dateStr][\"total\"] = {};\r\n                                    table[dateStr][\"light\"][\"counter\"] = 0;\r\n                                    table[dateStr][\"deep\"][\"counter\"] = 0;\r\n                                    table[dateStr][\"total\"][\"counter\"] = 0;\r\n                                    table[dateStr][\"light\"][\"sum\"] = 0;\r\n                                    table[dateStr][\"deep\"][\"sum\"] = 0;\r\n                                    table[dateStr][\"total\"][\"sum\"] = 0;\r\n                                }\r\n                                table[dateStr][\"light\"][\"sum\"] += light;\r\n                                table[dateStr][\"deep\"][\"sum\"] += deep;\r\n                                table[dateStr][\"total\"][\"sum\"] += total;\r\n                                table[dateStr][\"light\"][\"counter\"]++;\r\n                                table[dateStr][\"deep\"][\"counter\"]++;\r\n                                table[dateStr][\"total\"][\"counter\"]++;\r\n                                continue;\r\n                            }\r\n                            table[dateStr][this.props.dataArr[i].name][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                            table[dateStr][this.props.dataArr[i].name][\"counter\"]++;\r\n                        }\r\n                        else if(this.props.monthly){\r\n                            date = new Date(this.props.dataArr[i].values[j].ValidTime);;\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                            if(dateOStr === dateStr){\r\n                                if(this.props.dataArr[i].name === \"שעות שינה\"){\r\n                                    let deep = 0, light = 0, total = 0, firstTime = 0;\r\n                                    for(k = 0; k < this.props.dataArr[i].values[j][\"Data\"].length; k++){\r\n                                        if(k === 0){\r\n                                            firstTime = this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                        }\r\n                                        else if( firstTime === this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"]){\r\n                                            break;\r\n                                        }\r\n                                        time = this.props.dataArr[i].values[j][\"Data\"][k][\"EndTime\"] - this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                        time = time / 3600000;\r\n                                        if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"Light sleep\" || this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_LIGHT\"){\r\n                                            light = light + time;\r\n                                        }\r\n                                        else  if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"Deep sleep\" || this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_DEEP\"){\r\n                                            deep = deep + time;\r\n                                        }\r\n                                        total = total + time;\r\n                                    }\r\n                                    if(this.props.dataArr[i].values[j].ValidTime < this.props.date){\r\n                                        avgO[\"before\"][\"light\"][\"sum\"] += light;\r\n                                        avgO[\"before\"][\"deep\"][\"sum\"] += deep;\r\n                                        avgO[\"before\"][\"total\"][\"sum\"] += total;\r\n                                        avgO[\"before\"][\"light\"][\"counter\"] ++;\r\n                                        avgO[\"before\"][\"deep\"][\"counter\"] ++;\r\n                                        avgO[\"before\"][\"total\"][\"counter\"] ++;\r\n                                    }\r\n                                    else{\r\n                                        avgO[\"after\"][\"light\"][\"sum\"] += light;\r\n                                        avgO[\"after\"][\"deep\"][\"sum\"] += deep;\r\n                                        avgO[\"after\"][\"total\"][\"sum\"] += total;\r\n                                        avgO[\"after\"][\"light\"][\"counter\"] ++;\r\n                                        avgO[\"after\"][\"deep\"][\"counter\"] ++;\r\n                                        avgO[\"after\"][\"total\"][\"counter\"] ++;\r\n                                    }\r\n                                    continue;\r\n                                }\r\n                                if(this.props.dataArr[i].values[j].ValidTime < this.props.date){\r\n                                    if(this.props.dataArr[i].name === \"מזג האוויר\"){\r\n                                        avgO[\"before\"][\"weather\"][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                        avgO[\"before\"][\"weather\"][\"counter\"] ++;\r\n                                        continue;\r\n                                    }\r\n                                    avgO[\"before\"][this.props.dataArr[i].name][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                    avgO[\"before\"][this.props.dataArr[i].name][\"counter\"] ++;\r\n                                }\r\n                                else{\r\n                                    if(this.props.dataArr[i].name === \"מזג האוויר\"){\r\n                                        avgO[\"after\"][\"weather\"][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                        avgO[\"after\"][\"weather\"][\"counter\"] ++;\r\n                                        continue;\r\n                                    }\r\n                                    avgO[\"after\"][this.props.dataArr[i].name][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                                    avgO[\"after\"][this.props.dataArr[i].name][\"counter\"] ++;\r\n                                }\r\n                                if(!week){\r\n                                    dates.push(this.props.dataArr[i].values[j].ValidTime);\r\n                                    week = true;\r\n                                }\r\n                                continue;\r\n                            }\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                dates.push(this.props.dataArr[i].values[j].ValidTime );\r\n                            }\r\n                            if(table[dateStr][this.props.dataArr[i].name] == null){\r\n                                table[dateStr][this.props.dataArr[i].name] = {};\r\n                                table[dateStr][this.props.dataArr[i].name][\"counter\"] = 0;\r\n                                table[dateStr][this.props.dataArr[i].name][\"sum\"] = 0;\r\n                            }\r\n                            if(this.props.dataArr[i].name === \"שעות שינה\"){\r\n                                let deep = 0, light = 0, total = 0, firstTime = 0;\r\n                                for(k = 0; k < this.props.dataArr[i].values[j][\"Data\"].length; k++){\r\n                                    if(k === 0){\r\n                                        firstTime = this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                    }\r\n                                    else if( firstTime === this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"]){\r\n                                        break;\r\n                                    }\r\n                                    time = this.props.dataArr[i].values[j][\"Data\"][k][\"EndTime\"] - this.props.dataArr[i].values[j][\"Data\"][k][\"StartTime\"];\r\n                                    time = time / 3600000;\r\n                                    if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"Light sleep\" || this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_LIGHT\"){\r\n                                        light = light + time;\r\n                                    }\r\n                                    else if(this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"Deep sleep\" || this.props.dataArr[i].values[j][\"Data\"][k][\"State\"] === \"SLEEP_DEEP\"){\r\n                                        deep = deep + time;\r\n                                    }\r\n                                    total = total + time;\r\n                                }\r\n                                if(!table[dateStr]){\r\n                                    table[dateStr] = {};\r\n                                }\r\n                                if(!table[dateStr][\"total\"]){\r\n                                    table[dateStr][\"light\"] = {};\r\n                                    table[dateStr][\"deep\"] = {};\r\n                                    table[dateStr][\"total\"] = {};\r\n                                    table[dateStr][\"light\"][\"counter\"] = 0;\r\n                                    table[dateStr][\"deep\"][\"counter\"] = 0;\r\n                                    table[dateStr][\"total\"][\"counter\"] = 0;\r\n                                    table[dateStr][\"light\"][\"sum\"] = 0;\r\n                                    table[dateStr][\"deep\"][\"sum\"] = 0;\r\n                                    table[dateStr][\"total\"][\"sum\"] = 0;\r\n                                }\r\n                                table[dateStr][\"light\"][\"sum\"] += light;\r\n                                table[dateStr][\"deep\"][\"sum\"] += deep;\r\n                                table[dateStr][\"total\"][\"sum\"] += total;\r\n                                table[dateStr][\"light\"][\"counter\"]++;\r\n                                table[dateStr][\"deep\"][\"counter\"]++;\r\n                                table[dateStr][\"total\"][\"counter\"]++;\r\n                                continue;\r\n                            }\r\n                            table[dateStr][this.props.dataArr[i].name][\"sum\"] += this.props.dataArr[i].values[j][\"Data\"];\r\n                            table[dateStr][this.props.dataArr[i].name][\"counter\"]++;\r\n                        }\r\n                    }\r\n                }\r\n                dates = dates.sort();\r\n                var arr = [];\r\n                if(this.props.weekly || this.props.monthly){\r\n                    for (let [key,] of Object.entries(table)) {\r\n                        for (let [key1,] of Object.entries(table[key])) {\r\n                            table[key][key1][\"Data\"] = table[key][key1][\"sum\"] / table[key][key1][\"counter\"];\r\n                        }\r\n                    }\r\n                }\r\n                var exportCSV = [];\r\n                var last = Math.min();\r\n                for(i = 0; i < dates.length; i++){\r\n                    date = new Date(dates[i]);\r\n                    dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-')\r\n                    if(this.props.showDaily){\r\n                        var d = new Date(dates[i]);\r\n                        d.setHours(0,0,0,0);\r\n                        var num = Math.floor((d.getTime() - this.props.date) / 86400000);\r\n                        if(num < 0){\r\n                            num++;\r\n                        }\r\n                        if(last === num){\r\n                            num++;\r\n                        }\r\n                        last = num;\r\n                        if(!this.props.date){\r\n                            num = \"-\"\r\n                        }\r\n                        table[dateStr][\"num\"] = num;\r\n                        arr.push(\r\n                            <tr key={dateStr}>\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{num}</td> : <td className=\"after\">{num}</td>}\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{dateStr}</td> : <td className=\"after\">{dateStr}</td>}\r\n                                { this.props.steps ? (table[dateStr][\"צעדים\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"צעדים\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"צעדים\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                { this.props.distance ? (table[dateStr][\"מרחק\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"מרחק\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"מרחק\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                { this.props.calories ? (table[dateStr][\"קלוריות\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"קלוריות\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"קלוריות\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                { this.props.weather ? (table[dateStr][\"מזג האוויר\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"מזג האוויר\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"מזג האוויר\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                { this.props.sleep ? (table[dateStr][\"light\"] >= 0 ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"light\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"light\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                { this.props.sleep ? (table[dateStr][\"deep\"] >= 0 ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"deep\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"deep\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                { this.props.sleep ? (table[dateStr][\"total\"] >= 0 ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"total\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"total\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                            </tr>\r\n                        )\r\n                    }\r\n                    else if(this.props.weekly || this.props.monthly){\r\n                        var o = new Date(this.props.date);\r\n                        d = new Date(dates[i]);\r\n                        d.setHours(0,0,0,0);\r\n                        if(this.props.weekly){\r\n                            var sundayO = new Date(o.getTime() - o.getDay() * 86400000);\r\n                            sundayO.setHours(0,0,0,0);\r\n                            dayOfWeek = date.getDay();\r\n                            sunday = new Date(date.getTime() - dayOfWeek * 86400000);\r\n                            sunday.setHours(0,0,0,0);\r\n                            saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                            num = Math.floor((sunday.getTime() - sundayO.getTime()) / 604800000);\r\n                        }\r\n                        else{\r\n                            var firstDay = new Date(d.getFullYear(), d.getMonth(), 1);\r\n                            var firstDayO = new Date(o.getFullYear(), o.getMonth(), 1);\r\n                            num = Math.floor((firstDay.getTime() - firstDayO.getTime()) / 2419200000);\r\n                            if(num < 0){\r\n                                num++;\r\n                            }\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        }\r\n                        if(last === num){\r\n                            num++;\r\n                        }\r\n                        last = num;\r\n                        if(!this.props.date){\r\n                            num = \"-\"\r\n                        }\r\n                        if(dateStr === dateOStr){\r\n                            arr.push(\r\n                                <tr key={dateStr + \"before\"}>\r\n                                    <td className=\"before\">{0}</td>\r\n                                    <td className=\"before\">{dateStr}</td>\r\n                                    { this.props.steps ? (avgO[\"before\"][\"צעדים\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"צעדים\"][\"sum\"] / avgO[\"before\"][\"צעדים\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                    { this.props.distance ? (avgO[\"before\"][\"מרחק\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"מרחק\"][\"sum\"] / avgO[\"before\"][\"מרחק\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                    { this.props.calories ? (avgO[\"before\"][\"קלוריות\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"קלוריות\"][\"sum\"] / avgO[\"before\"][\"קלוריות\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                    { this.props.weather ? (avgO[\"before\"][\"weather\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"weather\"][\"sum\"] / avgO[\"before\"][\"weather\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                    { this.props.sleep ? (avgO[\"before\"][\"light\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"light\"][\"sum\"] / avgO[\"before\"][\"light\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                    { this.props.sleep ? (avgO[\"before\"][\"deep\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"deep\"][\"sum\"] / avgO[\"before\"][\"deep\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                    { this.props.sleep ? (avgO[\"before\"][\"total\"][\"counter\"] ? (<td className=\"before\">{ (avgO[\"before\"][\"total\"][\"sum\"] / avgO[\"before\"][\"total\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"before\">-</td>) : null}\r\n                                </tr>\r\n                            )\r\n                            arr.push(\r\n                                <tr key={dateStr + \"after\"}>\r\n                                    <td className=\"after\">{0}</td>\r\n                                    <td className=\"after\">{dateStr}</td>\r\n                                    { this.props.steps ? (avgO[\"after\"][\"צעדים\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"צעדים\"][\"sum\"] / avgO[\"after\"][\"צעדים\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                    { this.props.distance ? (avgO[\"after\"][\"מרחק\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"מרחק\"][\"sum\"] / avgO[\"after\"][\"מרחק\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                    { this.props.calories ? (avgO[\"after\"][\"קלוריות\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"קלוריות\"][\"sum\"] / avgO[\"after\"][\"קלוריות\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                    { this.props.weather ? (avgO[\"after\"][\"weather\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"weather\"][\"sum\"] / avgO[\"after\"][\"weather\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                    { this.props.sleep ? (avgO[\"after\"][\"light\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"light\"][\"sum\"] / avgO[\"after\"][\"light\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                    { this.props.sleep ? (avgO[\"after\"][\"deep\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"deep\"][\"sum\"] / avgO[\"after\"][\"deep\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                    { this.props.sleep ? (avgO[\"after\"][\"total\"][\"counter\"] ? (<td className=\"after\">{ (avgO[\"after\"][\"total\"][\"sum\"] / avgO[\"after\"][\"total\"][\"counter\"]).toFixed(2)}</td> ) : <td className=\"after\">-</td>) : null}\r\n                                </tr>\r\n                            )\r\n                        }\r\n                        else{\r\n                            table[dateStr][\"num\"] = num;\r\n                            arr.push(\r\n                                <tr key={dateStr}>\r\n                                     {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{num}</td> : <td className=\"after\">{num}</td>}\r\n                                    {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{dateStr}</td> : <td className=\"after\">{dateStr}</td>}\r\n                                    { this.props.steps ? (table[dateStr][\"צעדים\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"צעדים\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"צעדים\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                    { this.props.distance ? (table[dateStr][\"מרחק\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"מרחק\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"מרחק\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                    { this.props.calories ? (table[dateStr][\"קלוריות\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"קלוריות\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"קלוריות\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                    { this.props.weather ? (table[dateStr][\"מזג האוויר\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"מזג האוויר\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"מזג האוויר\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                    { this.props.sleep ? (table[dateStr][\"light\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"light\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"light\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                    { this.props.sleep ? (table[dateStr][\"deep\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"deep\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"deep\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                    { this.props.sleep ? (table[dateStr][\"total\"] ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"total\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"total\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>) ) : null}\r\n                                </tr>\r\n                            )\r\n                        }\r\n                    }\r\n                    var line = {};\r\n                    line[\"תאריך\"] = dateStr;\r\n                    var z = 0;\r\n                    if(dateStr === dateOStr){\r\n                        if(this.props.date){\r\n                            if(this.props.weekly){\r\n                                line[\"מספר שבוע\"] = z;\r\n                            }\r\n                            else{\r\n                                line[\"מספר חודש\"] = z;\r\n                            }\r\n                        }\r\n                        if(this.props.steps && avgO[\"before\"][\"צעדים\"][\"counter\"]){\r\n                            line[\"צעדים\"] = (avgO[\"before\"][\"צעדים\"][\"sum\"] / avgO[\"before\"][\"צעדים\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.distance && avgO[\"before\"][\"מרחק\"][\"counter\"]){\r\n                            line[\"מרחק\"] = (avgO[\"before\"][\"מרחק\"][\"sum\"] / avgO[\"before\"][\"מרחק\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.calories && avgO[\"before\"][\"קלוריות\"][\"counter\"]){\r\n                            line[\"קלוריות\"] = (avgO[\"before\"][\"קלוריות\"][\"sum\"] / avgO[\"before\"][\"קלוריות\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.weather && avgO[\"before\"][\"weather\"][\"counter\"]){\r\n                            line[\"מזג האוויר\"] = (avgO[\"before\"][\"weather\"][\"sum\"] / avgO[\"before\"][\"weather\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.sleep && avgO[\"before\"][\"light\"][\"counter\"]){\r\n                            line[\"שעות שינה קלה\"] = (avgO[\"before\"][\"light\"][\"sum\"] / avgO[\"before\"][\"light\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.sleep && avgO[\"before\"][\"deep\"][\"counter\"]){\r\n                            line[\"שעות שינה עמוקה\"] = (avgO[\"before\"][\"deep\"][\"sum\"] / avgO[\"before\"][\"deep\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.sleep && avgO[\"before\"][\"total\"][\"counter\"]){\r\n                            line[\"סך כל שעות השינה\"] = (avgO[\"before\"][\"total\"][\"sum\"] / avgO[\"before\"][\"total\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        exportCSV.push(line);\r\n                        line = {};\r\n                        if(this.props.date){\r\n                            if(this.props.weekly){\r\n                                line[\"מספר שבוע\"] = z;\r\n                            }\r\n                            else{\r\n                                line[\"מספר חודש\"] = z;\r\n                            }\r\n                        }\r\n                        line[\"תאריך\"] = dateStr;\r\n                        if(this.props.steps && avgO[\"after\"][\"צעדים\"][\"counter\"]){\r\n                            line[\"צעדים\"] = (avgO[\"after\"][\"צעדים\"][\"sum\"] / avgO[\"after\"][\"צעדים\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.distance && avgO[\"after\"][\"מרחק\"][\"counter\"]){\r\n                            line[\"מרחק\"] = (avgO[\"after\"][\"מרחק\"][\"sum\"] / avgO[\"after\"][\"מרחק\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.calories && avgO[\"after\"][\"קלוריות\"][\"counter\"]){\r\n                            line[\"קלוריות\"] = (avgO[\"after\"][\"קלוריות\"][\"sum\"] / avgO[\"after\"][\"קלוריות\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.weather && avgO[\"after\"][\"weather\"][\"counter\"]){\r\n                            line[\"מזג האוויר\"] = (avgO[\"after\"][\"weather\"][\"sum\"] / avgO[\"after\"][\"weather\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.sleep && avgO[\"after\"][\"light\"][\"counter\"]){\r\n                            line[\"שעות שינה קלה\"] = (avgO[\"after\"][\"light\"][\"sum\"] / avgO[\"after\"][\"light\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.sleep && avgO[\"after\"][\"deep\"][\"counter\"]){\r\n                            line[\"שעות שינה עמוקה\"] = (avgO[\"after\"][\"deep\"][\"sum\"] / avgO[\"after\"][\"deep\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(this.props.sleep && avgO[\"after\"][\"total\"][\"counter\"]){\r\n                            line[\"סך כל שעות השינה\"] = (avgO[\"after\"][\"total\"][\"sum\"] / avgO[\"after\"][\"total\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        exportCSV.push(line);\r\n                        continue;\r\n                    }\r\n                    if(this.props.date){\r\n                        if(this.props.showDaily){\r\n                            line[\"מספר יום\"] = table[dateStr][\"num\"]\r\n                        }\r\n                        else if(this.props.weekly){\r\n                            line[\"מספר שבוע\"] = table[dateStr][\"num\"]\r\n                        }\r\n                        else{\r\n                            line[\"מספר חודש\"] = table[dateStr][\"num\"]\r\n                        }\r\n                    }\r\n                    if(this.props.steps && table[dateStr][\"צעדים\"]){\r\n                        line[\"צעדים\"] = table[dateStr][\"צעדים\"][\"Data\"];\r\n                    }\r\n                    if(this.props.distance && table[dateStr][\"מרחק\"]){\r\n                        line[\"מרחק\"] = table[dateStr][\"מרחק\"][\"Data\"];\r\n                    }\r\n                    if(this.props.calories && table[dateStr][\"קלוריות\"]){\r\n                        line[\"קלוריות\"] = table[dateStr][\"קלוריות\"][\"Data\"];\r\n                    }\r\n                    if(this.props.weather && table[dateStr][\"מזג האוויר\"]){\r\n                        line[\"מזג האוויר\"] = table[dateStr][\"מזג האוויר\"][\"Data\"];\r\n                    }\r\n                    if(this.props.sleep && table[dateStr][\"light\"] && this.props.showDaily){\r\n                        line[\"שעות שינה קלה\"] = table[dateStr][\"light\"];\r\n                        line[\"שעות שינה עמוקה\"] = table[dateStr][\"deep\"];\r\n                        line[\"סך כל שעות השינה\"] = table[dateStr][\"total\"];\r\n                        \r\n                    }\r\n                    if(this.props.sleep && table[dateStr][\"light\"] && !this.props.showDaily){\r\n                        line[\"שעות שינה קלה\"] = table[dateStr][\"light\"][\"Data\"];\r\n                        line[\"שעות שינה עמוקה\"] = table[dateStr][\"deep\"][\"Data\"];\r\n                        line[\"סך כל שעות השינה\"] = table[dateStr][\"total\"][\"Data\"];\r\n                    }\r\n                    exportCSV.push(line);\r\n                }\r\n                \r\n            } \r\n            else{\r\n                noData = true;\r\n            }\r\n        }\r\n        return(\r\n            <div>\r\n                {this.props.ready ? <div className=\"center\">\r\n                    {noData ? <h4>לא קיים מידע על המשתמש</h4> :\r\n                        <table style={{width: \"100%\"}} id=\"mdd\" className=\"tabels\" align=\"center\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    { this.props.dataArr.length > 0 && this.props.showDaily ? <th>מספר יום</th> : null}\r\n                                    { this.props.dataArr.length > 0 && this.props.weekly ? <th>מספר שבוע</th> : null} \r\n                                    { this.props.dataArr.length > 0 && this.props.monthly ? <th>מספר חודש</th> : null}     \r\n                                    { this.props.dataArr.length > 0 ? <th>תאריך</th> : null}\r\n                                    { this.props.steps ? <th>צעדים</th> : null }\r\n                                    { this.props.distance ? <th>מרחק</th> : null }\r\n                                    { this.props.calories ? <th>קלוריות</th> : null }\r\n                                    { this.props.weather ? <th>מזג האוויר</th> : null }\r\n                                    { this.props.sleep ? <th>שעות שינה קלה</th> : null }\r\n                                    { this.props.sleep ? <th>שעות שינה עמוקה</th> : null }\r\n                                    { this.props.sleep ? <th>סך כל שעות השינה</th> : null }\r\n                                </tr>\r\n                                {arr}\r\n                            </tbody>\r\n                        </table>}\r\n                    { this.props.dataArr.length > 0 && !noData ? <ExportCSV csvData={exportCSV} fileName={this.props.name + \" מדדים\"}/> : null}\r\n                    \r\n                </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Table","import React, {Component} from \"react\"\r\nimport {ExportCSV} from \"./ExportCSV\"\r\nimport \"./Table.css\"\r\n\r\n\r\nclass TableAns extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.handleChange = this.handleChange.bind(this)\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({[name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n    \r\n    \r\n\r\n\r\n    render() {\r\n        if(this.props.ready){\r\n            var noData = false;\r\n            if(this.props.data.length > 0){\r\n                var i, week = false;\r\n                var arr = []\r\n                var dates = []\r\n                let data = this.props.data;\r\n                var table = {};\r\n                var exportCSV = [];\r\n                var dateO = new Date(this.props.date), dateOStr;\r\n                var avgO = {};\r\n                avgO[\"before\"] = {sum: 0, counter: 0, text: \"\"};\r\n                avgO[\"after\"] = {sum: 0, counter: 0, text: \"\"};\r\n                if(this.props.weekly){\r\n                    var day = dateO.getDay();\r\n                    var sun = new Date(this.props.date - day * 86400000);\r\n                    var sat = new Date(sun.getTime() + 518400000);\r\n                    dateOStr = sun.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + sat.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                }\r\n                if(this.props.monthly){\r\n                    dateOStr = dateO.toLocaleDateString('en-GB', {month: 'short'});\r\n                }\r\n                var last = Math.min();\r\n                for(i = 0; i < data.length; i++){\r\n                    if(this.props.showDaily){\r\n                        var date = new Date(data[i].ValidTime);\r\n                        var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-');\r\n                        var text = \"\";\r\n                        for(var j = 0 ; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                            if(data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                text = text + \"לא נטלתי, \"\r\n                            }\r\n                            else if(data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                text = text + \"בסיסית, \"\r\n                            }\r\n                            else if(data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                text = text + \"מתקדמת, \"\r\n                            }\r\n                            else if(data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                text = text + \"נרקוטית, \"\r\n                            }\r\n                        }\r\n                        text = text.slice(0, -2);\r\n                        var d = new Date(data[i].ValidTime);\r\n                        d.setHours(0,0,0,0);\r\n                        dateO.setHours(0,0,0,0);\r\n                        var num = Math.floor((d.getTime() - this.props.date) / 86400000);\r\n                        if(num < 0){\r\n                            num++;\r\n                        }\r\n                        if(last === num){\r\n                            num++;\r\n                        }\r\n                        last = num;\r\n                        if(!this.props.date){\r\n                            num = \"-\"\r\n                        }\r\n                        arr.push(\r\n                            <tr key={i}>\r\n                                {(data[i].ValidTime < this.props.date || !this.props.date) ? <td className=\"before\">{num}</td> : <td className=\"after\">{num}</td>}\r\n                                {(data[i].ValidTime < this.props.date || !this.props.date) ? <td className=\"before\">{dateStr}</td> : <td className=\"after\">{dateStr}</td>}\r\n                                {(data[i].ValidTime < this.props.date || !this.props.date) ? <td className=\"before\">{data[i][\"Answers\"][0][\"AnswerID\"][0]}</td> : <td className=\"after\">{data[i][\"Answers\"][0][\"AnswerID\"][0]}</td>}\r\n                                {(data[i].ValidTime < this.props.date || !this.props.date) ? <td className=\"before\">{text}</td> : <td className=\"after\">{text}</td>}\r\n                            </tr>\r\n                        )\r\n                        var line = {};\r\n                        line[\"מספר יום\"] = num;\r\n                        line[\"תאריך\"] = dateStr;\r\n                        line[\"רמת כאב\"] = data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                        line[\"תרופה\"] = text;\r\n                        exportCSV.push(line);\r\n                    }\r\n                    else if(this.props.weekly){\r\n                        date = new Date(data[i].ValidTime)\r\n                        var dayOfWeek = date.getDay();\r\n                        var sunday = new Date(data[i].ValidTime - dayOfWeek * 86400000);\r\n                        var saturday = new Date(sunday.getTime() + 518400000);\r\n                        dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                                avgO[\"before\"][\"counter\"]++;\r\n                                for(j = 0; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                                    if(!avgO[\"before\"][\"text\"].includes(\"לא נטלתי\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                        avgO[\"before\"][\"text\"] += \"לא נטלתי, \"\r\n                                    }\r\n                                    else if(!avgO[\"before\"][\"text\"].includes(\"בסיסית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                        avgO[\"before\"][\"text\"] += \"בסיסית, \"\r\n                                    }\r\n                                    else if(!avgO[\"before\"][\"text\"].includes(\"מתקדמת\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                        avgO[\"before\"][\"text\"] += \"מתקדמת, \"\r\n                                    }\r\n                                    else if(!avgO[\"before\"][\"text\"].includes(\"נרקוטית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                        avgO[\"before\"][\"text\"] += \"נרקוטית, \"\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                                avgO[\"after\"][\"counter\"]++;\r\n                                for(j = 0; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                                    if(!avgO[\"after\"][\"text\"].includes(\"לא נטלתי\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                        avgO[\"after\"][\"text\"] += \"לא נטלתי, \"\r\n                                    }\r\n                                    else if(!avgO[\"after\"][\"text\"].includes(\"בסיסית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                        avgO[\"after\"][\"text\"] += \"בסיסית, \"\r\n                                    }\r\n                                    else if(!avgO[\"after\"][\"text\"].includes(\"מתקדמת\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                        avgO[\"after\"][\"text\"] += \"מתקדמת, \"\r\n                                    }\r\n                                    else if(!avgO[\"after\"][\"text\"].includes(\"נרקוטית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                        avgO[\"after\"][\"text\"] += \"נרקוטית, \"\r\n                                    }\r\n                                }\r\n                            }\r\n                            if(!week){\r\n                                dates.push(data[i].ValidTime);\r\n                                week = true;\r\n                            }\r\n                            continue;\r\n                        }\r\n                        if(table[dateStr] == null){\r\n                            table[dateStr] = {};\r\n                            table[dateStr][\"sum\"] = 0;\r\n                            table[dateStr][\"counter\"] = 0;\r\n                            table[dateStr][\"text\"] = \"\";\r\n                            dates.push(data[i].ValidTime);\r\n                        }\r\n                        table[dateStr][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                        table[dateStr][\"counter\"]++;\r\n                        for(j = 0 ; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                            if(!table[dateStr][\"text\"].includes(\"לא נטלתי\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                table[dateStr][\"text\"] += \"לא נטלתי, \"\r\n                            }\r\n                            else if(!table[dateStr][\"text\"].includes(\"בסיסית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                table[dateStr][\"text\"] += \"בסיסית, \"\r\n                            }\r\n                            else if(!table[dateStr][\"text\"].includes(\"מתקדמת\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                table[dateStr][\"text\"] += \"מתקדמת, \"\r\n                            }\r\n                            else if(!table[dateStr][\"text\"].includes(\"נרקוטית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                table[dateStr][\"text\"] += \"נרקוטית, \"\r\n                            }\r\n                        }\r\n                        \r\n                    }\r\n                    else if(this.props.monthly){\r\n                        date = new Date(data[i].ValidTime)\r\n                        dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                                avgO[\"before\"][\"counter\"]++;\r\n                                for(j = 0; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                                    if(!avgO[\"before\"][\"text\"].includes(\"לא נטלתי\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                        avgO[\"before\"][\"text\"] += \"לא נטלתי, \"\r\n                                    }\r\n                                    else if(!avgO[\"before\"][\"text\"].includes(\"בסיסית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                        avgO[\"before\"][\"text\"] += \"בסיסית, \"\r\n                                    }\r\n                                    else if(!avgO[\"before\"][\"text\"].includes(\"מתקדמת\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                        avgO[\"before\"][\"text\"] += \"מתקדמת, \"\r\n                                    }\r\n                                    else if(!avgO[\"before\"][\"text\"].includes(\"נרקוטית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                        avgO[\"before\"][\"text\"] += \"נרקוטית, \"\r\n                                    }\r\n                                }\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                                avgO[\"after\"][\"counter\"]++;\r\n                                for(j = 0; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                                    if(!avgO[\"after\"][\"text\"].includes(\"לא נטלתי\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                        avgO[\"after\"][\"text\"] += \"לא נטלתי, \"\r\n                                    }\r\n                                    else if(!avgO[\"after\"][\"text\"].includes(\"בסיסית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                        avgO[\"after\"][\"text\"] += \"בסיסית, \"\r\n                                    }\r\n                                    else if(!avgO[\"after\"][\"text\"].includes(\"מתקדמת\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                        avgO[\"after\"][\"text\"] += \"מתקדמת, \"\r\n                                    }\r\n                                    else if(!avgO[\"after\"][\"text\"].includes(\"נרקוטית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                        avgO[\"after\"][\"text\"] += \"נרקוטית, \"\r\n                                    }\r\n                                }\r\n                            }\r\n                            if(!week){\r\n                                dates.push(data[i].ValidTime);\r\n                                week = true;\r\n                            }\r\n                            continue;\r\n                        }\r\n                        if(table[dateStr] == null){\r\n                            table[dateStr] = {};\r\n                            table[dateStr][\"sum\"] = 0;\r\n                            table[dateStr][\"counter\"] = 0;\r\n                            table[dateStr][\"text\"] = \"\";\r\n                            dates.push(data[i].ValidTime);\r\n                        }\r\n                        table[dateStr][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                        table[dateStr][\"counter\"]++;\r\n                        for(j = 0 ; j < data[i][\"Answers\"][1][\"AnswerID\"].length; j++){\r\n                            if(!table[dateStr][\"text\"].includes(\"לא נטלתי\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 0){\r\n                                table[dateStr][\"text\"] += \"לא נטלתי, \"\r\n                            }\r\n                            else if(!table[dateStr][\"text\"].includes(\"בסיסית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 1){\r\n                                table[dateStr][\"text\"] += \"בסיסית, \"\r\n                            }\r\n                            else if(!table[dateStr][\"text\"].includes(\"מתקדמת\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 2){\r\n                                table[dateStr][\"text\"] += \"מתקדמת, \"\r\n                            }\r\n                            else if(!table[dateStr][\"text\"].includes(\"נרקוטית\") && data[i][\"Answers\"][1][\"AnswerID\"][j] === 3){\r\n                                table[dateStr][\"text\"] += \"נרקוטית, \"\r\n                            }\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n                dates = dates.sort();\r\n                if(this.props.weekly || this.props.monthly){\r\n                    for (let [key,] of Object.entries(table)) {\r\n                        table[key][\"Data\"] = table[key][\"sum\"] / table[key][\"counter\"];\r\n                    }\r\n                    var o = new Date(this.props.date);\r\n                    for(i = 0; i < dates.length; i++){\r\n                        date = new Date(dates[i]);\r\n                        d = new Date(dates[i]);\r\n                        d.setHours(0,0,0,0);\r\n                        if(this.props.weekly){\r\n                            var sundayO = new Date(o.getTime() - o.getDay() * 86400000);\r\n                            sundayO.setHours(0,0,0,0);\r\n                            dayOfWeek = date.getDay();\r\n                            sunday = new Date(date.getTime() - dayOfWeek * 86400000);\r\n                            sunday.setHours(0,0,0,0);\r\n                            saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                            num = Math.floor((sunday.getTime() - sundayO.getTime()) / 604800000);\r\n                        }\r\n                        else{\r\n                            var firstDay = new Date(d.getFullYear(), d.getMonth(), 1);\r\n                            var firstDayO = new Date(o.getFullYear(), o.getMonth(), 1);\r\n                            num = Math.floor((firstDay.getTime() - firstDayO.getTime()) / 2419200000);\r\n                            if(num < 0){\r\n                                num++;\r\n                            }\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        }\r\n                        if(last === num){\r\n                            num++;\r\n                        }\r\n                        last = num;\r\n                        if(!this.props.date){\r\n                            num = \"-\"\r\n                        }\r\n                        if(dateStr === dateOStr){\r\n                            avgO[\"before\"][\"text\"] =  avgO[\"before\"][\"text\"].slice(0, -2);\r\n                            avgO[\"after\"][\"text\"] =  avgO[\"after\"][\"text\"].slice(0, -2);\r\n                            arr.push(\r\n                                <tr key={dateStr + \"before\"}>\r\n                                    <td className=\"before\">{num}</td>\r\n                                    <td className=\"before\">{dateStr}</td>\r\n                                    {avgO[\"before\"][\"counter\"] ? <td className=\"before\">{(avgO[\"before\"][\"sum\"] / avgO[\"before\"][\"counter\"]).toFixed(2)}</td> : <td className=\"before\">-</td>}\r\n                                    {avgO[\"before\"][\"counter\"] ? <td className=\"before\">{avgO[\"before\"][\"text\"]}</td> : <td className=\"before\">-</td>}\r\n                                </tr>\r\n                            )\r\n                            arr.push(\r\n                                <tr key={dateStr + \"after\"}>\r\n                                    <td className=\"after\">{num}</td>\r\n                                    <td className=\"after\">{dateStr}</td>\r\n                                    {avgO[\"after\"][\"counter\"] ? <td className=\"after\">{(avgO[\"after\"][\"sum\"] / avgO[\"after\"][\"counter\"]).toFixed(2)}</td> : <td className=\"after\">-</td>}\r\n                                    {avgO[\"after\"][\"counter\"] ? <td className=\"after\">{avgO[\"after\"][\"text\"]}</td> : <td className=\"after\">-</td>}\r\n                                </tr>\r\n                            )\r\n                            var z = 0;\r\n                            line = {};\r\n                            if(this.props.date){\r\n                                if(this.props.weekly){\r\n                                    line[\"מספר שבוע\"] = z;\r\n                                }\r\n                                else{\r\n                                    line[\"מספר חודש\"] = z;\r\n                                }\r\n                            }\r\n                            line[\"תאריך\"] = dateStr;\r\n                            line[\"רמת כאב\"] = (avgO[\"before\"][\"sum\"] / avgO[\"before\"][\"counter\"]).toFixed(2);\r\n                            line[\"תרופות שהיו בשימוש\"] = avgO[\"before\"][\"text\"];\r\n                            exportCSV.push(line);\r\n                            line = {};\r\n                            if(this.props.date){\r\n                                if(this.props.weekly){\r\n                                    line[\"מספר שבוע\"] = z;\r\n                                }\r\n                                else{\r\n                                    line[\"מספר חודש\"] = z;\r\n                                }\r\n                            }\r\n                            line[\"תאריך\"] = dateStr;\r\n                            line[\"רמת כאב\"] = (avgO[\"after\"][\"sum\"] / avgO[\"after\"][\"counter\"]).toFixed(2);\r\n                            line[\"תרופות שהיו בשימוש\"] = avgO[\"after\"][\"text\"];\r\n                            exportCSV.push(line);\r\n                            continue;\r\n                        }\r\n                        table[dateStr][\"text\"] =  table[dateStr][\"text\"].slice(0, -2);\r\n                        arr.push(\r\n                            <tr key={dateStr}>\r\n                                 {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{num}</td> : <td className=\"after\">{num}</td>}\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{dateStr}</td> : <td className=\"after\">{dateStr}</td>}\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{table[dateStr][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{table[dateStr][\"Data\"].toFixed(2)}</td>}\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{table[dateStr][\"text\"]}</td> : <td className=\"after\">{table[dateStr][\"text\"]}</td>}\r\n                            </tr>\r\n                        )\r\n                        line = {};\r\n                        if(this.props.date){\r\n                            if(this.props.weekly){\r\n                                line[\"מספר שבוע\"] = num;\r\n                            }\r\n                            else{\r\n                                line[\"מספר חודש\"] = num;\r\n                            }\r\n                        }\r\n                        line[\"תאריך\"] = dateStr;\r\n                        line[\"רמת כאב\"] = table[dateStr];\r\n                        if(this.props.showDaily){\r\n                            line[\"תרופה\"] = text;\r\n                        }\r\n                        else{\r\n                            line[\"תרופות שהיו בשימוש\"] =  table[dateStr][\"text\"];\r\n                        }\r\n                        exportCSV.push(line);\r\n                    }\r\n                }\r\n            }\r\n            else{\r\n                noData = true;\r\n            }\r\n        }\r\n        return(\r\n            <div>\r\n                {this.props.ready ? <div>{noData ? <h4>לא קיים מידע על המשתמש</h4> :\r\n                    <div className=\"center\">\r\n                    <table style={{width: \"100%\"}} id=\"daily\" className=\"tabels\">\r\n                        <tbody>\r\n                            <tr>\r\n                                { this.props.showDaily ? <th>מספר יום</th> : null}\r\n                                { this.props.weekly ? <th>מספר שבוע</th> : null} \r\n                                { this.props.monthly ? <th>מספר חודש</th> : null}\r\n                                <th>תאריך</th>\r\n                                <th>רמת כאב</th>\r\n                                {this.props.showDaily ? <th>תרופה</th> : <th>תרופות שהיו בשימוש</th>}\r\n                            </tr>\r\n                            {arr}\r\n                        </tbody>\r\n                    </table>\r\n                    <ExportCSV csvData={exportCSV} fileName={this.props.name + \" שאלון יומי\"}/>\r\n                    </div>}  </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TableAns","import React, {Component} from \"react\"\r\n//import LineChart from 'react-linechart';\r\nimport {LineChart} from 'react-chartkick'\r\nimport 'chart.js'\r\n\r\nclass Graph extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.sort_by_key = function(array, key)\r\n        {\r\n         return array.sort(function(a, b)\r\n         {\r\n          var x = a[key]; var y = b[key];\r\n          return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n         });\r\n        }\r\n    }\r\n\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({[name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n\r\n    render() {\r\n        if(this.props.ready){\r\n            var noData = false;\r\n            if(this.props.data && this.props.data.length > 0){\r\n                var data = this.sort_by_key(this.props.data, \"Timestamp\")\r\n                var points = {};\r\n                var min  = 0, week = false;\r\n                var oDay = new Date(this.props.date);\r\n                var line = {};\r\n                var table = {};\r\n                var dates = [];\r\n                var dateO, dateOStr;\r\n                if(this.props.weekly){\r\n                    dateO = new Date(this.props.date);\r\n                    var day = dateO.getDay();\r\n                    var sun = new Date(this.props.date - day * 86400000);\r\n                    var sat = new Date(sun.getTime() + 518400000);\r\n                    dateOStr = sun.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + sat.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                }\r\n                if(this.props.monthly){\r\n                    dateO = new Date(this.props.date);\r\n                    dateOStr = dateO.toLocaleDateString('en-GB', {month: 'short'});\r\n                }\r\n                var avgO = {};\r\n                avgO[\"before\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"]= {sum: 0, counter: 0};\r\n                for(var i = 0; i < data.length; i++){\r\n                    if(data[i].Data < 0){\r\n                        min = -1;\r\n                    }\r\n                    if(this.props.showDaily){\r\n                        var date = new Date(data[i].ValidTime)\r\n                        var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short', year:\"numeric\"}).replace(/ /g, '-')\r\n                        if(date <= oDay){\r\n                            points[dateStr] = data[i].Data.toFixed(2);\r\n                        }\r\n                        if(date >= oDay){\r\n                            line[dateStr] = data[i].Data.toFixed(2)\r\n                        }\r\n                    }\r\n                    else if(this.props.weekly){\r\n                        date = new Date(data[i].ValidTime);\r\n                        var dayOfWeek = date.getDay();\r\n                        var sunday = new Date(data[i].ValidTime - dayOfWeek * 86400000);\r\n                        var saturday = new Date(sunday.getTime() + 518400000);\r\n                        dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"sum\"] += data[i].Data;\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"sum\"] += data[i].Data; \r\n                            }\r\n                            if(!week){\r\n                                week = true;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                        }\r\n                        else{ \r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                table[dateStr][\"counter\"] = 0;\r\n                                table[dateStr][\"sum\"] = 0;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                            table[dateStr][\"sum\"] += data[i].Data;\r\n                            table[dateStr][\"counter\"]++;\r\n                        }\r\n                    }\r\n                    else if(this.props.monthly){\r\n                        date = new Date(data[i].ValidTime);;\r\n                        dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"sum\"] += data[i].Data;\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"sum\"] += data[i].Data; \r\n                            }\r\n                            if(!week){\r\n                                week = true;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                table[dateStr][\"counter\"] = 0;\r\n                                table[dateStr][\"sum\"] = 0;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                            table[dateStr][\"sum\"] += data[i].Data;\r\n                            table[dateStr][\"counter\"]++;\r\n                        }\r\n                    }\r\n                }\r\n                dates = dates.sort();\r\n                if(this.props.weekly || this.props.monthly){\r\n                    for (i = 0; i < dates.length; i++) {\r\n                        date = new Date(dates[i]);\r\n                        if(this.props.weekly){\r\n                            dayOfWeek = date.getDay();\r\n                            sunday = new Date(date.getTime() - dayOfWeek * 86400000);\r\n                            saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        }\r\n                        else{\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        }\r\n                        if(dateStr === dateOStr){\r\n                            points[dateStr] = (avgO[\"before\"][\"sum\"] /  avgO[\"before\"][\"counter\"]).toFixed(2);\r\n                            line[dateStr] = (avgO[\"after\"][\"sum\"] /  avgO[\"after\"][\"counter\"]).toFixed(2);\r\n                            continue;\r\n                        }\r\n                        if(date <= oDay){\r\n                            points[dateStr] = (table[dateStr][\"sum\"] /  table[dateStr][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(date >= oDay){\r\n                            line[dateStr] = (table[dateStr][\"sum\"] /  table[dateStr][\"counter\"]).toFixed(2);\r\n                        }\r\n                    }\r\n                }\r\n                var dataX = [\r\n                    {\"name\": \"לפני הניתוח\", \"data\": points},\r\n                    {\"name\": \"אחרי הניתוח\", \"data\": line}\r\n                ];\r\n            }\r\n            else{\r\n                noData = true;\r\n            }\r\n        }\r\n\t\treturn (\r\n            <div>\r\n                {this.props.ready ? <div>\r\n                    <div className=\"App\">\r\n                        <h1>{this.props.name}</h1>\r\n                        {noData ? <h4>לא קיים מידע על המשתמש</h4> : <LineChart download={true} data={dataX} min={min} />}\r\n                    </div>\t\r\n                </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Graph","import React, {Component} from \"react\"\r\nimport {ExportCSV} from \"./ExportCSV\"\r\n//import \"./TablePer.css\"\r\n\r\n\r\nclass TablePer extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.handleChange = this.handleChange.bind(this);\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({[name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n    \r\n    \r\n\r\n\r\n    render() {\r\n        require(\"./Table.css\");\r\n        if(this.props.ready){\r\n            var noData = true;\r\n            for(var  i = 0; i < this.props.data.length; i++){\r\n                if( this.props.data[i].data.length > 0 ){\r\n                    noData = false;\r\n                }\r\n            }\r\n            if(!noData){\r\n                var table = {};\r\n                var data = this.props.data;\r\n                var j, week = false;\r\n                var dates = [];\r\n                var dic = {};\r\n                var dateO, dateOStr;\r\n                var avgO = {};\r\n                avgO[\"before\"] = {\"1\": {}, \"2\": {}, \"3\": {}, \"4\": {}, \"5\": {}, \"6\": 0};\r\n                avgO[\"after\"] = {\"1\": {}, \"2\": {}, \"3\": {}, \"4\": {}, \"5\": {}, \"6\": 0};\r\n                avgO[\"before\"][\"1\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"2\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"3\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"4\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"5\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"6\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"1\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"2\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"3\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"4\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"5\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"6\"] = {sum: 0, counter: 0};\r\n                if(this.props.weekly){\r\n                    dateO = new Date(this.props.date);\r\n                    var day = dateO.getDay();\r\n                    var sun = new Date(this.props.date - day * 86400000);\r\n                    var sat = new Date(sun.getTime() + 518400000);\r\n                    dateOStr = sun.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + sat.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                }\r\n                if(this.props.monthly){\r\n                    dateO = new Date(this.props.date);\r\n                    dateOStr = dateO.toLocaleDateString('en-GB', {month: 'short'});\r\n                }\r\n                for(i = 0; i < data.length; i++){\r\n                    for(j = 0; j < data[i].data.length; j++){\r\n                        if(this.props.showDaily){\r\n                            var date = new Date(data[i].data[j].ValidTime)\r\n                            var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-')\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                dates.push(data[i].data[j].ValidTime);\r\n                            }\r\n                            table[dateStr][data[i].data[j].QuestionnaireID] = data[i].data[j].Score;\r\n                            dic[data[i].data[j].QuestionnaireID] = true;\r\n                        }\r\n                        else if(this.props.weekly){\r\n                            dic[data[i].data[j].QuestionnaireID] = true;\r\n                            date = new Date(data[i].data[j].ValidTime)\r\n                            var dayOfWeek = date.getDay();\r\n                            var sunday = new Date(data[i].data[j].ValidTime - dayOfWeek * 86400000);\r\n                            var saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                            if(dateOStr === dateStr){\r\n                                if(data[i].data[j].ValidTime < this.props.date){\r\n                                    avgO[\"before\"][data[i].data[j].QuestionnaireID][\"sum\"] += data[i].data[j].Score;\r\n                                    avgO[\"before\"][data[i].data[j].QuestionnaireID][\"counter\"]++;\r\n                                }\r\n                                else{\r\n                                    avgO[\"after\"][data[i].data[j].QuestionnaireID][\"sum\"] += data[i].data[j].Score;\r\n                                    avgO[\"after\"][data[i].data[j].QuestionnaireID][\"counter\"]++;\r\n                                }\r\n                                if(!week){\r\n                                    dates.push(data[i].data[j].ValidTime);\r\n                                    week = true;\r\n                                }\r\n                                continue;\r\n                            }\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                dates.push(data[i].data[j].ValidTime);\r\n                            }\r\n                            if(table[dateStr][data[i].data[j].QuestionnaireID] == null){\r\n                                table[dateStr][data[i].data[j].QuestionnaireID] = {};\r\n                                table[dateStr][data[i].data[j].QuestionnaireID][\"sum\"] = 0;\r\n                                table[dateStr][data[i].data[j].QuestionnaireID][\"counter\"] = 0;\r\n                            }\r\n                            table[dateStr][data[i].data[j].QuestionnaireID][\"sum\"] += data[i].data[j].Score;\r\n                            table[dateStr][data[i].data[j].QuestionnaireID][\"counter\"]++;\r\n                            dic[data[i].data[j].QuestionnaireID] = true;\r\n                        }\r\n                        else if(this.props.monthly){\r\n                            dic[data[i].data[j].QuestionnaireID] = true;\r\n                            date = new Date(data[i].data[j].ValidTime)\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                            if(dateOStr === dateStr){\r\n                                if(data[i].data[j].ValidTime < this.props.date){\r\n                                    avgO[\"before\"][data[i].data[j].QuestionnaireID][\"sum\"] += data[i].data[j].Score;\r\n                                    avgO[\"before\"][data[i].data[j].QuestionnaireID][\"counter\"]++;\r\n                                }\r\n                                else{\r\n                                    avgO[\"after\"][data[i].data[j].QuestionnaireID][\"sum\"] += data[i].data[j].Score;\r\n                                    avgO[\"after\"][data[i].data[j].QuestionnaireID][\"counter\"]++;\r\n                                }\r\n                                if(!week){\r\n                                    dates.push(data[i].data[j].ValidTime);\r\n                                    week = true;\r\n                                }\r\n                                continue;\r\n                            }\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                dates.push(data[i].data[j].ValidTime);\r\n                            }\r\n                            if(table[dateStr][data[i].data[j].QuestionnaireID] == null){\r\n                                table[dateStr][data[i].data[j].QuestionnaireID] = {};\r\n                                table[dateStr][data[i].data[j].QuestionnaireID][\"sum\"] = 0;\r\n                                table[dateStr][data[i].data[j].QuestionnaireID][\"counter\"] = 0;\r\n                            }\r\n                            table[dateStr][data[i].data[j].QuestionnaireID][\"sum\"] += data[i].data[j].Score;\r\n                            table[dateStr][data[i].data[j].QuestionnaireID][\"counter\"]++;\r\n                            dic[data[i].data[j].QuestionnaireID] = true;\r\n                        }\r\n                    }\r\n                }\r\n                dates = dates.sort();\r\n                var arr = [], exportCSV = [];\r\n                if(this.props.weekly || this.props.monthly){\r\n                    for (let [key,] of Object.entries(table)) {\r\n                        for (let [key1,] of Object.entries(table[key])) {\r\n                            table[key][key1][\"Data\"] = table[key][key1][\"sum\"] / table[key][key1][\"counter\"];\r\n                        }\r\n                    }\r\n                }\r\n                var last = Math.min();\r\n                for(i = 0; i < dates.length; i++){\r\n                    var line = {};\r\n                    date = new Date(dates[i]);\r\n                    dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-');\r\n                    if(this.props.showDaily){\r\n                        var d = new Date(dates[i]);\r\n                        d.setHours(0,0,0,0);\r\n                        var num = Math.floor((d.getTime() - this.props.date) / 86400000);\r\n                        if(num < 0){\r\n                            num++;\r\n                        }\r\n                        if(last === num){\r\n                            num++;\r\n                        }\r\n                        last = num;\r\n                        if(!this.props.date){\r\n                            num = \"-\"\r\n                        }\r\n                        table[dateStr][\"num\"] = num;\r\n                        arr.push(\r\n                            <tr key={dateStr}>\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{num}</td> : <td className=\"after\">{num}</td>}\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{dateStr}</td> : <td className=\"after\">{dateStr}</td>}\r\n                                { dic[\"1\"] ? ((table[dateStr][\"1\"] >= 0 || table[dateStr][\"1\"] < 0) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"1\"]}</td> : <td className=\"after\">{ table[dateStr][\"1\"]}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"2\"] ? ((table[dateStr][\"2\"] >= 0 || table[dateStr][\"2\"] < 0) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"2\"]}</td> : <td className=\"after\">{ table[dateStr][\"2\"]}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"3\"] ? ((table[dateStr][\"3\"] >= 0 || table[dateStr][\"3\"] < 0) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"3\"]}</td> : <td className=\"after\">{ table[dateStr][\"3\"]}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"4\"] ? ((table[dateStr][\"4\"] >= 0 || table[dateStr][\"4\"] < 0) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"4\"]}</td> : <td className=\"after\">{ table[dateStr][\"4\"]}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"5\"] ? ((table[dateStr][\"5\"] >= 0 || table[dateStr][\"5\"] < 0) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"5\"]}</td> : <td className=\"after\">{ table[dateStr][\"5\"]}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"6\"] ? ((table[dateStr][\"6\"] >= 0 || table[dateStr][\"6\"] < 0) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"6\"]}</td> : <td className=\"after\">{ table[dateStr][\"6\"]}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                            </tr>\r\n                        );\r\n                    }\r\n                    else if(this.props.weekly || this.props.monthly){\r\n                        var o = new Date(this.props.date);\r\n                        d = new Date(dates[i]);\r\n                        d.setHours(0,0,0,0);\r\n                        if(this.props.weekly){\r\n                            var sundayO = new Date(o.getTime() - o.getDay() * 86400000);\r\n                            sundayO.setHours(0,0,0,0);\r\n                            dayOfWeek = date.getDay();\r\n                            sunday = new Date(date.getTime() - dayOfWeek * 86400000);\r\n                            sunday.setHours(0,0,0,0);\r\n                            saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \"-\" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                            num = Math.floor((sunday.getTime() - sundayO.getTime()) / 604800000);\r\n                        }\r\n                        else{\r\n                            var firstDay = new Date(d.getFullYear(), d.getMonth(), 1);\r\n                            var firstDayO = new Date(o.getFullYear(), o.getMonth(), 1);\r\n                            num = Math.floor((firstDay.getTime() - firstDayO.getTime()) / 2419200000);\r\n                            if(num < 0){\r\n                                num++;\r\n                            }\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        }\r\n                        if(last === num){\r\n                            num++;\r\n                        }\r\n                        last = num;\r\n                        if(!this.props.date){\r\n                            num = \"-\"\r\n                        }\r\n                        if(dateStr === dateOStr){\r\n                            arr.push(\r\n                                <tr key={dateStr + \"before\"}>\r\n                                    <td className=\"before\">{0}</td>\r\n                                    <td className=\"before\">{dateStr}</td>\r\n                                    { dic[\"1\"] ? (avgO[\"before\"][\"1\"][\"counter\"] ? <td className=\"before\"> {(avgO[\"before\"][\"1\"][\"sum\"] / avgO[\"before\"][\"1\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"before\"> - </td>) : null}\r\n                                    { dic[\"2\"] ? (avgO[\"before\"][\"2\"][\"counter\"] ? <td className=\"before\"> {(avgO[\"before\"][\"2\"][\"sum\"] / avgO[\"before\"][\"2\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"before\"> - </td>) : null}\r\n                                    { dic[\"3\"] ? (avgO[\"before\"][\"3\"][\"counter\"] ? <td className=\"before\"> {(avgO[\"before\"][\"3\"][\"sum\"] / avgO[\"before\"][\"3\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"before\"> - </td>) : null}\r\n                                    { dic[\"4\"] ? (avgO[\"before\"][\"4\"][\"counter\"] ? <td className=\"before\"> {(avgO[\"before\"][\"4\"][\"sum\"] / avgO[\"before\"][\"4\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"before\"> - </td>) : null}\r\n                                    { dic[\"5\"] ? (avgO[\"before\"][\"5\"][\"counter\"] ? <td className=\"before\"> {(avgO[\"before\"][\"5\"][\"sum\"] / avgO[\"before\"][\"5\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"before\"> - </td>) : null}\r\n                                    { dic[\"6\"] ? (avgO[\"before\"][\"6\"][\"counter\"] ? <td className=\"before\"> {(avgO[\"before\"][\"6\"][\"sum\"] / avgO[\"before\"][\"6\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"before\"> - </td>) : null}\r\n                                    </tr>\r\n                            )\r\n                            arr.push(\r\n                                <tr key={dateStr + \"after\"}>\r\n                                    <td className=\"after\">{0}</td>\r\n                                    <td className=\"after\">{dateStr}</td>\r\n                                    { dic[\"1\"] ? (avgO[\"after\"][\"1\"][\"counter\"] ? <td className=\"after\"> {(avgO[\"after\"][\"1\"][\"sum\"] / avgO[\"after\"][\"1\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"after\"> - </td>) : null}\r\n                                    { dic[\"2\"] ? (avgO[\"after\"][\"2\"][\"counter\"] ? <td className=\"after\"> {(avgO[\"after\"][\"2\"][\"sum\"] / avgO[\"after\"][\"2\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"after\"> - </td>) : null}\r\n                                    { dic[\"3\"] ? (avgO[\"after\"][\"3\"][\"counter\"] ? <td className=\"after\"> {(avgO[\"after\"][\"3\"][\"sum\"] / avgO[\"after\"][\"3\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"after\"> - </td>) : null}\r\n                                    { dic[\"4\"] ? (avgO[\"after\"][\"4\"][\"counter\"] ? <td className=\"after\"> {(avgO[\"after\"][\"4\"][\"sum\"] / avgO[\"after\"][\"4\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"after\"> - </td>) : null}\r\n                                    { dic[\"5\"] ? (avgO[\"after\"][\"5\"][\"counter\"] ? <td className=\"after\"> {(avgO[\"after\"][\"5\"][\"sum\"] / avgO[\"after\"][\"5\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"after\"> - </td>) : null}\r\n                                    { dic[\"6\"] ? (avgO[\"after\"][\"6\"][\"counter\"] ? <td className=\"after\"> {(avgO[\"after\"][\"6\"][\"sum\"] / avgO[\"after\"][\"6\"][\"counter\"]).toFixed(2)} </td>  : <td className=\"after\"> - </td>) : null}\r\n                                    </tr>\r\n                            )\r\n                            line = {};\r\n                            var z  = 0;\r\n                            if(this.props.date){\r\n                                if(this.props.weekly){\r\n                                    line[\"מספר שבוע\"] = z;\r\n                                }\r\n                                else{\r\n                                    line[\"מספר חודש\"] = z;\r\n                                }\r\n                            }\r\n                            line[\"תאריך\"] = dateStr;\r\n                            if(dic[\"1\"] && avgO[\"before\"][\"1\"][\"counter\"]){\r\n                                line[\"Oswestry Disability Index\"] = (avgO[\"before\"][\"1\"][\"sum\"] / avgO[\"before\"][\"1\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"2\"] && avgO[\"before\"][\"2\"][\"counter\"]){\r\n                                line[\"Neck Disability Index\"] = (avgO[\"before\"][\"2\"][\"sum\"] / avgO[\"before\"][\"2\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"3\"] && avgO[\"before\"][\"3\"][\"counter\"]){\r\n                                line[\"Lower Extremity Functional Scale\"] = (avgO[\"before\"][\"3\"][\"sum\"] / avgO[\"before\"][\"3\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"41\"] && avgO[\"before\"][\"4\"][\"counter\"]){\r\n                                line[\"Oswestry low back pain\"] = (avgO[\"before\"][\"4\"][\"sum\"] / avgO[\"before\"][\"4\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"5\"] && avgO[\"before\"][\"5\"][\"counter\"]){\r\n                                line[\"EQ-5D\"] = (avgO[\"before\"][\"5\"][\"sum\"] / avgO[\"before\"][\"5\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"6\"] && avgO[\"before\"][\"6\"][\"counter\"]){\r\n                                line[\"EQ-5D\"] = (avgO[\"before\"][\"6\"][\"sum\"] / avgO[\"before\"][\"6\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            exportCSV.push(line);\r\n                            line = {};\r\n                            if(this.props.date){\r\n                                if(this.props.weekly){\r\n                                    line[\"מספר שבוע\"] = z;\r\n                                }\r\n                                else{\r\n                                    line[\"מספר חודש\"] = z;\r\n                                }\r\n                            }\r\n                            line[\"תאריך\"] = dateStr;\r\n                            if(dic[\"1\"] && avgO[\"after\"][\"1\"][\"counter\"]){\r\n                                line[\"Oswestry Disability Index\"] = (avgO[\"after\"][\"1\"][\"sum\"] / avgO[\"after\"][\"1\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"2\"] && avgO[\"after\"][\"2\"][\"counter\"]){\r\n                                line[\"Neck Disability Index\"] = (avgO[\"after\"][\"2\"][\"sum\"] / avgO[\"after\"][\"2\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"3\"] && avgO[\"after\"][\"3\"][\"counter\"]){\r\n                                line[\"Lower Extremity Functional Scale\"] = (avgO[\"after\"][\"3\"][\"sum\"] / avgO[\"after\"][\"3\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"41\"] && avgO[\"after\"][\"4\"][\"counter\"]){\r\n                                line[\"Oswestry low back pain\"] = (avgO[\"after\"][\"4\"][\"sum\"] / avgO[\"after\"][\"4\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"5\"] && avgO[\"after\"][\"5\"][\"counter\"]){\r\n                                line[\"EQ-5D\"] = (avgO[\"after\"][\"5\"][\"sum\"] / avgO[\"after\"][\"5\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            if(dic[\"6\"] && avgO[\"after\"][\"6\"][\"counter\"]){\r\n                                line[\"EQ-5D\"] = (avgO[\"after\"][\"6\"][\"sum\"] / avgO[\"after\"][\"6\"][\"counter\"]).toFixed(2);\r\n                            }\r\n                            exportCSV.push(line);\r\n                            continue;\r\n                        }\r\n                        arr.push(\r\n                            <tr key={dateStr}>\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{num}</td> : <td className=\"after\">{num}</td>}\r\n                                {(dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{dateStr}</td> : <td className=\"after\">{dateStr}</td>}\r\n                                { dic[\"1\"] ? ((table[dateStr][\"1\"] && (table[dateStr][\"1\"][\"Data\"] >= 0 || table[dateStr][\"1\"][\"Data\"] < 0)) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"1\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"1\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"2\"] ? ((table[dateStr][\"2\"] && (table[dateStr][\"2\"][\"Data\"] >= 0 || table[dateStr][\"2\"][\"Data\"] < 0)) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"2\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"2\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"3\"] ? ((table[dateStr][\"3\"] && (table[dateStr][\"3\"][\"Data\"] >= 0 || table[dateStr][\"3\"][\"Data\"] < 0)) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"3\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"3\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"4\"] ? ((table[dateStr][\"4\"] && (table[dateStr][\"4\"][\"Data\"] >= 0 || table[dateStr][\"4\"][\"Data\"] < 0)) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"4\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"4\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"5\"] ? ((table[dateStr][\"5\"] && (table[dateStr][\"5\"][\"Data\"] >= 0 || table[dateStr][\"5\"][\"Data\"] < 0)) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"5\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"5\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                                { dic[\"6\"] ? ((table[dateStr][\"6\"] && (table[dateStr][\"6\"][\"Data\"] >= 0 || table[dateStr][\"6\"][\"Data\"] < 0)) ? ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">{ table[dateStr][\"6\"][\"Data\"].toFixed(2)}</td> : <td className=\"after\">{ table[dateStr][\"6\"][\"Data\"].toFixed(2)}</td>) : ((dates[i] < this.props.date || !this.props.date) ? <td className=\"before\">-</td> : <td className=\"after\">-</td>)) : null }\r\n                            </tr>\r\n                        )\r\n                    }\r\n                    line = {};\r\n                    if(this.props.date){\r\n                        if(this.props.showDaily){\r\n                            line[\"מספר יום\"] = num;\r\n                        }\r\n                        else if(this.props.weekly){\r\n                            line[\"מספר שבוע\"] = num;\r\n                        }\r\n                        else{\r\n                            line[\"מספר חודש\"] = num;\r\n                        }\r\n                    }\r\n                    line[\"תאריך\"] = dateStr;\r\n                    if(this.props.showDaily){\r\n                        if(dic[\"1\"] && (table[dateStr][\"1\"] > 0 || table[dateStr][\"1\"] <= 0)){\r\n                            line[\"Oswestry Disability Index\"] = table[dateStr][\"1\"];\r\n                        }\r\n                        if(dic[\"2\"] && (table[dateStr][\"2\"] > 0 || table[dateStr][\"2\"] <= 0)){\r\n                            line[\"Neck Disability Index\"] = table[dateStr][\"2\"];\r\n                        }\r\n                        if(dic[\"3\"] && (table[dateStr][\"3\"] > 0 || table[dateStr][\"3\"] <= 0)){\r\n                            line[\"Lower Extremity Functional Scale\"] = table[dateStr][\"3\"];\r\n                        }\r\n                        if(dic[\"4\"] && (table[dateStr][\"4\"] > 0 || table[dateStr][\"4\"] <= 0)){\r\n                            line[\"Oswestry low back pain\"] = table[dateStr][\"4\"];\r\n                        }\r\n                        if(dic[\"5\"] && (table[dateStr][\"5\"] > 0 || table[dateStr][\"5\"] <= 0)){\r\n                            line[\"EQ-5D\"] = table[dateStr][\"5\"];\r\n                        }\r\n                        if(dic[\"6\"] && (table[dateStr][\"6\"] > 0 || table[dateStr][\"6\"] <= 0)){\r\n                            line[\"EQ-5D scale\"] = table[dateStr][\"6\"];\r\n                        }\r\n                    }\r\n                    else{\r\n                        if(dic[\"1\"] && table[dateStr][\"1\"] && table[dateStr][\"1\"][\"counter\"]){\r\n                            line[\"Oswestry Disability Index\"] = table[dateStr][\"1\"][\"Data\"].toFixed(2);\r\n                        }\r\n                        if(dic[\"2\"] && table[dateStr][\"2\"] && table[dateStr][\"2\"][\"counter\"]){\r\n                            line[\"Neck Disability Index\"] = table[dateStr][\"2\"][\"Data\"].toFixed(2);\r\n                        }\r\n                        if(dic[\"3\"] && table[dateStr][\"3\"] && table[dateStr][\"3\"][\"counter\"]){\r\n                            line[\"Lower Extremity Functional Scale\"] = table[dateStr][\"3\"][\"Data\"].toFixed(2);\r\n                        }\r\n                        if(dic[\"4\"] && table[dateStr][\"4\"] && table[dateStr][\"4\"][\"counter\"]){\r\n                            line[\"Oswestry low back pain\"] = table[dateStr][\"4\"][\"Data\"].toFixed(2);\r\n                        }\r\n                        if(dic[\"5\"] && table[dateStr][\"5\"] && table[dateStr][\"5\"][\"counter\"]){\r\n                            line[\"EQ-5D\"] = table[dateStr][\"5\"][\"Data\"].toFixed(2);\r\n                        }\r\n                        if(dic[\"6\"] && table[dateStr][\"6\"] && table[dateStr][\"6\"][\"counter\"]){\r\n                            line[\"EQ-5D scale\"] = table[dateStr][\"6\"][\"Data\"].toFixed(2);\r\n                        }\r\n                    }\r\n                    exportCSV.push(line);\r\n\r\n                }\r\n            }\r\n            else{\r\n                noData = true;\r\n            }\r\n        }\r\n        return(\r\n            <div>\r\n                {this.props.ready ?  <div>{noData ? <h4>לא קיים מידע על המשתמש</h4> :\r\n                    <div>\r\n                        <table style={{width: \"100%\"}} id=\"per\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    { this.props.showDaily ? <th>מספר יום</th> : null}\r\n                                    { this.props.weekly ? <th>מספר שבוע</th> : null} \r\n                                    { this.props.monthly ? <th>מספר חודש</th> : null}  \r\n                                    { this.props.data.length > 0 ? <th>תאריך</th> : null}\r\n                                    { dic[\"1\"] ? <th>Oswestry Disability Index</th> : null }\r\n                                    { dic[\"2\"] ? <th>Neck Disability Index</th> : null }\r\n                                    { dic[\"3\"] ? <th>Lower Extremity Functional Scale</th> : null }\r\n                                    { dic[\"4\"] ? <th>Oswestry low back pain</th> : null }\r\n                                    { dic[\"5\"] ? <th>EQ-5D</th> : null }\r\n                                    { dic[\"6\"] ? <th>EQ-5D scale</th> : null }\r\n                                </tr>\r\n                                {arr}\r\n                            </tbody>\r\n                        </table>\r\n                        <ExportCSV csvData={exportCSV} fileName={this.props.name + \" שאלונים תקופתיים\"}/>\r\n                    </div>}</div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TablePer","import React, {Component} from \"react\"\r\n//import LineChart from 'react-linechart';\r\nimport {LineChart} from 'react-chartkick'\r\nimport 'chart.js'\r\n\r\nclass SleepGraph extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.sort_by_key = function(array, key)\r\n        {\r\n         return array.sort(function(a, b)\r\n         {\r\n          var x = a[key]; var y = b[key];\r\n          return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n         });\r\n        }\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({[name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n    \r\n\r\n\r\n\r\n    render() {\r\n        if(this.props.ready){\r\n            var noData = false;\r\n            if(this.props.data && this.props.data.length > 0){\r\n                var data = this.sort_by_key(this.props.data, \"ValidTime\")\r\n                var pointsD = {}, pointsL = {}, pointsT = {};\r\n                var oDay = new Date(this.props.date);\r\n                var lineD = {}, lineL = {}, lineT = {};\r\n                var table = {};\r\n                var dates = [];\r\n                var dateO, dateOStr, week = false;\r\n                if(this.props.weekly){\r\n                    dateO = new Date(this.props.date);\r\n                    var day = dateO.getDay();\r\n                    var sun = new Date(this.props.date - day * 86400000);\r\n                    var sat = new Date(sun.getTime() + 518400000);\r\n                    dateOStr = sun.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + sat.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                }\r\n                if(this.props.monthly){\r\n                    dateO = new Date(this.props.date);\r\n                    dateOStr = dateO.toLocaleDateString('en-GB', {month: 'short'});\r\n                }\r\n                var avgO = {};\r\n                avgO[\"before\"] = {light: {}, deep: {}, total: {}};\r\n                avgO[\"after\"] = {light: {}, deep: {}, total: {}};\r\n                avgO[\"before\"][\"light\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"deep\"] = {sum: 0, counter: 0};\r\n                avgO[\"before\"][\"total\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"total\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"deep\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"][\"light\"] = {sum: 0, counter: 0};\r\n                for(var i = 0; i < data.length; i++){\r\n                    var date = new Date(data[i].ValidTime);\r\n                    var deep = 0, light = 0, total = 0, firstTime;\r\n                    for(var k = 0; k < data[i][\"Data\"].length; k++){\r\n                        if(k === 0){\r\n                            firstTime = data[i][\"Data\"][k][\"StartTime\"];\r\n                        }\r\n                        else if( firstTime === data[i][\"Data\"][k][\"StartTime\"]){\r\n                            break;\r\n                        }\r\n                        var time = data[i][\"Data\"][k][\"EndTime\"] - data[i][\"Data\"][k][\"StartTime\"];\r\n                        time = time / 3600000;\r\n                        if(data[i][\"Data\"][k][\"State\"] === \"Light sleep\"){\r\n                            light = light + time;\r\n                        }\r\n                        else{\r\n                            deep = deep + time;\r\n                        }\r\n                        total = total + time;\r\n                    }\r\n                    if(this.props.showDaily){\r\n                        var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-');\r\n                        if(date <= oDay){\r\n                            pointsD[dateStr] = deep.toFixed(2);\r\n                            pointsL[dateStr] = light.toFixed(2);\r\n                            pointsT[dateStr] = total.toFixed(2);\r\n                        }\r\n                        if(date >= oDay){\r\n                            lineD[dateStr] = deep.toFixed(2);\r\n                            lineL[dateStr] = light.toFixed(2);\r\n                            lineT[dateStr] = total.toFixed(2);\r\n                        }\r\n                    }\r\n                    else if(this.props.weekly){\r\n                        date = new Date(data[i].ValidTime);\r\n                        var dayOfWeek = date.getDay();\r\n                        var sunday = new Date(data[i].ValidTime - dayOfWeek * 86400000);\r\n                        var saturday = new Date(sunday.getTime() + 518400000);\r\n                        dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"light\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"light\"][\"sum\"] += light;\r\n                                avgO[\"before\"][\"deep\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"deep\"][\"sum\"] += deep;\r\n                                avgO[\"before\"][\"total\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"total\"][\"sum\"] += total;\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"light\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"light\"][\"sum\"] += light;\r\n                                avgO[\"after\"][\"deep\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"deep\"][\"sum\"] += deep;\r\n                                avgO[\"after\"][\"total\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"total\"][\"sum\"] += total;\r\n                            }\r\n                            if(!week){\r\n                                week = true;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                table[dateStr][\"light\"] = {};\r\n                                table[dateStr][\"deep\"] = {};\r\n                                table[dateStr][\"total\"] = {};\r\n                                table[dateStr][\"light\"][\"counter\"] = 0;\r\n                                table[dateStr][\"light\"][\"sum\"] = 0;\r\n                                table[dateStr][\"deep\"][\"counter\"] = 0;\r\n                                table[dateStr][\"deep\"][\"sum\"] = 0;\r\n                                table[dateStr][\"total\"][\"counter\"] = 0;\r\n                                table[dateStr][\"total\"][\"sum\"] = 0;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                            table[dateStr][\"light\"][\"counter\"]++;\r\n                            table[dateStr][\"light\"][\"sum\"] += light;\r\n                            table[dateStr][\"deep\"][\"counter\"]++;\r\n                            table[dateStr][\"deep\"][\"sum\"] += deep;\r\n                            table[dateStr][\"total\"][\"counter\"]++;\r\n                            table[dateStr][\"total\"][\"sum\"] += total;\r\n                        }\r\n                    }\r\n                    else if(this.props.monthly){\r\n                        date = new Date(data[i].ValidTime);;\r\n                        dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"light\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"light\"][\"sum\"] += light;\r\n                                avgO[\"before\"][\"deep\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"deep\"][\"sum\"] += deep;\r\n                                avgO[\"before\"][\"total\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"total\"][\"sum\"] += total;\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"light\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"light\"][\"sum\"] += light;\r\n                                avgO[\"after\"][\"deep\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"deep\"][\"sum\"] += deep;\r\n                                avgO[\"after\"][\"total\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"total\"][\"sum\"] += total;\r\n                            }\r\n                            if(!week){\r\n                                week = true;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                table[dateStr][\"light\"] = {};\r\n                                table[dateStr][\"deep\"] = {};\r\n                                table[dateStr][\"total\"] = {};\r\n                                table[dateStr][\"light\"][\"counter\"] = 0;\r\n                                table[dateStr][\"light\"][\"sum\"] = 0;\r\n                                table[dateStr][\"deep\"][\"counter\"] = 0;\r\n                                table[dateStr][\"deep\"][\"sum\"] = 0;\r\n                                table[dateStr][\"total\"][\"counter\"] = 0;\r\n                                table[dateStr][\"total\"][\"sum\"] = 0;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                            table[dateStr][\"light\"][\"counter\"]++;\r\n                            table[dateStr][\"light\"][\"sum\"] += light;\r\n                            table[dateStr][\"deep\"][\"counter\"]++;\r\n                            table[dateStr][\"deep\"][\"sum\"] += deep;\r\n                            table[dateStr][\"total\"][\"counter\"]++;\r\n                            table[dateStr][\"total\"][\"sum\"] += total;\r\n                        }\r\n                    }\r\n                }\r\n                dates = dates.sort();\r\n                if(this.props.weekly || this.props.monthly){\r\n                    for (i = 0; i < dates.length; i++) {\r\n                        date = new Date(dates[i]);\r\n                        if(this.props.weekly){\r\n                            dayOfWeek = date.getDay();\r\n                            sunday = new Date(date.getTime() - dayOfWeek * 86400000);\r\n                            saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        }\r\n                        else{\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        }\r\n                        if(dateStr === dateOStr){\r\n                            pointsD[dateStr] = (avgO[\"before\"][\"deep\"][\"sum\"] /  avgO[\"before\"][\"deep\"][\"counter\"]).toFixed(2);\r\n                            pointsL[dateStr] = (avgO[\"before\"][\"light\"][\"sum\"] /  avgO[\"before\"][\"light\"][\"counter\"]).toFixed(2);\r\n                            pointsT[dateStr] = (avgO[\"before\"][\"total\"][\"sum\"] /  avgO[\"before\"][\"total\"][\"counter\"]).toFixed(2);\r\n                            lineD[dateStr] = (avgO[\"after\"][\"deep\"][\"sum\"] /  avgO[\"after\"][\"deep\"][\"counter\"]).toFixed(2);\r\n                            lineL[dateStr] = (avgO[\"after\"][\"light\"][\"sum\"] /  avgO[\"after\"][\"light\"][\"counter\"]).toFixed(2);\r\n                            lineT[dateStr] = (avgO[\"after\"][\"total\"][\"sum\"] /  avgO[\"after\"][\"total\"][\"counter\"]).toFixed(2);\r\n                            continue;\r\n                        }\r\n                        if(date <= oDay){\r\n                            pointsD[dateStr] = (table[dateStr][\"deep\"][\"sum\"] /  table[dateStr][\"deep\"][\"counter\"]).toFixed(2);\r\n                            pointsL[dateStr] = (table[dateStr][\"light\"][\"sum\"] /  table[dateStr][\"light\"][\"counter\"]).toFixed(2);\r\n                            pointsT[dateStr] = (table[dateStr][\"total\"][\"sum\"] /  table[dateStr][\"total\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(date >= oDay){\r\n                            lineD[dateStr] = (table[dateStr][\"deep\"][\"sum\"] /  table[dateStr][\"deep\"][\"counter\"]).toFixed(2);\r\n                            lineL[dateStr] = (table[dateStr][\"light\"][\"sum\"] /  table[dateStr][\"light\"][\"counter\"]).toFixed(2);\r\n                            lineT[dateStr] =(table[dateStr][\"total\"][\"sum\"] /  table[dateStr][\"total\"][\"counter\"]).toFixed(2);\r\n                        }\r\n                    }\r\n                }\r\n                var dataX = [\r\n                    {\"name\": \"שעות שינה קלה לפני הניתוח\", \"data\": pointsL},\r\n                    {\"name\": \"שעות שינה עמוקה לפני הניתוח\", \"data\": pointsD},\r\n                    {\"name\": \"סך כל שעות השינה לפני הניתוח\", \"data\": pointsT},\r\n                    {\"name\": \"שעות שינה קלה אחרי הניתוח\", \"data\": lineL},\r\n                    {\"name\": \"שעות שינה עמוקה אחרי הניתוח\", \"data\": lineD},\r\n                    {\"name\": \"סך כל שעות השינה אחרי הניתוח\", \"data\": lineT},\r\n                ];\r\n            }\r\n            else{\r\n                noData = true;\r\n            }\r\n        }\r\n\t\treturn (\r\n            <div>\r\n                {this.props.ready ? <div>\r\n                    <div className=\"App\">\r\n                        <h1>{this.props.name}</h1>\r\n                        {noData ? <h4>לא קיים מידע על המשתמש</h4> : <LineChart download={true} data={dataX} colors={[\"#010C6B\", \"#7C0000\", \"#0D4E00\", \"#77CCEE\" ,\"#F78989\", \"#B5FFA2\"]} min={0}/>}\r\n                    </div>\t\r\n                </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SleepGraph","import React, {Component} from \"react\"\r\n//import LineChart from 'react-linechart';\r\nimport { LineChart} from 'react-chartkick'\r\nimport 'chart.js'\r\n\r\nclass GraphAns extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.sort_by_key = function(array, key)\r\n        {\r\n         return array.sort(function(a, b)\r\n         {\r\n          var x = a[key]; var y = b[key];\r\n          return ((x < y) ? -1 : ((x > y) ? 1 : 0));\r\n         });\r\n        }\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({[name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n    \r\n\r\n\r\n\r\n    render() {\r\n        if(this.props.ready){\r\n            var noData = false;\r\n            if(this.props.data.length > 0){\r\n                var data = this.sort_by_key(this.props.data, \"ValidTime\")\r\n                var points = {};\r\n                var oDay = new Date(this.props.date);\r\n                var line = {};\r\n                var table = {};\r\n                var dates = [];\r\n                var week = false;\r\n                var dateO, dateOStr;\r\n                if(this.props.weekly){\r\n                    dateO = new Date(this.props.date);\r\n                    var day = dateO.getDay();\r\n                    var sun = new Date(this.props.date - day * 86400000);\r\n                    var sat = new Date(sun.getTime() + 518400000);\r\n                    dateOStr = sun.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + sat.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                }\r\n                if(this.props.monthly){\r\n                    dateO = new Date(this.props.date);\r\n                    dateOStr = dateO.toLocaleDateString('en-GB', {month: 'short'});\r\n                }\r\n                var avgO = {};\r\n                avgO[\"before\"] = {sum: 0, counter: 0};\r\n                avgO[\"after\"]= {sum: 0, counter: 0};\r\n                for(var i = 0; i < data.length; i++){\r\n                    if(this.props.showDaily){\r\n                        var date = new Date(data[i].ValidTime)\r\n                        var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short', year:\"numeric\"}).replace(/ /g, '-')\r\n                        if(date <= oDay){\r\n                            points[dateStr] = data[i][\"Answers\"][0][\"AnswerID\"][0].toFixed(2);\r\n                        }\r\n                        if(date >= oDay){\r\n                            line[dateStr] = data[i][\"Answers\"][0][\"AnswerID\"][0].toFixed(2);\r\n                        }\r\n                    }\r\n                    else if(this.props.weekly){\r\n                        date = new Date(data[i].ValidTime);\r\n                        var dayOfWeek = date.getDay();\r\n                        var sunday = new Date(data[i].ValidTime - dayOfWeek * 86400000);\r\n                        var saturday = new Date(sunday.getTime() + 518400000);\r\n                        dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0]; \r\n                            }\r\n                            if(!week){\r\n                                week = true;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                table[dateStr][\"counter\"] = 0;\r\n                                table[dateStr][\"sum\"] = 0;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                            table[dateStr][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                            table[dateStr][\"counter\"]++;\r\n                        }\r\n                    }\r\n                    else if(this.props.monthly){\r\n                        date = new Date(data[i].ValidTime);;\r\n                        dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        if(dateOStr === dateStr){\r\n                            if(data[i].ValidTime < this.props.date){\r\n                                avgO[\"before\"][\"counter\"]++;\r\n                                avgO[\"before\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                            }\r\n                            else{\r\n                                avgO[\"after\"][\"counter\"]++;\r\n                                avgO[\"after\"][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0]; \r\n                            }\r\n                            if(!week){\r\n                                week = true;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                        }\r\n                        else{\r\n                            if(table[dateStr] == null){\r\n                                table[dateStr] = {};\r\n                                table[dateStr][\"counter\"] = 0;\r\n                                table[dateStr][\"sum\"] = 0;\r\n                                dates.push(data[i].ValidTime);\r\n                            }\r\n                            table[dateStr][\"sum\"] += data[i][\"Answers\"][0][\"AnswerID\"][0];\r\n                            table[dateStr][\"counter\"]++;\r\n                        }\r\n                    }\r\n                }\r\n                dates = dates.sort();\r\n                if(this.props.weekly || this.props.monthly){\r\n                    for (i = 0; i < dates.length; i++) {\r\n                        date = new Date(dates[i]);\r\n                        if(this.props.weekly){\r\n                            dayOfWeek = date.getDay();\r\n                            sunday = new Date(date.getTime() - dayOfWeek * 86400000);\r\n                            saturday = new Date(sunday.getTime() + 518400000);\r\n                            dateStr = sunday.toLocaleDateString('en-GB', {day: 'numeric'}) + \" - \" + saturday.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'});\r\n                        }\r\n                        else{\r\n                            dateStr = date.toLocaleDateString('en-GB', {month: 'short'});\r\n                        }\r\n                        if(dateStr === dateOStr){\r\n                            points[dateStr] = (avgO[\"before\"][\"sum\"] /  avgO[\"before\"][\"counter\"]).toFixed(2);\r\n                            line[dateStr] = (avgO[\"after\"][\"sum\"] /  avgO[\"after\"][\"counter\"]).toFixed(2);\r\n                            continue;\r\n                        }\r\n                        if(date <= oDay){\r\n                            points[dateStr] = (table[dateStr][\"sum\"] / table[dateStr][\"counter\"]).toFixed(2);\r\n                        }\r\n                        if(date >= oDay){\r\n                            line[dateStr] = (table[dateStr][\"sum\"] / table[dateStr][\"counter\"]).toFixed(2);\r\n                        }\r\n                    }\r\n                }\r\n                var dataX = [\r\n                    {\"name\": \"לפני הניתוח\", \"data\": points},\r\n                    {\"name\": \"אחרי הניתוח\", \"data\": line}\r\n                ];\r\n            }\r\n            else{\r\n                noData = true;\r\n            }\r\n        }\r\n\t\treturn (\r\n            <div>\r\n                {this.props.ready ? <div>\r\n                    <div className=\"App\">\r\n                        <h1>{this.props.name}</h1>\r\n                        {noData ? <h4>לא קיים מידע על המשתמש</h4> : <LineChart download={true} data={dataX} min={0} />}\r\n                    </div>\t\r\n                </div> : null}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GraphAns","import React, {Component} from \"react\"\r\nimport axios from 'axios';\r\n\r\nclass PatientData extends Component {\r\n    constructor(props) {\r\n        super()\r\n        var q2 = false, q3 = false, q4 = false, q5 = false;\r\n        for(var i = 0; i < props.user[\"Questionnaires\"].length; i++){\r\n            if(props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] === 1){\r\n                q2= true;\r\n            }\r\n            else if(props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] === 2){\r\n                q3= true;\r\n            }\r\n            else if(props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] === 3){\r\n                q4= true;\r\n            }\r\n            else if(props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] === 5){\r\n                q5= true;\r\n            }\r\n        }\r\n        this.state = {\r\n           user: props.user,\r\n           showPopup: false,\r\n           showPopupQ: false,\r\n           new_date: \"\",\r\n           Questionnaires: [],\r\n           quest1: false,\r\n           quest2: q2,\r\n           quest3: q3,\r\n           quest4: q4,\r\n           quest5: q5,\r\n           quest6: false\r\n        }\r\n        this.changeDate = this.changeDate.bind(this);\r\n        this.togglePopup = this.togglePopup.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.togglePopupQ = this.togglePopupQ.bind(this);\r\n        this.handleSubmitQ = this.handleSubmitQ.bind(this)\r\n    }\r\n\r\n    handleSubmit(e){\r\n        e.preventDefault();\r\n        let date = (new Date(this.state.new_date)).getTime();\r\n        let id = this.props.user[\"UserID\"];\r\n        axios.post('http://localhost:8180/auth/usersAll/changeDateOfSurgery',\r\n        {\r\n            UserID: id,\r\n            DateOfSurgery: date\r\n        },            \r\n        { \r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': sessionStorage.getItem(\"token\")\r\n            }\r\n        }).then(res => {\r\n            window.alert(\"התאריך שונה בהצלחה\")\r\n            this.togglePopup();\r\n        });\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({ [name]: checked }) : this.setState({ [name]: value });\r\n    }\r\n\r\n    handleSubmitQ(e){\r\n        e.preventDefault();\r\n        var Questionnaires =[];\r\n        if(this.state.quest2){\r\n            Questionnaires.push({\r\n                \"QuestionnaireID\": 1,\r\n                \"QuestionnaireText\": \"תפקוד גב תחתון\"\r\n            })\r\n        }\r\n        if(this.state.quest3){\r\n            Questionnaires.push({\r\n                \"QuestionnaireID\": 2,\r\n                \"QuestionnaireText\": \"תפקוד צוואר\"\r\n            })\r\n        }\r\n        if(this.state.quest4){\r\n            Questionnaires.push({\r\n                \"QuestionnaireID\": 3,\r\n                \"QuestionnaireText\": \"תפקוד גף תחתון\"\r\n            })\r\n        }\r\n        if(this.state.quest5){\r\n            Questionnaires.push({\r\n                \"QuestionnaireID\": 5,\r\n                \"QuestionnaireText\": \"איכות חיים\"\r\n            });\r\n        }           \r\n        let id = this.props.user[\"UserID\"];\r\n        axios.post('http://localhost:8180/auth/usersAll/changeUserQuestionnaire',\r\n        {\r\n            UserID: id,\r\n            Questionnaires: Questionnaires\r\n        },            \r\n        { \r\n            headers: { \r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': sessionStorage.getItem(\"token\")\r\n            }\r\n        }).then(res => {\r\n           window.alert(\"השאלונים שונו בהצלחה\");\r\n           this.togglePopupQ();\r\n        });\r\n    }\r\n\r\n    changeQuest(){\r\n        this.togglePopupQ();\r\n    }\r\n\r\n    changeDate(){\r\n        this.togglePopup();\r\n    }\r\n\r\n    togglePopupQ() {\r\n        this.setState({\r\n          showPopupQ: !this.state.showPopupQ\r\n        });\r\n\r\n    }\r\n\r\n    togglePopup() {\r\n        this.setState({\r\n          showPopup: !this.state.showPopup\r\n        });\r\n    }\r\n\r\n    render() {\r\n        require(\"./PatientData.css\");\r\n        let name = this.props.user[\"First_Name\"] + \" \" + this.props.user[\"Last_Name\"];\r\n        let bmi = parseFloat(this.props.user[\"BMI\"]).toFixed(1);\r\n        var sDate = \"\";\r\n        if(this.props.user[\"DateOfSurgery\"]){\r\n            sDate = (new Date(this.props.user[\"DateOfSurgery\"])).toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });\r\n        }\r\n        else{\r\n            sDate = \"לא נקבע יום ניתוח\";\r\n        }\r\n        let gender = this.props.user[\"Gender\"];\r\n        let height = this.props.user[\"Height\"];\r\n        let pNumber = this.props.user[\"Phone_Number\"];\r\n        let smoke = this.props.user[\"Smoke\"];\r\n        let sType = this.props.user[\"SurgeryType\"];\r\n        let weight = this.props.user[\"Weight\"];\r\n        var today = new Date();\r\n        var birthday = new Date(this.props.user[\"BirthDate\"]);\r\n        var age = Math.floor((today.getTime() - birthday.getTime())/ 31536000000)\r\n        var Questionnaires = \"\";\r\n        var first = true;\r\n        for(var i = 0; i < this.props.user[\"Questionnaires\"].length; i++){\r\n            if(this.props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] !== 0 && this.props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] !== 6){\r\n                if(!first){\r\n                    Questionnaires +=\", \"\r\n                }\r\n                else{\r\n                    first = false;\r\n                }\r\n                if(!Questionnaires.includes(this.props.user[\"Questionnaires\"][i][\"QuestionnaireText\"])){\r\n                    Questionnaires += this.props.user[\"Questionnaires\"][i][\"QuestionnaireText\"];\r\n                }\r\n            }\r\n        }\r\n        if(Questionnaires.charAt(Questionnaires.length - 1) === \" \"){\r\n            Questionnaires = Questionnaires.substring(0, Questionnaires.length - 2);\r\n        }\r\n        var className = \"g\";\r\n        if(this.props.table){\r\n            className = \"t\"\r\n        }\r\n\t\treturn (\r\n            <div id=\"data\" className={className}>\r\n                <div className=\"line\">\r\n                    <label className=\"label\">שם:</label>\r\n                    <label className=\"labelData\">{name}</label>\r\n                    <label className=\"label\">מספר טלפון:</label>\r\n                    <label className=\"labelData\">{pNumber}</label>\r\n                </div>\r\n                <div className=\"line\">\r\n                    <label className=\"label\">מין:</label>\r\n                    <label className=\"labelData\">{gender}</label>\r\n                    <label className=\"label\">משקל:</label>\r\n                    <label className=\"labelData\">{weight}</label>\r\n                    <label className=\"label\">גובה:</label>\r\n                    <label className=\"labelData\">{height}</label>\r\n                    <label className=\"label\">גיל:</label>\r\n                    <label className=\"labelData\">{age}</label>\r\n                    <label className=\"label\">BMI:</label>\r\n                    <label className=\"labelData\">{bmi}</label>\r\n                    <label className=\"labelData\">{smoke}</label>\r\n                    \r\n                </div>\r\n                <div className=\"line\">\r\n                    <label className=\"label\">סוג ניתוח:</label>\r\n                    <label className=\"labelData\">{sType}</label>\r\n                    <label className=\"label\">תאריך ניתוח:</label>\r\n                    <label className=\"labelData\" >{sDate}</label>  \r\n                    <button className=\"changeDate\" onClick={() => this.changeDate()}> \r\n                        שינוי התאריך        \r\n                    </button>\r\n                </div>\r\n                {/*<div className=\"line\">*/}\r\n                {/*    <label className=\"label\" >שאלונים:</label> */}\r\n                {/*    <label className=\"labelData\" >{Questionnaires} </label> */}\r\n                {/*    <button className=\"changeDate\" onClick={() => this.changeQuest()}> */}\r\n                {/*        שינוי השאלונים  */}\r\n                {/*    </button>*/}\r\n                {/*</div>*/}\r\n                {this.state.showPopup ? \r\n                    <Popup\r\n                        closePopup={this.togglePopup.bind(this)}\r\n                        handleChange={this.handleChange.bind(this)}\r\n                        handleSubmit={this.handleSubmit.bind(this)}\r\n                    /> : null\r\n                }\r\n                {this.state.showPopupQ ? \r\n                    <PopupQ\r\n                        closePopup={this.togglePopupQ.bind(this)}\r\n                        handleChange={this.handleChange.bind(this)}\r\n                        handleSubmit={this.handleSubmitQ.bind(this)}\r\n                        quest1={this.state.quest1}\r\n                        quest2={this.state.quest2}\r\n                        quest3={this.state.quest3}\r\n                        quest4={this.state.quest4}\r\n                        quest5={this.state.quest5}\r\n                        quest6={this.state.quest6}\r\n                    /> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PatientData\r\n\r\nclass Popup extends React.Component {\r\n    render() {\r\n      return (\r\n        <div className='popup'>\r\n            <div className='popup_innerCD' >\r\n                <div className=\"line_x\">\r\n                    <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                </div>\r\n                <h4 id=\"h4C\">שינוי תאריך הניתוח</h4>\r\n                <form  onSubmit={this.props.handleSubmit} id=\"newDate_form\">\r\n                    <div className=\"line_newData\">\r\n                        <label id=\"newD\"> הכנס תאריך ניתוח חדש:</label>\r\n                    </div>\r\n                    <div className=\"line_newData\">\r\n                    <input id=\"new_date\" type=\"date\" name=\"new_date\"  onChange={this.props.handleChange}/>\r\n                    </div>\r\n                    <div className=\"line_newData\">\r\n                        <button id=\"sumbitC\" type=\"sumbit\" >שינוי</button>\r\n                    </div>\r\n                    <div className=\"line_newData\">\r\n                        <label id=\"noDate\">*לביטול תאריך ניתוח יש ללחוץ על שינוי בלי קביעת תאריך חדש</label>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  class PopupQ extends React.Component {\r\n    render() {\r\n      return (\r\n        <div className='popup'>\r\n            <div className='popup_innerCQ' >\r\n                <div className=\"line_x\">\r\n                    <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                </div>\r\n                <h4 id=\"h4C\">שינוי שאלונים</h4>\r\n                <form id=\"formQ\" onSubmit={this.props.handleSubmit}>\r\n                    <div className=\"line\">\r\n                        <input type=\"checkbox\"\r\n                            className=\"cInput\" \r\n                            name=\"quest2\"\r\n                            checked={this.props.quest2}\r\n                            onChange={this.props.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            תפקוד גב תחתון  \r\n                        </label>\r\n                    </div>\r\n                    <div className=\"line\">\r\n                        <input type=\"checkbox\"\r\n                            className=\"cInput\" \r\n                            name=\"quest3\"\r\n                            checked={this.props.quest3}\r\n                            onChange={this.props.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            תפקוד צוואר  \r\n                        </label>\r\n                    </div>\r\n                    <div className=\"line\">\r\n                        <input type=\"checkbox\"\r\n                            className=\"cInput\" \r\n                            name=\"quest4\"\r\n                            checked={this.props.quest4}\r\n                            onChange={this.props.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            תפקוד גף תחתון    \r\n                        </label>\r\n                    </div>\r\n                    <div className=\"line\">\r\n                        <input type=\"checkbox\"\r\n                            className=\"cInput\" \r\n                            name=\"quest5\"\r\n                            checked={this.props.quest5}\r\n                            onChange={this.props.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            איכות חיים  \r\n                        </label>\r\n                    </div>\r\n                    <button  id=\"changeQ\" type=\"sumbit\" >שינוי</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n      );\r\n    }\r\n  }","import React, {Component} from \"react\"\r\nimport \"./DisplayButton.css\"\r\nimport Table from \"./Table\"\r\nimport TableAns from \"./TableAns\"\r\nimport Graph from \"./Graph\"\r\nimport TablePer from \"./TablePer\"\r\nimport SleepGraph from \"./SleepGraph\"\r\nimport GraphAns from \"./GraphAns\"\r\nimport PatientData from \"./PatientData\"\r\n\r\n\r\nclass DisplayButton extends Component {\r\n    constructor(props) {\r\n        super()\r\n        this.state = {\r\n            graph: true,\r\n            table : false\r\n        }\r\n\r\n        this.styleLabel = {\r\n            fontSize: \"calc(10px)\",\r\n            color: \"black\",\r\n            margin: \"2vmin 2vmin 2vmin 2vmin\"\r\n        }\r\n        this.handleChange = this.handleChange.bind(this)\r\n\r\n        this.clean = function(arr){\r\n            var tempDic = {};\r\n            var temp = [];\r\n            for(var i = 0; i < arr.length; i++){\r\n                var date = new Date(arr[i].ValidTime)\r\n                var dateStr = date.toLocaleDateString('en-GB', {day: 'numeric', month: 'short'}).replace(/ /g, '-')\r\n                if(tempDic[dateStr] === undefined){\r\n                    tempDic[dateStr] = arr[i];\r\n                    temp.push(arr[i])\r\n                }\r\n            }\r\n            return temp;\r\n        }\r\n        \r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({graph: false, table:false, [name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        var arrSteps, arrDis, arrCal, arrWeat, arrSleep;\r\n        var  arr1 = [], arr2 = [], arr3 = [], arr4 = [], arr5 = [], arr6 = [];\r\n        for(var i = 0; i < this.props.dataArr.length; i++){\r\n            if(this.props.dataArr[i].name === \"צעדים\"){\r\n                arrSteps = this.props.dataArr[i].values\r\n            }\r\n            else if(this.props.dataArr[i].name === \"מרחק\"){\r\n                arrDis = this.props.dataArr[i].values\r\n            }\r\n            else if(this.props.dataArr[i].name === \"קלוריות\"){\r\n                arrCal = this.props.dataArr[i].values;\r\n            }\r\n            else if(this.props.dataArr[i].name === \"מזג האוויר\"){\r\n                if(this.props.dataArr[i].values.length && this.props.dataArr[i].values[0].Data && this.props.dataArr[i].values[0].Data.High){\r\n                    for(var j = 0; j < this.props.dataArr[i].values.length; j++){\r\n                        this.props.dataArr[i].values[j].Data = this.props.dataArr[i].values[j].Data.High;\r\n                    }\r\n                }\r\n                arrWeat = this.props.dataArr[i].values;\r\n            }\r\n            else if(this.props.dataArr[i].name === \"שעות שינה\"){\r\n                arrSleep = this.props.dataArr[i].values;\r\n            }\r\n\r\n        }\r\n        \r\n        for(i = 0; i < this.props.periodicAnswers.length; i++){\r\n            if(this.props.periodicAnswers[i].QuestionnaireID === 1){\r\n                arr1 = this.props.periodicAnswers[i].data;\r\n                for(j = 0; j < arr1.length; j++){\r\n                    arr1[j][\"Data\"] = arr1[j][\"Score\"];\r\n                }\r\n            }\r\n            if(this.props.periodicAnswers[i].QuestionnaireID === 2){\r\n                arr2 = this.props.periodicAnswers[i].data;\r\n                for(j = 0; j < arr2.length; j++){\r\n                    arr2[j][\"Data\"] = arr2[j][\"Score\"];\r\n                }\r\n            }\r\n            if(this.props.periodicAnswers[i].QuestionnaireID === 3){\r\n                arr3 = this.props.periodicAnswers[i].data;\r\n                for(j = 0; j < arr3.length; j++){\r\n                    arr3[j][\"Data\"] = arr3[j][\"Score\"];\r\n                }\r\n            }\r\n            if(this.props.periodicAnswers[i].QuestionnaireID === 4){\r\n                arr4 = this.props.periodicAnswers[i].data;\r\n                for(j = 0; j < arr4.length; j++){\r\n                    arr4[j][\"Data\"] = arr4[j][\"Score\"];\r\n                }\r\n            }\r\n            if(this.props.periodicAnswers[i].QuestionnaireID === 5){\r\n                arr5 = this.props.periodicAnswers[i].data;\r\n                for(j = 0; j < arr5.length; j++){\r\n                    arr5[j][\"Data\"] = arr5[j][\"Score\"];\r\n                }\r\n            }\r\n            if(this.props.periodicAnswers[i].QuestionnaireID === 6){\r\n                arr6 = this.props.periodicAnswers[i].data;\r\n                for(j = 0; j < arr6.length; j++){\r\n                    arr6[j][\"Data\"] = arr6[j][\"Score\"];\r\n                }\r\n            }\r\n        }\r\n        return(\r\n            <div>\r\n                <div className=\"display\">\r\n                    { (this.props.dataArr.length > 0 || this.props.dailyA.length > 0) ? <div><div className=\"checkButton\" id=\"cbRight\">\r\n                    <label>\r\n                        <input \r\n                            type=\"checkbox\" \r\n                            value=\"1\"\r\n                            name=\"graph\"\r\n                            checked={this.state.graph}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <span>\r\n                            <div id=\"text\">\r\n                                הצג מידע גרפי\r\n                            </div>\r\n                        </span>\r\n                    </label>\r\n                </div>\r\n                <div className=\"checkButton\" id=\"cbLeft\">\r\n                    <label>\r\n                        <input \r\n                            type=\"checkbox\" \r\n                            value=\"1\"\r\n                            name=\"table\"\r\n                            checked={this.state.table}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <span>\r\n                            <div id=\"text\">\r\n                                הצג מידע טבלאי  \r\n                            </div>\r\n                        </span>\r\n                    </label>\r\n                </div> </div> : null }\r\n                </div>\r\n                <br />\r\n                <br />\r\n                { ((this.state.graph || this.state.table) && this.props.ready) ? <PatientData user={this.props.user} table={this.state.table}/> : null}\r\n                { (this.state.table && this.props.dataArr.length > 0 && this.props.ready) ? <h3>מדדים</h3> : null }\r\n                { this.state.table ? <div className=\"ex1\"><Table dataArr={this.props.dataArr}\r\n                    steps={this.props.steps}\r\n                    distance={this.props.distance}\r\n                    calories={this.props.calories}\r\n                    weather={this.props.weather}\r\n                    sleep={this.props.sleep}\r\n                    date={this.props.date}\r\n                    showDaily={this.props.showDaily}\r\n                    weekly={this.props.weekly}\r\n                    monthly={this.props.monthly}\r\n                    name={this.props.name}\r\n                    ready={this.props.ready}\r\n                /> </div>: null }\r\n                <br />\r\n                { (this.state.table && this.props.dailyQ && this.props.ready) ? <h3>שאלון יומי</h3> : null }\r\n                { (this.state.table && this.props.dailyQ) ? <TableAns data={this.props.dailyA} \r\n                    date={this.props.date}\r\n                    showDaily={this.props.showDaily}\r\n                    weekly={this.props.weekly}\r\n                    monthly={this.props.monthly}\r\n                    name={this.props.name}\r\n                    ready={this.props.ready}\r\n                    /> : null }\r\n                { (this.state.table && this.props.perQ && this.props.ready) ? <h3>שאלונים תקופתיים</h3> : null }\r\n                { (this.state.table && this.props.perQ) ? <TablePer data={this.props.periodicAnswers} \r\n                    date={this.props.date}\r\n                    showDaily={this.props.showDaily}\r\n                    weekly={this.props.weekly}\r\n                    monthly={this.props.monthly}\r\n                    ready={this.props.ready}\r\n                    name={this.props.name} />: null }\r\n                { (this.state.graph && this.props.steps) ? <Graph data={arrSteps} date={this.props.date} name=\"צעדים\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && this.props.distance) ? <Graph data={arrDis} date={this.props.date} name=\"מרחק\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && this.props.calories) ? <Graph data={arrCal} date={this.props.date} name=\"קלוריות\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && this.props.weather) ? <Graph data={arrWeat} date={this.props.date} name=\"מזג האוויר\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && this.props.sleep) ? <SleepGraph data={arrSleep} date={this.props.date} name=\"שעות שינה\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && this.props.dailyQ) ? <GraphAns data={this.props.dailyA} date={this.props.date} name=\"שאלון יומי\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && arr1.length > 0 && this.props.perQ) ? <Graph data={arr1} date={this.props.date} name=\"Oswestry Disability Index\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && arr2.length > 0 && this.props.perQ) ? <Graph data={arr2} date={this.props.date} name=\"Neck Disability Index\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && arr3.length > 0 && this.props.perQ) ? <Graph data={arr3} date={this.props.date} name=\"Lower Extremity Functional Scale\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && arr4.length > 0 && this.props.perQ) ? <Graph data={arr4} date={this.props.date} name=\"Oswestry low back pain\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && arr5.length > 0 && this.props.perQ) ? <Graph data={arr5} date={this.props.date} name=\"EQ-5D\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n                { (this.state.graph && arr6.length > 0 && this.props.perQ) ? <Graph data={arr6} date={this.props.date} name=\"EQ-5D scale\" showDaily={this.props.showDaily} weekly={this.props.weekly} monthly={this.props.monthly} ready={this.props.ready}/> : null }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DisplayButton","import React, {Component} from \"react\"\r\nimport axios from 'axios';\r\nimport Card from 'react-bootstrap/Card'\r\nimport DisplayButton from './DisplayButton';\r\n\r\nclass PatientSearch extends Component {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n        var date = new Date();\r\n        var three_month = date.setMonth(date.getMonth() - 3).toISOString().split(\"T\")[0];\r\n        var x = date.toISOString().split(\"T\")[0];\r\n        this.state = {\r\n            pName: \"\",\r\n            fName: \"\",\r\n            end_date: x,\r\n            start_date: three_month,\r\n            steps: true,\r\n            distance : true,\r\n            weather: true,\r\n            calories: true,\r\n            sleeping_hours: true,\r\n            dataArr: [],\r\n            periodicAnswers: [],\r\n            showPopup: false,\r\n            textPopup: [],\r\n            dailyA: [],\r\n            numOfUsers: 0,\r\n            dailyQ: true,\r\n            perQ: true,\r\n            x: [],\r\n            date: 0,\r\n            showDaily: true,\r\n            weekly: false,\r\n            monthly: false,\r\n            user: {},\r\n            ready: false,\r\n            todayDate: x,\r\n            // optionsPName: [],\r\n            className: \"normal\",\r\n            // namesDiv: [],\r\n            isFetchingNames: false\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.getRequest = this.getRequest.bind(this);\r\n        this.togglePopup = this.togglePopup.bind(this);\r\n        this.selectUser = this.selectUser.bind(this);\r\n        this.findUser = this.findUser.bind(this);\r\n        this.fetchNames = this.fetchNames.bind(this)\r\n    }\r\n    componentDidMount() {\r\n        if (sessionStorage.getItem('doctor')) {\r\n            this.fetchNames();\r\n        }\r\n    }\r\n\r\n    async fetchNames(){\r\n        var list = [];\r\n        var namesDiv = [];\r\n        this.setState({isFetchingNames: true});\r\n        var response = await axios.get(\r\n            \"http://localhost:8180/auth/usersAll/getNames\",\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                }\r\n            }\r\n        );\r\n        if(response.data.data){\r\n            for(var i = 0; i < response.data.data.length; i++){\r\n                namesDiv.push(response.data.data[i]);\r\n            }\r\n            var names = response.data.data.map(function(item, i){\r\n                return item.first.trim() + \" \" + item.last.trim();\r\n            });\r\n            names = names.sort();\r\n            var uniqueNames = Array.from(new Set(names));\r\n            for(i = 0; i < uniqueNames.length; i++){\r\n                list.push(<option key={uniqueNames[i]}>{uniqueNames[i]}</option>);\r\n            }\r\n        }\r\n        this.setState({\r\n            isFetchingNames: false,\r\n            optionsPName: list,\r\n            namesDiv: namesDiv,\r\n        });\r\n    }\r\n    togglePopup() {\r\n        this.setState({\r\n            showPopup: !this.state.showPopup\r\n        });\r\n    }\r\n\r\n    findUser(user){\r\n        for(var i = 0; i < this.state.namesDiv.length; i++){\r\n            var name = this.state.namesDiv[i].first.trim() + \" \" + this.state.namesDiv[i].last.trim();\r\n            if(name.toLocaleLowerCase() === user.toLocaleLowerCase()){\r\n                return ([this.state.namesDiv[i].first.trim(), this.state.namesDiv[i].last.trim()])\r\n            }\r\n        }\r\n        return[\",\" , \",\"];\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({ [name]: checked }) : this.setState({ [name]: value })\r\n        if(name === \"showDaily\"){\r\n            this.setState({\r\n                showDaily: true,\r\n                weekly: false,\r\n                monthly: false\r\n            })\r\n        }\r\n        else if(name === \"weekly\"){\r\n            this.setState({\r\n                showDaily: false,\r\n                weekly: true,\r\n                monthly: false\r\n            })\r\n        }\r\n        else if(name === \"monthly\"){\r\n            this.setState({\r\n                showDaily: false,\r\n                weekly: false,\r\n                monthly: true\r\n            })\r\n        }\r\n    }\r\n\r\n    async getRequest(name,url){\r\n        if(sessionStorage.getItem('doctor')){\r\n            return this.getDoctorRequest(name, url);\r\n        }\r\n        if(sessionStorage.getItem('patient')){\r\n            return this.getPatientRequest(name, url);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    async getDoctorRequest(name, url){\r\n        var nameSplit = this.findUser(this.state.pName);\r\n        let getUrl = 'http://localhost:8180/auth/doctors/' + url + '?FirstName=' + nameSplit[0] + '&LastName=' + nameSplit[1];\r\n        if(this.state.start_date !== \"\"){\r\n            var date = new Date(this.state.start_date)\r\n            let start_time = date.getTime();\r\n            getUrl += (\"&start_time=\" + start_time);\r\n        }\r\n        if(this.state.end_date !== \"\"){\r\n            date = new Date(this.state.end_date)\r\n            date = new Date(date.getTime() + 86400000);\r\n            let end_time = date.getTime();\r\n            getUrl += (\"&end_time=\" + end_time);\r\n        }\r\n        const response = await axios.get(\r\n            getUrl,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                }\r\n            }\r\n        );\r\n        if(response.data.message === \"Not Found\"){\r\n            return null;\r\n        }\r\n        return({\r\n            values: response.data.data,\r\n            name : name,\r\n            numOfUsers: response.data.data.length\r\n        });\r\n    }\r\n\r\n    async getPatientRequest(name, url){\r\n        let getUrl = `http://localhost:8180/auth/patients/${url}`;\r\n        let start_time;\r\n        if(this.state.start_date !== \"\"){\r\n            var date = new Date(this.state.start_date);\r\n            start_time = date.getTime();\r\n            // getUrl += (\"&start_time=\" + start_time);\r\n        }\r\n        let end_time;\r\n        if(this.state.end_date !== \"\"){\r\n            date = new Date(this.state.end_date)\r\n            date = new Date(date.getTime() + 86400000);\r\n            end_time = date.getTime();\r\n            // getUrl += (\"&end_time=\" + end_time);\r\n        }\r\n        const response = await axios.get(\r\n            getUrl,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                },\r\n                params: {\r\n                    start_time: start_time,\r\n                    end_time: end_time\r\n                }\r\n            }\r\n        );\r\n        return({\r\n            values: response.data.data,\r\n            name : name,\r\n            numOfUsers: response.data.data.length\r\n        });\r\n    }\r\n\r\n\r\n        async selectUser(key){\r\n        let arr = this.state.dataArr;\r\n        let d = this.state.dailyA;\r\n        var da = [];\r\n        var user;\r\n        var sDate;\r\n        for(var i = 0; i < this.state.numOfUsers; i++){\r\n            if(d[i] && d[i].UserID[\"BirthDate\"] === key){\r\n                da = d[i].docs;\r\n                sDate = d[i].UserID[\"DateOfSurgery\"];\r\n                user = d[i].UserID;\r\n            }\r\n        }\r\n        for(i = 0; i < this.state.questionnaire.values.length; i++){\r\n            if(this.state.questionnaire.values[i].UserID[\"BirthDate\"] === key){\r\n                this.state.periodicAnswers.push(this.state.questionnaire.values[i][\"docs\"]);\r\n                sDate = this.state.questionnaire.values[i].UserID[\"DateOfSurgery\"];\r\n                user = this.state.questionnaire.values[i].UserID;\r\n            }\r\n        }\r\n        for(i = 0; i < arr.length; i++){\r\n            let values = [];\r\n            if(arr[i]){\r\n                for(var j = 0; j < arr[i].values.length; j++){\r\n                    if(arr[i].values[j].UserID[\"BirthDate\"] === key){\r\n                        values = arr[i].values[j].docs;\r\n                        sDate = arr[i].values[j].UserID[\"DateOfSurgery\"];\r\n                        user = arr[i].values[j].UserID;\r\n                    }\r\n                }\r\n                arr[i].values = values;\r\n            }\r\n        }\r\n        this.setState({\r\n            dataArr: arr,\r\n            dailyA: da,\r\n            date: sDate,\r\n            user: user,\r\n            ready: true,\r\n            className: \"normal\"\r\n        });\r\n        if(this.state.showPopup){\r\n            this.togglePopup();\r\n        }\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        if(event){\r\n            event.preventDefault()\r\n        }\r\n        this.setState({\r\n            ready: false,\r\n            className: \"waiting\",\r\n            periodicAnswers: []\r\n        });\r\n        var numOfUsers = 0;\r\n        var arr = [];\r\n        var  i = 0;\r\n        let response = await this.getRequest(\"צעדים\", \"metrics/getSteps\");\r\n        if(!response){\r\n            window.alert(\"לא קיים מטופל\");\r\n            return;\r\n        }\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"מרחק\", \"metrics/getDistance\")\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"קלוריות\", \"metrics/getCalories\")\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"מזג האוויר\", \"metrics/getWeather\")\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"שעות שינה\", \"metrics/getSleep\");\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"תשובות יומיות\", \"answers/getDailyAnswers\")\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        let responseQ = await this.getRequest(\"שאלון תקופתי\", \"answers/getPeriodicAnswers\")\r\n        var num = 0;\r\n        var id = {};\r\n        for(i = 0; i < responseQ.values.length; i++){\r\n            if(!id[responseQ.values[i].UserID]){\r\n                id[responseQ.values[i].UserID] = true;\r\n                num++;\r\n            }\r\n        }\r\n        if(num > numOfUsers){\r\n            numOfUsers = num;\r\n        }\r\n        this.setState({\r\n            dataArr : arr,\r\n            dailyA: response.values,\r\n            numOfUsers: numOfUsers,\r\n            questionnaire: responseQ\r\n        });\r\n        if(numOfUsers === 1){\r\n            let x = this.state.dailyA[0].UserID[\"BirthDate\"];\r\n            if(!x)\r\n                x = this.state.periodicAnswers[0].UserID[\"BirthDate\"];\r\n            if(!x)\r\n                x = this.state.dataArr[0][0].UserID[\"BirthDate\"];\r\n            this.selectUser(x)\r\n        }\r\n        if(numOfUsers > 1){\r\n            var cards = [];\r\n            for(i = 0; i < numOfUsers; i++){\r\n                let x = this.state.dailyA[i].UserID[\"BirthDate\"];\r\n                if(!x)\r\n                    x = this.state.periodicAnswers[i].UserID[\"BirthDate\"];\r\n                if(!x)\r\n                    x = this.state.dataArr[0][i].UserID[\"BirthDate\"];\r\n                let dateC = new Date(x);\r\n                this.state.x.push(dateC.toLocaleDateString('en-GB', {day: 'numeric', month: 'numeric', year:\"numeric\"}))\r\n                cards.push(\r\n                    <Card className=\"card\" key={this.state.x[i]}  onClick={() => this.selectUser(x)}>\r\n                        <Card.Body className=\"cardBody\">שם פרטי: {this.state.pName.trim()} </Card.Body>\r\n                        <Card.Body className=\"cardBody\">שם משפחה: {this.state.fName.trim()} </Card.Body>\r\n                        <Card.Body className=\"cardBody\">תאריך לידה: {this.state.x[i]}</Card.Body>\r\n                    </Card>\r\n                );\r\n            }\r\n            this.setState({\r\n                text: cards\r\n            });\r\n            this.togglePopup();\r\n        }\r\n    }\r\n    isDoctor(){\r\n        return sessionStorage.getItem('doctor')\r\n    }\r\n    render() {\r\n        require(\"./search.css\");\r\n        var today = (new Date()).toISOString().split(\"T\")[0];\r\n        var searchButton;\r\n\r\n        if (this.isDoctor()) {\r\n            searchButton = <div className=\"search\">\r\n                <label className=\"lSearch\">\r\n                    חפש מטופל:\r\n                </label>\r\n                <input className=\"iSearch\"\r\n                       id=\"pname\"\r\n                       type=\"text\"\r\n                       name=\"pName\"\r\n                       value={this.state.pName}\r\n                       placeholder=\"שם פרטי ומשפחה\"\r\n                       onChange={this.handleChange}\r\n                       list=\"first-list\"\r\n                       required\r\n                />\r\n                <button className=\"bSearch\">\r\n                    חפש\r\n                </button>\r\n            </div>\r\n        } else {\r\n            searchButton = <div><button className=\"bSearch\">חפש</button></div>\r\n        }\r\n        return (\r\n            <div>\r\n                <datalist id=\"first-list\">\r\n                    {this.state.optionsPName}\r\n                </datalist>\r\n                <datalist id=\"last-list\">\r\n                    {this.state.optionsLName}\r\n                </datalist>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    {searchButton}\r\n                    <div className=\"dates\">\r\n                        <label className=\"cSearch\">\r\n                            בחר תאריכים: מ\r\n                        </label>\r\n                        <input className=\"dSearch\"\r\n                               type=\"date\"\r\n                               name=\"start_date\"\r\n                               value={this.state.start_date}\r\n                               onChange={this.handleChange}\r\n                               max={this.state.end_date}\r\n                        />\r\n                        <label className=\"aSearch\">\r\n                            עד\r\n                        </label>\r\n                        <input className=\"dSearch\"\r\n                               type=\"date\"\r\n                               name=\"end_date\"\r\n                               value={this.state.end_date}\r\n                               onChange={this.handleChange}\r\n                               max={today}\r\n                        />\r\n                    </div>\r\n                    <div className=\"mdd\">\r\n                        <label className=\"mLabel\">\r\n                            בחר מדדים:\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                               type=\"checkbox\"\r\n                               name=\"steps\"\r\n                               checked={this.state.steps}\r\n                               onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            צעדים\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                               type=\"checkbox\"\r\n                               name=\"distance\"\r\n                               checked={this.state.distance}\r\n                               onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            מרחק\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                               type=\"checkbox\"\r\n                               name=\"weather\"\r\n                               checked={this.state.weather}\r\n                               onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            מזג האוויר\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                               type=\"checkbox\"\r\n                               name=\"calories\"\r\n                               checked={this.state.calories}\r\n                               onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            קלוריות\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                               type=\"checkbox\"\r\n                               name=\"sleeping_hours\"\r\n                               checked={this.state.sleeping_hours}\r\n                               onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            שעות שינה\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                               type=\"checkbox\"\r\n                               name=\"dailyQ\"\r\n                               checked={this.state.dailyQ}\r\n                               onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            שאלון יומי\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                               type=\"checkbox\"\r\n                               name=\"perQ\"\r\n                               checked={this.state.perQ}\r\n                               onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            שאלונים תקופתיים\r\n                        </label>\r\n                    </div>\r\n                    <div className=\"mddShow\">\r\n                        <label className=\"mLabel\">\r\n                            בחר אופן הצגה:\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                               type=\"checkbox\"\r\n                               name=\"showDaily\"\r\n                               checked={this.state.showDaily}\r\n                               onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            יומי\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                               type=\"checkbox\"\r\n                               name=\"weekly\"\r\n                               checked={this.state.weekly}\r\n                               onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            שבועי\r\n                        </label>\r\n                        <input className=\"cInput\"\r\n                               type=\"checkbox\"\r\n                               name=\"monthly\"\r\n                               checked={this.state.monthly}\r\n                               onChange={this.handleChange}\r\n                        />\r\n                        <label className=\"mLabel\">\r\n                            חודשי\r\n                        </label>\r\n                    </div>\r\n                </form>\r\n                <br />\r\n                <DisplayButton\r\n                    dataArr={this.state.dataArr}\r\n                    steps={this.state.steps}\r\n                    distance={this.state.distance}\r\n                    calories={this.state.calories}\r\n                    weather={this.state.weather}\r\n                    sleep={this.state.sleeping_hours}\r\n                    dailyA={this.state.dailyA}\r\n                    periodicAnswers={this.state.periodicAnswers}\r\n                    dailyQ={this.state.dailyQ}\r\n                    perQ={this.state.perQ}\r\n                    date={this.state.date}\r\n                    showDaily={this.state.showDaily}\r\n                    weekly={this.state.weekly}\r\n                    monthly={this.state.monthly}\r\n                    user={this.state.user}\r\n                    name={this.state.pName.trim() + \" \" + this.state.fName.trim()}\r\n                    ready={this.state.ready}\r\n                />\r\n                {this.state.showPopup ?\r\n                    <Popup\r\n                        text={this.state.text}\r\n                        closePopup={this.togglePopup.bind(this)}\r\n                    /> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PatientSearch\r\n\r\nclass Popup extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className='popup'>\r\n                <div className='popup_inner' >\r\n                    <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                    <h4>:אנא בחר מבין הרשומות הבאות</h4>\r\n                    {this.props.text}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n/*\r\n\r\n                        <input className=\"iSearch\"\r\n                            id=\"fname\"\r\n                            type=\"text\"\r\n                            name=\"fName\"\r\n                            value={this.state.fName}\r\n                            placeholder=\"שם משפחה\"\r\n                            onChange={this.handleChange}\r\n                            list=\"last-list\"\r\n                            required\r\n                        />\r\n                        */","import React from 'react'\r\nimport \"./NavBar.css\"\r\nimport { Navbar,Nav } from 'react-bootstrap'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\r\nimport { FaUser,FaUserMd } from 'react-icons/fa'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport Card from \"react-bootstrap/Card\";\r\nimport ListGroup from \"react-bootstrap/ListGroup\";\r\nimport PatientData from \"./PatientData\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nclass NavBar extends React.Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            showPopup: false,\r\n            userInfo: false,\r\n            pass: \"\",\r\n            pass2: \"\",\r\n            diff: false,\r\n            isLogOut: false,\r\n            isMessage: false,\r\n            isPatientInfo: false,\r\n            isInstructions: false,\r\n            isExercises: false,\r\n            isEdit: false,\r\n        };\r\n        this.logout = this.logout.bind(this);\r\n        this.change = this.change.bind(this);\r\n        this.privateInfoShow = this.privateInfoShow.bind(this);\r\n        this.togglePopup = this.togglePopup.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.changeToEdit = this.changeToEdit.bind(this);\r\n        this.updateUser = this.updateUser.bind(this);\r\n    }\r\n\r\n    goToMessages() {\r\n        this.setState({\r\n            isPatientInfo: false,\r\n            isInstructions: false,\r\n            isMessage: true,\r\n            isQuestionnaires: false,\r\n            isExercises: false\r\n        })\r\n    }\r\n\r\n    goToExercises() {\r\n        this.setState({\r\n            isPatientInfo: false,\r\n            isInstructions: false,\r\n            isMessage: false,\r\n            isExercises: true,\r\n            isQuestionnaires: false\r\n        })\r\n    }\r\n\r\n    goToSearch() {\r\n        this.setState({\r\n            isPatientInfo: true,\r\n            isMessage:false,\r\n            isQuestionnaires: false,\r\n            isInstructions: false,\r\n            isExercises: false\r\n        })\r\n    }\r\n\r\n    goToQuestionnaires() {\r\n        this.setState({\r\n            isPatientInfo: false,\r\n            isMessage: false,\r\n            isInstructions: false,\r\n            isQuestionnaires: true,\r\n            isExercises: false\r\n        })\r\n    }\r\n\r\n    goToInstructions() {\r\n        this.setState({\r\n            isPatientInfo: false,\r\n            isMessage: false,\r\n            isInstructions: true,\r\n            isQuestionnaires: false,\r\n            isExercises: false\r\n        })\r\n    }\r\n\r\n    togglePopup() {\r\n        this.setState({\r\n            showPopup: !this.state.showPopup\r\n        });\r\n    }\r\n\r\n    toggleUserInfo() {\r\n        this.setState({\r\n            userInfo: !this.state.userInfo\r\n        });\r\n    }\r\n\r\n    async handleSubmit(event){\r\n        event.preventDefault();\r\n        if(this.state.pass !== this.state.pass2){\r\n            this.setState({\r\n                diff: true\r\n            });\r\n        }\r\n        else{\r\n            let url = 'http://localhost:8180/auth/usersAll/askChangePassword';\r\n            var token;\r\n            const response = await axios.post(\r\n                url,\r\n                {},\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': sessionStorage.getItem(\"token\")\r\n                    }\r\n                }\r\n            );\r\n            token = response.data.data;\r\n            url = 'http://localhost:8180/users/passwordChangeCheck/changePassword';\r\n            const responsec = await axios.post(\r\n                url,\r\n                {\r\n                    \"NewPassword\":this.state.pass\r\n                },\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': token\r\n                    }\r\n                }\r\n            );\r\n            if(responsec.data.message){\r\n                window.alert(\"הסיסמא שונתה בהצלחה\");\r\n                this.togglePopup();\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getInfo()\r\n    }\r\n\r\n    async getInfo(){\r\n        let url = 'http://localhost:8180/auth/usersAll/userInfo';\r\n        var token;\r\n        const response = await axios.get(\r\n            url,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                }\r\n            }\r\n        );\r\n        this.setState({currUser: response.data.data})\r\n    }\r\n\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({ [name]: checked }) : this.setState({ [name]: value })\r\n    }\r\n\r\n    logout() {\r\n        sessionStorage.removeItem(\"token\");\r\n        sessionStorage.removeItem(\"type\");\r\n        sessionStorage.removeItem(\"name\");\r\n        sessionStorage.removeItem(\"doctor\");\r\n        sessionStorage.removeItem(\"patient\");\r\n        sessionStorage.removeItem(\"patientUserId\");\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"type\");\r\n        localStorage.removeItem(\"name\");\r\n        localStorage.removeItem(\"doctor\");\r\n        localStorage.removeItem(\"patient\");\r\n        this.setState({\r\n            isLogOut: true\r\n        })\r\n    }\r\n\r\n    change(){\r\n        this.togglePopup();\r\n    }\r\n\r\n    privateInfoShow(){\r\n        this.toggleUserInfo()\r\n    }\r\n\r\n    isDoctor(){\r\n        return sessionStorage.getItem('doctor')\r\n    }\r\n\r\n    changeToEdit(){\r\n        this.setState({\r\n            isEdit: !this.state.isEdit\r\n        });\r\n    }\r\n\r\n    updateUser(user){\r\n        this.setState({currUser: user})\r\n    }\r\n\r\n    render() {\r\n        var path = window.location.pathname;\r\n        require(\"./NavBar.css\");\r\n        var iconType;\r\n        if (this.isDoctor()) {\r\n            iconType = <FaUserMd class=\"userIcon\" style={{color: 'white'}} size={25}/>\r\n        }else{\r\n            iconType =  <FaUser class=\"userIcon\" style={{color: 'white'}} size={25}/>\r\n        }\r\n        return (\r\n            <div>\r\n                <Navbar class=\"navbar navbar-fixed-top\" bg=\"dark\" variant=\"dark\" fixed=\"top\">\r\n                    <div id=\"buttons\">\r\n                        <button id=\"change\" class=\"btn btn-dark\" type=\"button\" onClick={() => this.goToSearch()}>מדדים אישיים</button>\r\n                        <span>{'    '}            </span>\r\n                        <button id=\"change\" class=\"btn btn-dark\" type=\"button\" onClick={() => this.goToQuestionnaires()}>שאלונים</button>\r\n                        <span>{'              '}</span>\r\n                        <button id=\"change\" class=\"btn btn-dark\" type=\"button\"  onClick={() => this.goToMessages()}>לוח הודעות</button>\r\n                        <button id=\"change\" class=\"btn btn-dark\" type=\"button\" onClick={() => this.goToExercises()}>תרגולים רפואיים</button>\r\n                        <button id=\"change\" class=\"btn btn-dark\" type=\"button\" onClick={()=> this.goToInstructions()}>הדרכות ניתוח</button>\r\n                        {this.state.isMessage ? <Redirect to=\"/messages\" /> : null}\r\n                        {this.state.isPatientInfo ? <Redirect to=\"/search\" /> : null}\r\n                        {this.state.isQuestionnaires ? <Redirect to=\"/questionnaires\" /> : null}\r\n                        {this.state.isQuestionnaires ? this.setState({isQuestionnaires: false}) : null}\r\n                        {this.state.isInstructions ? <Redirect to=\"/instructions\" /> : null}\r\n                        {this.state.isExercises ? <Redirect to=\"/exercises\" /> : null}\r\n                        {this.state.isLogOut ? <Redirect to=\"/\" /> : null}\r\n                        {this.state.showPopup ?\r\n                            <Popup\r\n                                change={this.handleChange.bind(this)}\r\n                                closePopup={this.togglePopup.bind(this)}\r\n                                handleSubmit={this.handleSubmit.bind(this)}\r\n                                diff={this.state.diff}\r\n                            /> : null\r\n                        }\r\n                        {this.state.userInfo && sessionStorage.getItem('patient') ?\r\n                            <UserInfo\r\n                                user = {this.state.currUser}\r\n                                isEdit = {this.state.isEdit}\r\n                                closePopup={this.toggleUserInfo.bind(this)}\r\n                                changeToEdit = {this.changeToEdit}\r\n                                updateUser = {this.updateUser}\r\n                            /> : null\r\n                        }\r\n                        {this.state.userInfo && sessionStorage.getItem('doctor') ?\r\n                        <DoctorInfo\r\n                            user = {this.state.currUser}\r\n                            isEdit = {this.state.isEdit}\r\n                            closePopup={this.toggleUserInfo.bind(this)}\r\n                            changeToEdit = {this.changeToEdit}\r\n                            updateUser = {this.updateUser}\r\n                        /> : null\r\n                    }\r\n                    </div>\r\n                    <NavDropdown  id=\"dropdown-item-button\" style={{color : 'white'}} title = {sessionStorage.getItem(\"name\")}>\r\n                        <NavDropdown.Item as=\"button\" onClick={() => this.change()}>שנה סיסמא</NavDropdown.Item>\r\n                        <NavDropdown.Item as=\"button\" onClick={() => this.logout()}>התנתק</NavDropdown.Item>\r\n                        <NavDropdown.Item as=\"button\" onClick={() => this.privateInfoShow()}>פרטים אישיים</NavDropdown.Item>\r\n                    </NavDropdown>\r\n                    {iconType}\r\n                    <Navbar.Brand>\r\n                        <img\r\n                            alt=\"\"\r\n                            src={require(\"./first_logo.png\")}\r\n                            width=\"70\"\r\n                            height=\"30\"\r\n                            className=\"d-inline-block align-top\"\r\n                        />{' '}\r\n                    </Navbar.Brand>\r\n                </Navbar>\r\n                <br/>\r\n                <br/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NavBar;\r\n\r\nclass Popup extends React.Component {\r\n    render() {\r\n        // require(\"./NavBar.css\");\r\n        return (\r\n            <div className='popup'>\r\n                <div className='popup_inner'>\r\n                    <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                    <h3 id=\"h3\">החלפת סיסמא</h3>\r\n                    <form onSubmit={this.props.handleSubmit}>\r\n                        <div className=\"lineC\">\r\n                            <label>\r\n                                סיסמא חדשה:\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"lineC\">\r\n                            <input type=\"password\" name=\"pass\" id=\"pass\" onChange={this.props.change} required/>\r\n                        </div>\r\n                        <div className=\"lineC\">\r\n                            <label>\r\n                                הקלד את הסיסמא מחדש:\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"lineC\">\r\n                            <input type=\"password\" name=\"pass2\" id=\"pass2\" onChange={this.props.change} required/>\r\n                        </div>\r\n                        <div className=\"lineC\">\r\n                            {this.props.diff ? <label id=\"diffPass\">הסיסמאות שונות</label> : null}\r\n                        </div>\r\n                        <div className=\"lineC\">\r\n                            <input type=\"submit\" value=\"שלח\"/>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nclass DoctorInfo extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userName: \"\",\r\n            fName: this.props.user.First_Name,\r\n            lName: this.props.user.Last_Name,\r\n            bday: new Date(this.props.user.BirthDate),\r\n            phone: this.props.user.Phone_Number\r\n        };\r\n        this.handleChangeInfo = this.handleChangeInfo.bind(this);\r\n        this.handleSubmitInfo = this.handleSubmitInfo.bind(this);\r\n    }\r\n    handleChangeInfo(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    async handleSubmitInfo(event) {\r\n        event.preventDefault();\r\n        var bDay = new Date(this.state.bday);\r\n        var now = new Date();\r\n        var dateOfSurgery = new Date(this.state.dateOfSurgery);\r\n        let height_double = Number(this.state.height / 100);\r\n        let bmi = String((Number(this.state.weight)/Math.pow(height_double,2)));\r\n        const response = await axios.put('http://localhost:8180/auth/usersAll/doctorUpdate', {\r\n                // UserID: this.state.userName,\r\n                First_Name: this.state.fName,\r\n                Last_Name: this.state.lName,\r\n                Phone_Number: this.state.phone,\r\n                BirthDate: bDay.getTime(),\r\n                ValidTime: now.getTime()\r\n            },\r\n            {headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                }})\r\n        this.props.changeToEdit()\r\n        this.props.updateUser(response.data.data)\r\n    }\r\n    render() {\r\n        require(\"./NavBar.css\");\r\n        let bDate = new Date(this.state.bday).toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });\r\n        var today = new Date();\r\n        var birthday = new Date(this.props.user[\"BirthDate\"]);\r\n        var age = Math.floor((today.getTime() - birthday.getTime())/ 31536000000)\r\n       var today = (new Date()).toISOString().split(\"T\")[0];\r\n        var date = new Date(this.state.bday).toISOString().substr(0,10);\r\n        return (\r\n            <div className='popup'>\r\n                <div className='popup_inner_info'>\r\n                    <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                    {!this.props.isEdit ?\r\n                        <Card class=\"cardInfo\">\r\n                            <Card.Header><b>{this.props.user.First_Name}{' '}{this.props.user.Last_Name}</b></Card.Header>\r\n                            <ListGroup variant=\"flush\">\r\n                                <ListGroup.Item className={\"listItem\"} > תאריך לידה: {bDate} </ListGroup.Item>\r\n                                <ListGroup.Item className={\"listItem\"}> גיל: {age}</ListGroup.Item>\r\n                                {/*<ListGroup.Item className={\"listItem\"}> מין: {this.props.user.Gender} </ListGroup.Item>*/}\r\n                                <ListGroup.Item className={\"listItem\"}> טלפון: {this.props.user.Phone_Number} </ListGroup.Item>\r\n                            </ListGroup>\r\n                        </Card> : null }\r\n                    {this.props.isEdit ?\r\n                        <form onSubmit={this.handleSubmitInfo} onReset={this.handleReset} id=\"new_user_form\">\r\n                            <br/>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">שם פרטי</label>\r\n                                <input className=\"inputs_in_add_user\" name=\"fName\" type=\"text\" value={this.state.fName} maxLength=\"20\"\r\n                                       onChange={this.handleChangeInfo} required/>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">שם משפחה </label>\r\n                                <input className=\"inputs_in_add_user\" name=\"lName\" type=\"text\" value={this.state.lName} maxLength=\"20\"\r\n                                       onChange={this.handleChangeInfo} required/>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">מספר טלפון</label>\r\n                                <input className=\"inputs_in_add_user\" name=\"phone\" type=\"tel\" id=\"phone\" pattern=\"[0-9]{10}\"\r\n                                       value={this.state.phone} onChange={this.handleChangeInfo} required/>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">תאריך לידה</label>\r\n                                <input className=\"inputs_in_add_user\" name=\"bday\" type=\"date\" max={today}\r\n                                       value={date} onChange={this.handleChangeInfo} required/>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <input style={{width: 150}} variant=\"info\" type=\"submit\" value=\"שמור\" className=\"submit_and_reset_buttons\"/>\r\n                            </div>\r\n                        </form> : null}\r\n                    {!this.props.isEdit ?\r\n                        <button style={{width: 150, float:'left',position:'relative'}} variant=\"info\" onClick={this.props.changeToEdit}> עריכת/הצגת פרטים </button> : null}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nclass UserInfo extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userName: \"\",\r\n            fName: this.props.user.First_Name,\r\n            lName: this.props.user.Last_Name,\r\n            bday: new Date(this.props.user.BirthDate),\r\n            phone: this.props.user.Phone_Number,\r\n            gender: this.props.user.Gender,\r\n            smoke: this.props.user.Smoke,\r\n            dateOfSurgery:new Date(this.props.user.DateOfSurgery),\r\n            surgeryType: this.props.user.SurgeryType,\r\n            education: this.props.user.Education,\r\n            height: this.props.user.Height,\r\n            weight: this.props.user.Weight,\r\n            bmi:this.props.user.BMI,\r\n        }\r\n        this.handleChangeInfo = this.handleChangeInfo.bind(this);\r\n        this.handleSubmitInfo = this.handleSubmitInfo.bind(this);\r\n        this.onSelectGender = this.onSelectGender.bind(this);\r\n        this.onSelectSmoke = this.onSelectSmoke.bind(this);\r\n        this.onSelectSurgeryType = this.onSelectSurgeryType.bind(this);\r\n        this.onSelectEducation = this.onSelectEducation.bind(this);\r\n    }\r\n    handleChangeInfo(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    async handleSubmitInfo(event) {\r\n        event.preventDefault();\r\n        var bDay = new Date(this.state.bday);\r\n        var now = new Date();\r\n        var dateOfSurgery = new Date(this.state.dateOfSurgery);\r\n        let height_double = Number(this.state.height / 100);\r\n        let bmi = String((Number(this.state.weight)/Math.pow(height_double,2)));\r\n        const response = await axios.put('http://localhost:8180/auth/usersAll/patientUpdate', {\r\n                // UserID: this.state.userName,\r\n                First_Name: this.state.fName,\r\n                Last_Name: this.state.lName,\r\n                Phone_Number: this.state.phone,\r\n                Gender:this.state.gender,\r\n                Smoke: this.state.smoke,\r\n                DateOfSurgery: dateOfSurgery.getTime(),\r\n                SurgeryType: this.state.surgeryType,\r\n                Education: this.state.education,\r\n                Height: this.state.height,\r\n                Weight: this.state.weight,\r\n                BMI: bmi,\r\n                BirthDate: bDay.getTime(),\r\n                ValidTime: now.getTime()\r\n            },\r\n            {headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                }})\r\n        this.props.changeToEdit()\r\n        this.props.updateUser(response.data.data)\r\n\r\n    }\r\n    onSelectGender(event) {\r\n        let gender;\r\n        const selectedIndex = event.target.options.selectedIndex;\r\n        if (selectedIndex == 1) {\r\n            gender = \"נקבה\"\r\n        } else if (selectedIndex == 2) {\r\n            gender = \"זכר\"\r\n        }\r\n        this.setState({\r\n            gender: gender\r\n        });\r\n    }\r\n    onSelectSmoke(event) {\r\n        const selectedIndex = event.target.options.selectedIndex;\r\n        let smoke;\r\n        if (selectedIndex == 1) {\r\n            smoke = \"מעשן\"\r\n        } else if (selectedIndex == 2) {\r\n            smoke = \"לא מעשן\"\r\n        }\r\n        this.setState({\r\n            smoke: smoke\r\n        });\r\n    }\r\n    onSelectEducation(event) {\r\n        const selectedIndex = event.target.options.selectedIndex;\r\n        let educationOptions = {1 :\"השכלה אקדמאית\", 2: \"השכלה תיכונית\", 3:\"10-12 שנות לימוד\", 4: \"6-9 שנות לימוד\", 5: \"5 שנות לימוד או פחות\", 6:\"לא מעוניין לענות\"};\r\n        this.setState({\r\n            education: educationOptions[selectedIndex]\r\n        });\r\n    }\r\n\r\n    onSelectSurgeryType(event) {\r\n        const selectedIndex = event.target.options.selectedIndex;\r\n        let sType;\r\n        if (selectedIndex == 1) {\r\n            sType = \"ניתוח דחוף\"\r\n        }else if (selectedIndex == 2)\r\n        {\r\n            sType = \"ניתוח מתוכנן\"\r\n\r\n        }else if (selectedIndex == 3) {\r\n            sType = \"ללא ניתוח\"\r\n        }\r\n        this.setState({\r\n            surgeryType: sType\r\n        });\r\n        if( selectedIndex !== 3 && selectedIndex !==0){\r\n            this.setState({\r\n                surgeryDateDisplay: true\r\n            });\r\n        }else{\r\n            this.setState({\r\n                surgeryDateDisplay: false\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n            require(\"./NavBar.css\");\r\n        let bDate = new Date(this.state.bday).toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });\r\n        var today = new Date();\r\n        var birthday = new Date(this.props.user[\"BirthDate\"]);\r\n        var age = Math.floor((today.getTime() - birthday.getTime())/ 31536000000)\r\n        let sDate = (new Date(this.state.dateOfSurgery)).toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });\r\n        let bmi = parseFloat(this.props.user[\"BMI\"]).toFixed(1);\r\n        let patientListItems;\r\n        if(sessionStorage.getItem(\"patient\")){\r\n            patientListItems =  <div>\r\n                <ListGroup.Item className={\"listItem\"}> גובה: {this.props.user.Height}</ListGroup.Item>\r\n                <ListGroup.Item className={\"listItem\"}> משקל: {this.props.user.Weight}</ListGroup.Item>\r\n                <ListGroup.Item className={\"listItem\"}> BMI:{bmi}</ListGroup.Item>\r\n                <ListGroup.Item className={\"listItem\"}> תאריך ניתוח: {sDate} </ListGroup.Item>\r\n                <ListGroup.Item className={\"listItem\"}> סוג ניתוח: {this.props.user.SurgeryType} </ListGroup.Item>\r\n                <ListGroup.Item className={\"listItem\"}> השכלה: {this.props.user.Education} </ListGroup.Item>\r\n            </div>\r\n        }\r\n        let genderOptions = [<option></option>,<option>נקבה</option>,<option>זכר</option>];\r\n        let surgeryOptions = [<option/>,<option>ניתוח דחוף</option>,<option>ניתוח מתוכנן</option>,<option>ללא ניתוח</option>];\r\n        let smokeOptions = [<option/>,<option>מעשן</option>,<option>לא מעשן</option>];\r\n        let educationOptions = [<option/>,<option>השכלה אקדמאית</option>,<option>השכלה תיכונית</option>,<option>10-12 שנות לימוד</option>,<option>6-9 שנות לימוד</option>,<option>5 שנות לימוד או פחות</option>,<option>לא מעוניין לענות</option>];\r\n        var today = (new Date()).toISOString().split(\"T\")[0];\r\n        var date = new Date(this.state.bday).toISOString().substr(0,10);\r\n        var surgeryDate = new Date(this.state.dateOfSurgery).toISOString().substr(0,10);\r\n        return (\r\n            <div className='popup'>\r\n                <div className='popup_inner_info'>\r\n                    <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                    {!this.props.isEdit ?\r\n                        <Card class=\"cardInfo\">\r\n                            <Card.Header><b>{this.props.user.First_Name}{' '}{this.props.user.Last_Name}</b></Card.Header>\r\n                            <ListGroup variant=\"flush\">\r\n                                <ListGroup.Item className={\"listItem\"} > תאריך לידה: {bDate} </ListGroup.Item>\r\n                                <ListGroup.Item className={\"listItem\"}> גיל: {age}</ListGroup.Item>\r\n                                <ListGroup.Item className={\"listItem\"}> מין: {this.props.user.Gender} </ListGroup.Item>\r\n                                <ListGroup.Item className={\"listItem\"}> טלפון: {this.props.user.Phone_Number} </ListGroup.Item>\r\n                                {patientListItems}\r\n                            </ListGroup>\r\n                        </Card> : null }\r\n                    {this.props.isEdit ?\r\n                        <form onSubmit={this.handleSubmitInfo} onReset={this.handleReset} id=\"new_user_form\">\r\n                            <br/>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">שם פרטי</label>\r\n                                <input className=\"inputs_in_add_user\" name=\"fName\" type=\"text\" value={this.state.fName} maxLength=\"20\"\r\n                                       onChange={this.handleChangeInfo} required/>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">שם משפחה </label>\r\n                                <input className=\"inputs_in_add_user\" name=\"lName\" type=\"text\" value={this.state.lName} maxLength=\"20\"\r\n                                       onChange={this.handleChangeInfo} required/>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">מספר טלפון</label>\r\n                                <input className=\"inputs_in_add_user\" name=\"phone\" type=\"tel\" id=\"phone\" pattern=\"[0-9]{10}\"\r\n                                       value={this.state.phone} onChange={this.handleChangeInfo} required/>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">תאריך לידה</label>\r\n                                <input className=\"inputs_in_add_user\" name=\"bday\" type=\"date\" max={today}\r\n                                       value={date} onChange={this.handleChangeInfo} required/>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">משקל (ק\"ג) </label>\r\n                                <input className=\"inputs_in_add_user\" name=\"weight\" type=\"number\" value={this.state.weight}\r\n                                       onChange={this.handleChangeInfo} required/>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">גובה (ס\"מ) </label>\r\n                                <input className=\"inputs_in_add_user\" name=\"height\" type=\"number\" value={this.state.height}\r\n                                       onChange={this.handleChangeInfo} required/>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">מין </label>\r\n                                <select value={this.state.gender} className=\"select_in_add_user\" onChange={this.onSelectGender}>\r\n                                    {genderOptions}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">מעשן </label>\r\n                                <select value={this.state.smoke} className=\"select_in_add_user\" onChange={this.onSelectSmoke}>\r\n                                    {smokeOptions}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">השכלה </label>\r\n                                <select value={this.state.education} className=\"select_in_add_user\" onChange={this.onSelectEducation}>\r\n                                    {educationOptions}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">סוג ניתוח </label>\r\n                                <select value={this.state.surgeryType} className=\"select_in_add_user\" onChange={this.onSelectSurgeryType}>\r\n                                    {surgeryOptions}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <label className=\"labels_in_add_user\">תאריך ניתוח</label>\r\n                                <input className=\"inputs_in_add_user\" name=\"dateOfSurgery\" type=\"date\"\r\n                                       value={surgeryDate} onChange={this.handleChangeInfo} required/>\r\n                            </div>\r\n                            <div className=\"divs_in_add\">\r\n                                <input style={{width: 150}} variant=\"info\" type=\"submit\" value=\"שמור\" className=\"submit_and_reset_buttons\"/>\r\n                            </div>\r\n                        </form> : null}\r\n                    {!this.props.isEdit ?\r\n                        <button style={{width: 150, float:'left',position:'relative'}} variant=\"info\" onClick={this.props.changeToEdit}> עריכת/הצגת פרטים </button> : null}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport Table from \"react-bootstrap/Table\";\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport axios from \"axios\";\r\nimport { AiFillDelete, AiFillEdit } from 'react-icons/ai'\r\n\r\n\r\n\r\nclass MessagesPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            messages:[],\r\n            content:'כתוב את הודעתך כאן'\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchMessagesPatient();\r\n        this.fetchMessagesDoctor();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(this.props.patientUserId && this.props.patientUserId !== prevProps.patientUserId) {\r\n            this.fetchMessagesDoctor();\r\n        }\r\n    }\r\n\r\n    async fetchMessagesPatient(){\r\n        if(sessionStorage.getItem('patient')) {\r\n            var response = await axios.get(\r\n                \"http://localhost:8180/auth/patients/messages\",\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': sessionStorage.getItem(\"token\")\r\n                    }\r\n                }\r\n            );\r\n            if (response.data.data) {\r\n                this.setState({messages: response.data.data.reverse()});\r\n            }\r\n        }\r\n    }\r\n\r\n    async fetchMessagesDoctor(){\r\n        if(sessionStorage.getItem('doctor') && this.props.patientUserId) {\r\n            let patientId = encodeURIComponent(this.props.patientUserId);\r\n            var response = await axios.get(\r\n                `http://localhost:8180/auth/doctors/messages/${patientId}`,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': sessionStorage.getItem(\"token\")\r\n                    }\r\n                }\r\n            );\r\n            if (response.data.data) {\r\n                this.setState({messages: response.data.data.reverse()});\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    async addMessage(){\r\n        if (sessionStorage.getItem('patient')) {\r\n            axios.post('http://localhost:8180/auth/patients/messages',\r\n                {\r\n                    content: this.state.content,\r\n                },\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': sessionStorage.getItem(\"token\")\r\n                    }\r\n                }).then(res => {\r\n                this.fetchMessagesPatient();\r\n                this.setState({content: \"כתוב את הודעתך כאן\"})\r\n            });\r\n        }\r\n        if (sessionStorage.getItem('doctor')){\r\n            let patientId = encodeURIComponent(this.props.patientUserId);\r\n            axios.post( `http://localhost:8180/auth/doctors/messages/${patientId}`,\r\n                {\r\n                    content: this.state.content,\r\n                },\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': sessionStorage.getItem(\"token\")\r\n                    }\r\n                }).then(res => {\r\n                this.fetchMessagesDoctor();\r\n                this.setState({content: \"כתוב את הודעתך כאן\"})\r\n            });\r\n        }\r\n    }\r\n\r\n    async removeMessage(mId){\r\n        if (sessionStorage.getItem('patient')) {\r\n            console.log(\"patient\")\r\n            axios.post('http://localhost:8180/auth/patients/messages/removeMessage',\r\n                {\r\n                    MessageId: mId,\r\n                },\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': sessionStorage.getItem(\"token\")\r\n                    }\r\n                }).then(res => {\r\n                this.fetchMessagesPatient();\r\n                this.fetchMessagesDoctor();\r\n            });\r\n        }\r\n        else if(sessionStorage.getItem('doctor')) {\r\n            axios.delete(`http://localhost:8180/auth/doctors/messages/removeMessage/${mId}`,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': sessionStorage.getItem(\"token\")\r\n                    }\r\n                }).then(res => {\r\n                // this.fetchMessagesPatient();\r\n                this.fetchMessagesDoctor();\r\n            });\r\n        }\r\n    }\r\n\r\n    // async updateMessage(mId){\r\n    //     console.log(mId)\r\n    //     if (sessionStorage.getItem('patient')) {\r\n    //         axios.put('http://localhost:8180/auth/patients/messages/updateMessage',\r\n    //             {\r\n    //                 MessageId: mId,\r\n    //                 Content: this.state.content\r\n    //             },\r\n    //             {\r\n    //                 headers: {\r\n    //                     'Content-Type': 'application/json',\r\n    //                     'x-auth-token': sessionStorage.getItem(\"token\")\r\n    //                 }\r\n    //             }).then(res => {\r\n    //             this.fetchMessagesPatient();\r\n    //         });\r\n    //     }\r\n    // }\r\n\r\n\r\n\r\n\r\n    handleChange(event) {\r\n        // let content = event.target.value\r\n        // if(content.length() > 150){\r\n        //     window.alert(\"אורך ההודעה עד 150 תוים\")\r\n        // } else {\r\n            this.setState({content: event.target.value});\r\n        // }\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        if(sessionStorage.getItem('doctor') && this.props.patientUserId == undefined){\r\n            window.alert(\"אנא בחר מטופל לצורך שליחת הודעה\")\r\n        }else {\r\n            if (this.state.content.length > 150) {\r\n                window.alert(\"אורך הודעה עד 150 תוים!\")\r\n            } else {\r\n                var count = 0;\r\n                var dt2 = new Date();\r\n                this.state.messages.forEach(message => {\r\n                    let dt1 = new Date(message.Date);\r\n                    if (Math.floor((Date.UTC(dt2.getFullYear(), dt2.getMonth(), dt2.getDate()) - Date.UTC(dt1.getFullYear(), dt1.getMonth(), dt1.getDate())) / (1000 * 60 * 60 * 24)) <= 1) {\r\n                        count = count + 1;\r\n                    }\r\n                });\r\n            }\r\n            if (count > 2 && sessionStorage.getItem('patient')) {\r\n                window.alert(\"כמות ההודעות מוגבלת ל3 הודעות ביום\")\r\n            } else {\r\n                this.addMessage();\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        require(\"./MessagesPage.css\");\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <textarea class=\"textarea\" value={this.state.content} onChange={this.handleChange} />\r\n                    <br/>\r\n                    <input style={{marginRight: \"auto\", marginLeft: \"auto\"}} type=\"submit\" value=\"Submit\" />\r\n                </form>\r\n                <br/>\r\n                {this.state.messages.length > 0 &&\r\n                <div class=\"tableMessages\">\r\n                    <Table id=\"mdd\" striped bordered hover>\r\n                        <thead>\r\n                        <tr>\r\n                            <th style={{width: 230}}>תאריך</th>\r\n                            <th style={{width: 180}}>מוען</th>\r\n                            <th style={{width: 620}}>תוכן ההודעה</th>\r\n                            <th style={{width: 100}}></th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.state.messages.map((message) => (\r\n                                <tr>\r\n                                    <td style={{width: 230}}>{new Date(message.Date).toLocaleString()}</td>\r\n                                    <td style={{width: 180}}>{` ${message.FromFirstName} ${message.FromLastName}`}</td>\r\n                                    <td style={{width: 620, textAlign: \"right\"}}>{message.Content}</td>\r\n                                    <td  style={{width: 100}}><AiFillDelete type=\"button\" class=\"trushIcon\" style={{color: 'black'}} size={20} onClick={()=>this.removeMessage(message.MessageId)}/></td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </Table>\r\n                    <br/>\r\n\r\n                </div>}\r\n                {this.state.messages.length === 0 &&\r\n                <p> אין הודעות </p>\r\n                }\r\n                <img class=\"imageBox\" src=\"https://image.freepik.com/free-photo/top-view-doctor-working-with-laptop_1232-386.jpg\" style={{width: 450, borderColor: \"black\"}}></img>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MessagesPage;\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport $ from \"jquery\";\r\nimport \"nouislider/distribute/nouislider.min.css\";\r\nimport axios from 'axios';\r\nimport * as Survey1 from \"survey-react\";\r\nimport * as widgets from \"surveyjs-widgets\";\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport \"survey-react/survey.css\";\r\n\r\n\r\nSurvey1.StylesManager.applyTheme(\"bootstrap\");\r\n\r\nclass SurveyComponent extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            json:{},\r\n            questionnaireId: this.props.match.params.QuestionnaireID\r\n        }\r\n\r\n        window[\"$\"] = window[\"jQuery\"] = $;\r\n        require(\"emotion-ratings/dist/emotion-ratings.js\");\r\n        this.getQuestionnaire=this.getQuestionnaire.bind(this);\r\n        this.sendAnswersToServer=this.sendAnswersToServer.bind(this);\r\n        this.sendParsedResultToServer=this.sendParsedResultToServer.bind(this);\r\n        this.getQuestionnaire();\r\n    }\r\n\r\n    async getQuestionnaire(){\r\n        //to do: fix questionnaireId dynamic\r\n\r\n        let url = `http://localhost:8180/questionnaires/getQuestionnaire/${this.state.questionnaireId}`;\r\n        let response =await axios.get(\r\n            url,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                }\r\n            });\r\n\r\n        if(response.data.data){\r\n            this.setState({\r\n                title: response.data.data.QuestionnaireEnglishText,\r\n                description: response.data.data.QuestionnaireText,\r\n\r\n            });\r\n            //      console.log(response.data.data.QuestionnaireEnglishText);\r\n            //    console.log(response.data.data.QuestionnaireText);\r\n            //  console.log(response.data.data.Questions);\r\n            let questions= response.data.data.Questions;\r\n            let elements=[];\r\n            let json={};\r\n            json.title=response.data.data.QuestionnaireEnglishText;\r\n            for (let i=0;i<questions.length;i++){\r\n                let singleQuestion={};\r\n                singleQuestion.title=questions[i].QuestionText;\r\n                if (questions[i].Type === \"EQ5\"){\r\n                    singleQuestion.type=\"nouislider\";\r\n                    singleQuestion.name=response.data.data.QuestionnaireText;\r\n\r\n                }\r\n                else if (questions[i].Type === \"Single\"){\r\n                    singleQuestion.type= \"radiogroup\";\r\n                    singleQuestion.isRequired= true;\r\n                    let choices=[];\r\n                    for (let j=0;j<questions[i].Answers.length;j++){\r\n                        let answer={};\r\n                        answer.answerID= questions[i].Answers[j].answerID;\r\n                        answer.text=questions[i].Answers[j].answerText;\r\n                        choices.push(answer);\r\n                    }\r\n                    singleQuestion.choices=choices;\r\n                }\r\n\r\n                else if (questions[i].Type === \"multi\"){\r\n                    singleQuestion.type=\"checkbox\";\r\n                    singleQuestion.hasNone= true;\r\n                    singleQuestion.colCount= 5;\r\n                    let choices=[];\r\n                    for (let j=0;j<questions[i].Answers.length;j++){\r\n                        let answer={};\r\n                        answer.answerID= questions[i].Answers[j].answerID;\r\n                        answer.text=questions[i].Answers[j].answerText;\r\n                        choices.push(answer);\r\n                    }\r\n                    singleQuestion.choices=choices;\r\n                }\r\n                else if(questions[i].Type === \"VAS\"){\r\n                    singleQuestion.type= \"emotionsratings\";\r\n                    singleQuestion.choices= [ \"1\", \"2\", \"3\", \"4\", \"5\" ];\r\n                }\r\n\r\n                elements.push(singleQuestion);\r\n            }\r\n            json.elements=elements;\r\n            this.setState({json:json});\r\n            // console.log(json);\r\n\r\n        }\r\n\r\n        else{\r\n            console.alert(\"Problem accured. please try again later.\");\r\n        }\r\n\r\n    }\r\n\r\n    async sendParsedResultToServer(result){\r\n        let url = `http://localhost:8180/auth/patients/answers/sendAnswers`;\r\n        const response = await axios.post(\r\n            url,\r\n\r\n            result\r\n            ,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                }\r\n            }\r\n        );\r\n\r\n        var token = response.data.data;\r\n        if(!token){\r\n            this.setState({\r\n                wrongA: true\r\n            })\r\n        }\r\n        else{\r\n            this.setState({\r\n                showID: false,\r\n                showWrongUser: false,\r\n                showQ: false,\r\n                showChange: true,\r\n                register: false,\r\n                token: token\r\n            })\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\nasync sendAnswersToServer(serveryResult){\r\n        if (serveryResult!=null){\r\n            const result={};\r\n            //to do fix dynamicly\r\n            result.UserID=localStorage.getItem(\"UserId\");   //not sure if needed\r\n            result.QuestionnaireID=parseInt(this.state.questionnaireId);\r\n            result.ValidTime=new Date().getTime();\r\n            let totalAnswers=[];\r\n            let counter=0;\r\n            for (var i in serveryResult) {\r\n                if (Object.prototype.hasOwnProperty.call(serveryResult, i)) {\r\n\r\n                    let question={};\r\n                    question.QuestionID=counter;\r\n                    counter++;\r\n                    let answers=[];\r\n\r\n                    if (Array.isArray(serveryResult[i])){\r\n                        for(let j=0; j<serveryResult[i].length;j++){\r\n                            answers.push(serveryResult[i][j].answerID);\r\n                        }\r\n\r\n\r\n                    }else {\r\n                        if (Object.prototype.hasOwnProperty.call(serveryResult[i], \"answerID\"))\r\n                            answers.push(serveryResult[i].answerID);\r\n\r\n                        else\r\n                            answers.push(parseInt(serveryResult[i]));\r\n                    }\r\n\r\n                    question.AnswerID=answers;\r\n                    totalAnswers.push(question);\r\n                }\r\n            }\r\n            result.Answers=totalAnswers;\r\n            console.log (result);\r\n            this.sendParsedResultToServer(result);\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        require(\"../Survey.css\");\r\n        widgets.nouislider(Survey1);\r\n        widgets.emotionsratings(Survey1);\r\n\r\n        const survey = new Survey1.Model(this.state.json);\r\n        survey.onComplete.add(\r\n            (result)=> {\r\n                console.log(JSON.stringify(result.data, null, 3));\r\n                this.sendAnswersToServer(result.data);\r\n                window.location.href = \"http://localhost:3000/ModaMedicWeb/questionnaires\";\r\n\r\n            });\r\n\r\n\r\n        return (\r\n// <body style={{alignRight: \"auto\", alignLeft: \"auto\"}}>\r\n            <Survey1.Survey\r\n                model={survey}\r\n                showQuestionNumbers={\"on\"}\r\n            />\r\n// </body>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SurveyComponent;\r\n","import React, {Component} from \"react\"\r\nimport axios from 'axios';\r\nimport \"../TableQuestionnaire.css\";\r\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\r\nimport SurveyComponent from './SurveyComponent';\r\nimport Table from 'react-bootstrap/Table';\r\nimport {borderColor} from \"@material-ui/system\";\r\n//   import 'bootstrap/dist/css/bootstrap.css';\r\n\r\n\r\nclass QuestionnaireManger extends Component {\r\n    constructor(props) {\r\n        super()\r\n        if(props.user && sessionStorage.getItem('doctor')) {\r\n            var q2 = false, q3 = false, q4 = false, q5 = false;\r\n            for (var i = 0; i < props.user[\"Questionnaires\"].length; i++) {\r\n                if (props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] === 1) {\r\n                    q2 = true;\r\n                } else if (props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] === 2) {\r\n                    q3 = true;\r\n                } else if (props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] === 3) {\r\n                    q4 = true;\r\n                } else if (props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] === 5) {\r\n                    q5 = true;\r\n                }\r\n            }\r\n        }\r\n        this.state = {\r\n            user: props.user,\r\n            showPopup: false,\r\n            showPopupQ: false,\r\n            new_date: \"\",\r\n            Questionnaires: [],\r\n            quest1: false,\r\n            quest2: q2,\r\n            quest3: q3,\r\n            quest4: q4,\r\n            quest5: q5,\r\n            quest6: false,\r\n            questionnairesArr: [],\r\n            questionnairesArrDoctor: [],\r\n            type: sessionStorage.getItem('type'),\r\n            firstTime: true\r\n        };\r\n\r\n\r\n        this.presentQuestionnaire = this.presentQuestionnaire.bind(this);\r\n        this.presentQuestionnaire();\r\n        this.changeDate = this.changeDate.bind(this);\r\n        this.togglePopup = this.togglePopup.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.togglePopupQ = this.togglePopupQ.bind(this);\r\n        this.handleSubmitQ = this.handleSubmitQ.bind(this)\r\n    }\r\n\r\n    async presentQuestionnaire(){\r\n        if(sessionStorage.getItem('patient')) {\r\n            let url = 'http://localhost:8180/auth/usersAll/getUserQuestionnaire';\r\n            let response = await axios.get(\r\n                url,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': sessionStorage.getItem(\"token\")\r\n                    }\r\n                });\r\n\r\n            if (response.data.data) {\r\n                //console.log (response.data.data);\r\n                let questionnairesArrTemp = [];\r\n                //run over questionareest\r\n                for (var i = 0; i < response.data.data.length; i++) {\r\n                    questionnairesArrTemp.push([response.data.data[i].QuestionnaireID, response.data.data[i].QuestionnaireText]);\r\n                }\r\n\r\n                this.setState({\r\n                    questionnairesArr: questionnairesArrTemp\r\n                });\r\n            }\r\n        }\r\n    }\r\n    handleSubmit(e){\r\n        e.preventDefault();\r\n        //     let date = (new Date(this.state.new_date)).getTime();\r\n        //     let id = this.props.user[\"UserID\"];\r\n        //     axios.post('http://localhost:8180/auth/usersAll/changeDateOfSurgery',\r\n        //         {\r\n        //             UserID: id,\r\n        //             DateOfSurgery: date\r\n        //         },\r\n        //         {\r\n        //             headers: {\r\n        //                 'Content-Type': 'application/json',\r\n        //                 'x-auth-token': sessionStorage.getItem(\"token\")\r\n        //             }\r\n        //         }).then(res => {\r\n        //         window.alert(\"התאריך שונה בהצלחה\")\r\n        //         this.togglePopup();\r\n        //     });\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({ [name]: checked }) : this.setState({ [name]: value });\r\n    }\r\n\r\n    handleSubmitQ(e){\r\n        e.preventDefault();\r\n        if(sessionStorage.getItem('doctor')) {\r\n            var Questionnaires = [];\r\n            if (this.state.quest2) {\r\n                Questionnaires.push({\r\n                    \"QuestionnaireID\": 1,\r\n                    \"QuestionnaireText\": \"תפקוד גב תחתון\"\r\n                })\r\n            }\r\n            if (this.state.quest3) {\r\n                Questionnaires.push({\r\n                    \"QuestionnaireID\": 2,\r\n                    \"QuestionnaireText\": \"תפקוד צוואר\"\r\n                })\r\n            }\r\n            if (this.state.quest4) {\r\n                Questionnaires.push({\r\n                    \"QuestionnaireID\": 3,\r\n                    \"QuestionnaireText\": \"תפקוד גף תחתון\"\r\n                })\r\n            }\r\n            if (this.state.quest5) {\r\n                Questionnaires.push({\r\n                    \"QuestionnaireID\": 5,\r\n                    \"QuestionnaireText\": \"איכות חיים\"\r\n                });\r\n            }\r\n            let id = this.props.user[\"UserID\"];\r\n            axios.post('http://localhost:8180/auth/usersAll/changeUserQuestionnaire',\r\n                {\r\n                    UserID: id,\r\n                    Questionnaires: Questionnaires\r\n                },\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': sessionStorage.getItem(\"token\")\r\n                    }\r\n                }).then(res => {\r\n                window.alert(\"השאלונים שונו בהצלחה\");\r\n                this.setState({\r\n                    questionnairesArrDoctor: Questionnaires.map(q => q.QuestionnaireText),\r\n                    showPopupQ: !this.state.showPopupQ\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    changeQuest(){\r\n        this.togglePopupQ();\r\n    }\r\n\r\n    changeDate(){\r\n        this.togglePopup();\r\n    }\r\n\r\n    togglePopupQ() {\r\n        this.setState({\r\n            showPopupQ: !this.state.showPopupQ\r\n        });\r\n\r\n    }\r\n\r\n    togglePopup() {\r\n        this.setState({\r\n            showPopup: !this.state.showPopup\r\n        });\r\n    }\r\n\r\n    PopupQ() {\r\n        require(\"../PatientData.css\");\r\n        return (\r\n            <div className='popup'>\r\n                <div className='popup_innerCQ' >\r\n                    <div className=\"line_x\">\r\n                        <button onClick={this.togglePopupQ} id=\"x\">x</button>\r\n                    </div>\r\n                    <h4 id=\"h4C\">שינוי שאלונים</h4>\r\n                    <form id=\"formQ\" onSubmit={this.handleSubmitQ}>\r\n                        <div className=\"line\">\r\n                            <input type=\"checkbox\"\r\n                                   className=\"cInput\"\r\n                                   name=\"quest2\"\r\n                                   checked={this.state.quest2}\r\n                                   onChange={this.handleChange}\r\n                            />\r\n                            <label className=\"mLabel\">\r\n                                תפקוד גב תחתון\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"line\">\r\n                            <input type=\"checkbox\"\r\n                                   className=\"cInput\"\r\n                                   name=\"quest3\"\r\n                                   checked={this.state.quest3}\r\n                                   onChange={this.handleChange}\r\n                            />\r\n                            <label className=\"mLabel\">\r\n                                תפקוד צוואר\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"line\">\r\n                            <input type=\"checkbox\"\r\n                                   className=\"cInput\"\r\n                                   name=\"quest4\"\r\n                                   checked={this.state.quest4}\r\n                                   onChange={this.handleChange}\r\n                            />\r\n                            <label className=\"mLabel\">\r\n                                תפקוד גף תחתון\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"line\">\r\n                            <input type=\"checkbox\"\r\n                                   className=\"cInput\"\r\n                                   name=\"quest5\"\r\n                                   checked={this.state.quest5}\r\n                                   onChange={this.handleChange}\r\n                            />\r\n                            <label className=\"mLabel\">\r\n                                איכות חיים\r\n                            </label>\r\n                        </div>\r\n                        <button  id=\"changeQ\" type=\"sumbit\" >שינוי</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    render(){\r\n        require(\"../Table.css\");\r\n        var first = true;\r\n        if(this.props.user && this.state.firstTime) {\r\n            for (var i = 0; i < this.props.user[\"Questionnaires\"].length; i++) {\r\n                if (this.props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] !== 0 && this.props.user[\"Questionnaires\"][i][\"QuestionnaireID\"] !== 6) {\r\n                    // if (!first) {\r\n                    //     Questionnaires += \", \"\r\n                    // } else {\r\n                    //     first = false;\r\n                    // }\r\n                    this.state.questionnairesArrDoctor.push(this.props.user[\"Questionnaires\"][i][\"QuestionnaireText\"]);\r\n                }\r\n            }\r\n            this.state.firstTime = false;\r\n        }\r\n        // if (Questionnaires.charAt(Questionnaires.length - 1) === \" \") {\r\n        //     Questionnaires = Questionnaires.substring(0, Questionnaires.length - 2);\r\n        // }\r\n\r\n        return(\r\n            <div>\r\n                {this.state.type === 'patient' ?\r\n                    <div style={{alignRight: \"auto\", alignLeft: \"auto\", textWeight: \"large\"}}>\r\n                        {/*<p style={{alignRight: \"auto\", alignLeft: \"auto\", textWeight: \"large\"}}>מטופל יקר, לפניך השאלונים המשוייכים אליך כחלק מטיפולך, אנא לחץ על השאלון המבוקש לצורך מענה.</p>*/}\r\n                        <table id='customers' style={{alignRight: \"auto\", alignLeft: \"auto\", textWeight: \"large\"}}>\r\n                            <thead style={{alignRight: \"auto\", alignLeft: \"auto\", textWeight: \"large\"}}>\r\n                            <h6><b>מטופל יקר,</b></h6>\r\n                            <h6><b>לפניך השאלונים המוגדרים כחלק מטיפולך. אנא לחץ על השאלון המבוקש לצורך מענה</b></h6>\r\n                            <h6><b>תודה על שיתוף הפעולה!</b></h6>\r\n                            </thead>\r\n                            <tr style={{width: \"50%\" , textWeight: \"large\"}}>\r\n                                {this.state.questionnairesArr.map(id => (\r\n                                    <th  id = \"mdd\" scope=\"row\" style={{width: \"100%\", textWeight: \"large\"  }} >\r\n                                        <u>\r\n                                            <Link to={`/userQuestionnaire/${id[0]}`} > {id[1]}\r\n                                            </Link></u>\r\n                                    </th>\r\n                                ))}\r\n                            </tr>\r\n                        </table>\r\n                        <br/>\r\n                        <div >\r\n                        </div>\r\n                    </div> : this.state.type === 'doctor' && this.props.user ?\r\n                        <div style={{alignRight: \"auto\", alignLeft: \"auto\", textWeight: \"large\"}}>\r\n                            <thead style={{alignRight: \"auto\", alignLeft: \"auto\", textWeight: \"large\"}}>\r\n                            <h4><b>לפניך השאלונים המותאמים למטופל הנ\"ל:</b></h4>\r\n                            </thead>\r\n                            <table id='customers' style={{alignRight: \"auto\", alignLeft: \"auto\", textWeight: \"large\"}}>\r\n                                <thead style={{alignRight: \"auto\", alignLeft: \"auto\", textWeight: \"large\"}}>\r\n                                </thead>\r\n                                <tr style={{width: \"50%\" , textWeight: \"large\"}}>\r\n                                    {this.state.questionnairesArrDoctor.map(id => (\r\n                                        <th  id = \"mdd\" scope=\"row\" style={{width: \"100%\", textWeight: \"large\" }} >\r\n                                           <a> {id}</a>\r\n                                        </th>\r\n                                    ))}\r\n                                </tr>\r\n                            </table>\r\n                            {/*<label className=\"labelData\" >{Questionnaires} </label>*/}\r\n                            <button className=\"changeDate\" onClick={() => this.changeQuest()}>\r\n                                שינוי השאלונים\r\n                            </button>\r\n\r\n                        </div>: null}\r\n                <div>\r\n                    <img className={'imageBox'}\r\n                         src={\"https://image.freepik.com/free-photo/doctor-filling-up-life-insurance-form_53876-20493.jpg\"}\r\n                         style={{width: 450, borderColor: \"black\"}}></img>\r\n\r\n                </div>\r\n                {this.state.showPopupQ ?\r\n                    this.PopupQ() : null\r\n                }\r\n            </div>\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default QuestionnaireManger;","import React, {Component} from \"react\"\r\nimport axios from 'axios';\r\nimport DisplayButton from './DisplayButton';\r\nimport QuestionnaireManger from \"./Questionnaire/QuestionnaireManger\";\r\n\r\nclass PatientSearchNew extends Component {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n        var date = new Date();\r\n        var first_date = new Date();\r\n        first_date.setMonth(first_date.getMonth() - 3)\r\n        var three_month = first_date.toISOString().split(\"T\")[0];\r\n        // var three_month = first_date.toLocaleDateString().replace('.', \"-\");\r\n        console.log(three_month)\r\n        var x = date.toISOString().split(\"T\")[0];\r\n        this.state = {\r\n            end_date: x,\r\n            start_date: three_month,\r\n            steps: true,\r\n            distance : true,\r\n            weather: true,\r\n            calories: true,\r\n            sleeping_hours: true,\r\n            dataArr: [],\r\n            periodicAnswers: [],\r\n            dailyA: [],\r\n            dailyQ: true,\r\n            perQ: true,\r\n            date: 0,\r\n            showDaily: true,\r\n            weekly: false,\r\n            monthly: false,\r\n            user: {},\r\n            ready: false,\r\n            todayDate: x,\r\n            className: \"normal\",\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.getRequest = this.getRequest.bind(this);\r\n        this.selectUser = this.selectUser.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        const {name, value, type, checked} = event.target\r\n        type === \"checkbox\" ? this.setState({ [name]: checked }) : this.setState({ [name]: value })\r\n        if(name === \"showDaily\"){\r\n            this.setState({\r\n                showDaily: true,\r\n                weekly: false,\r\n                monthly: false\r\n            })\r\n        }\r\n        else if(name === \"weekly\"){\r\n            this.setState({\r\n                showDaily: false,\r\n                weekly: true,\r\n                monthly: false\r\n            })\r\n        }\r\n        else if(name === \"monthly\"){\r\n            this.setState({\r\n                showDaily: false,\r\n                weekly: false,\r\n                monthly: true\r\n            })\r\n        }\r\n    }\r\n\r\n    async getRequest(name,url){\r\n        if(sessionStorage.getItem('doctor')){\r\n            return this.getDoctorRequest(name, url);\r\n        }\r\n        if(sessionStorage.getItem('patient')){\r\n            return this.getPatientRequest(name, url);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    async getDoctorRequest(name, url) {\r\n        if (this.props.patientUserId) {\r\n            let getUrl = 'http://localhost:8180/auth/doctors/' + url + '?UserID=' + this.props.patientUserId;\r\n            if (this.state.start_date !== \"\") {\r\n                var date = new Date(this.state.start_date)\r\n                let start_time = date.getTime();\r\n                getUrl += (\"&start_time=\" + start_time);\r\n            }\r\n            if (this.state.end_date !== \"\") {\r\n                date = new Date(this.state.end_date)\r\n                date = new Date(date.getTime() + 86400000);\r\n                let end_time = date.getTime();\r\n                getUrl += (\"&end_time=\" + end_time);\r\n            }\r\n            const response = await axios.get(\r\n                getUrl,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': sessionStorage.getItem(\"token\")\r\n                    }\r\n                }\r\n            );\r\n            if (response.data.message === \"Not Found\") {\r\n                return null;\r\n            }\r\n            return ({\r\n                values: response.data.data,\r\n                name: name,\r\n                numOfUsers: response.data.data.length\r\n            });\r\n        }\r\n    }\r\n\r\n    async getPatientRequest(name, url){\r\n        let getUrl = `http://localhost:8180/auth/patients/${url}`;\r\n        let start_time;\r\n        if(this.state.start_date !== \"\"){\r\n            var date = new Date(this.state.start_date);\r\n            start_time = date.getTime();\r\n            // getUrl += (\"&start_time=\" + start_time);\r\n        }\r\n        let end_time;\r\n        if(this.state.end_date !== \"\"){\r\n            date = new Date(this.state.end_date)\r\n            date = new Date(date.getTime() + 86400000);\r\n            end_time = date.getTime();\r\n        }\r\n        console.log(getUrl)\r\n        const response = await axios.get(\r\n            getUrl,\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                },\r\n                params: {\r\n                    start_time: start_time,\r\n                    end_time: end_time\r\n                }\r\n            }\r\n        );\r\n        return({\r\n            values: response.data.data,\r\n            name : name,\r\n            numOfUsers: response.data.data.length\r\n        });\r\n    }\r\n\r\n\r\n    async selectUser(key) {\r\n        let arr = this.state.dataArr;\r\n        let d = this.state.dailyA;\r\n        var da = [];\r\n        var user;\r\n        var sDate;\r\n        for(var i = 0; i < this.state.numOfUsers; i++){\r\n            if(d[i] && d[i].UserID[\"BirthDate\"] === key){\r\n                da = d[i].docs;\r\n                sDate = d[i].UserID[\"DateOfSurgery\"];\r\n                user = d[i].UserID;\r\n            }\r\n        }\r\n        for(i = 0; i < this.state.questionnaire.values.length; i++){\r\n            if(this.state.questionnaire.values[i].UserID[\"BirthDate\"] === key){\r\n                this.state.periodicAnswers.push(this.state.questionnaire.values[i][\"docs\"]);\r\n                sDate = this.state.questionnaire.values[i].UserID[\"DateOfSurgery\"];\r\n                user = this.state.questionnaire.values[i].UserID;\r\n            }\r\n        }\r\n        for(i = 0; i < arr.length; i++){\r\n            let values = [];\r\n            if(arr[i]){\r\n                for(var j = 0; j < arr[i].values.length; j++){\r\n                    if(arr[i].values[j].UserID[\"BirthDate\"] === key){\r\n                        values = arr[i].values[j].docs;\r\n                        sDate = arr[i].values[j].UserID[\"DateOfSurgery\"];\r\n                        user = arr[i].values[j].UserID;\r\n                    }\r\n                }\r\n                arr[i].values = values;\r\n            }\r\n        }\r\n        this.setState({\r\n            dataArr: arr,\r\n            dailyA: da,\r\n            date: sDate,\r\n            user: user,\r\n            ready: true,\r\n            className: \"normal\"\r\n        });\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        if(event){\r\n            event.preventDefault()\r\n        }\r\n\r\n        this.setState({\r\n            ready: false,\r\n            className: \"waiting\",\r\n            periodicAnswers: []\r\n        });\r\n\r\n        var numOfUsers = 0;\r\n        var arr = [];\r\n        let response = await this.getRequest(\"צעדים\", \"metrics/getSteps\");\r\n        if(!response){\r\n            window.alert(\"לא קיים מטופל\");\r\n            return;\r\n        }\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"מרחק\", \"metrics/getDistance\");\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"קלוריות\", \"metrics/getCalories\");\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"מזג האוויר\", \"metrics/getWeather\");\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"שעות שינה\", \"metrics/getSleep\");\r\n        if(response.values[0][\"docs\"].length > 0){\r\n            arr.push(response);\r\n        }\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        response = await this.getRequest(\"תשובות יומיות\", \"answers/getDailyAnswers\");\r\n        if(response.numOfUsers > numOfUsers){\r\n            numOfUsers = response.numOfUsers;\r\n        }\r\n        let responseQ = await this.getRequest(\"שאלון תקופתי\", \"answers/getPeriodicAnswers\");\r\n\r\n        this.setState({\r\n            dataArr : arr,\r\n            dailyA: response.values,\r\n            numOfUsers: numOfUsers,\r\n            questionnaire: responseQ\r\n        });\r\n\r\n        if(numOfUsers === 1) {\r\n            let x = this.state.dailyA[0].UserID[\"BirthDate\"];\r\n            if(!x)\r\n                x = this.state.periodicAnswers[0].UserID[\"BirthDate\"];\r\n            if(!x)\r\n                x = this.state.dataArr[0][0].UserID[\"BirthDate\"];\r\n            this.selectUser(x)\r\n        } else {\r\n            alert(\"More than 1 user found!!!!!\")\r\n        }\r\n    }\r\n\r\n    render() {\r\n        require(\"./search.css\");\r\n        var today = (new Date()).toISOString().split(\"T\")[0];\r\n        return (\r\n            <div>\r\n                <div className=\"dates\">\r\n                    <label className=\"cSearch\">\r\n                        בחר תאריכים: מ\r\n                    </label>\r\n                    <input className=\"dSearch\"\r\n                           type=\"date\"\r\n                           name=\"start_date\"\r\n                           value={this.state.start_date}\r\n                           onChange={this.handleChange}\r\n                           max={this.state.end_date}\r\n                    />\r\n                    <label className=\"aSearch\">\r\n                        עד\r\n                    </label>\r\n                    <input className=\"dSearch\"\r\n                           type=\"date\"\r\n                           name=\"end_date\"\r\n                           value={this.state.end_date}\r\n                           onChange={this.handleChange}\r\n                           max={today}\r\n                    />\r\n                </div>\r\n                <div className=\"mdd\">\r\n                    <label className=\"mLabel\">\r\n                        בחר מדדים:\r\n                    </label>\r\n                    <input className=\"cInput\"\r\n                           type=\"checkbox\"\r\n                           name=\"steps\"\r\n                           checked={this.state.steps}\r\n                           onChange={this.handleChange}\r\n                    /> <p class=\"space\"></p>\r\n                    <label className=\"mLabel\">\r\n                        צעדים\r\n                    </label>\r\n                    <input className=\"cInput\"\r\n                           type=\"checkbox\"\r\n                           name=\"distance\"\r\n                           checked={this.state.distance}\r\n                           onChange={this.handleChange}\r\n                    />\r\n                    <p className=\"space\"></p>\r\n                    <label className=\"mLabel\">\r\n                        מרחק\r\n                    </label>\r\n                    <input className=\"cInput\"\r\n                           type=\"checkbox\"\r\n                           name=\"weather\"\r\n                           checked={this.state.weather}\r\n                           onChange={this.handleChange}\r\n                    />\r\n                    <p className=\"space\"></p>\r\n                    <label className=\"mLabel\">\r\n                        מזג האוויר\r\n                    </label>\r\n                    <input className=\"cInput\"\r\n                           type=\"checkbox\"\r\n                           name=\"calories\"\r\n                           checked={this.state.calories}\r\n                           onChange={this.handleChange}\r\n                    />\r\n                    <p className=\"space\"></p>\r\n                    <label className=\"mLabel\">\r\n                        קלוריות\r\n                    </label>\r\n                    <input className=\"cInput\"\r\n                           type=\"checkbox\"\r\n                           name=\"sleeping_hours\"\r\n                           checked={this.state.sleeping_hours}\r\n                           onChange={this.handleChange}\r\n                    />\r\n                    <p className=\"space\"></p>\r\n                    <label className=\"mLabel\">\r\n                        שעות שינה\r\n                    </label>\r\n                    <input className=\"cInput\"\r\n                           type=\"checkbox\"\r\n                           name=\"dailyQ\"\r\n                           checked={this.state.dailyQ}\r\n                           onChange={this.handleChange}\r\n                    />\r\n                    <p className=\"space\"></p>\r\n                    <label className=\"mLabel\">\r\n                        שאלון יומי\r\n                    </label>\r\n                    <input className=\"cInput\"\r\n                           type=\"checkbox\"\r\n                           name=\"perQ\"\r\n                           checked={this.state.perQ}\r\n                           onChange={this.handleChange}\r\n                    />\r\n                    <p className=\"space\"></p>\r\n                    <label className=\"mLabel\">\r\n                        שאלונים תקופתיים\r\n                    </label>\r\n                </div>\r\n                <div className=\"mddShow\">\r\n                    <label className=\"mLabel\">\r\n                        בחר אופן הצגה:\r\n                    </label>\r\n                    <input className=\"cInput\"\r\n                           type=\"checkbox\"\r\n                           name=\"showDaily\"\r\n                           checked={this.state.showDaily}\r\n                           onChange={this.handleChange}\r\n                    />\r\n                    <p className=\"space\"></p>\r\n                    <label className=\"mLabel\">\r\n                        יומי\r\n                    </label>\r\n                    <input className=\"cInput\"\r\n                           type=\"checkbox\"\r\n                           name=\"weekly\"\r\n                           checked={this.state.weekly}\r\n                           onChange={this.handleChange}\r\n                    />\r\n                    <p className=\"space\"></p>\r\n                    <label className=\"mLabel\">\r\n                        שבועי\r\n                    </label>\r\n                    <input className=\"cInput\"\r\n                           type=\"checkbox\"\r\n                           name=\"monthly\"\r\n                           checked={this.state.monthly}\r\n                           onChange={this.handleChange}\r\n                    />\r\n                    <p className=\"space\"></p>\r\n                    <label className=\"mLabel\">\r\n                        חודשי\r\n                    </label>\r\n                </div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <button>הצג תוצאות</button>\r\n                </form>\r\n                <br />\r\n                <DisplayButton\r\n                    dataArr={this.state.dataArr}\r\n                    steps={this.state.steps}\r\n                    distance={this.state.distance}\r\n                    calories={this.state.calories}\r\n                    weather={this.state.weather}\r\n                    sleep={this.state.sleeping_hours}\r\n                    dailyA={this.state.dailyA}\r\n                    periodicAnswers={this.state.periodicAnswers}\r\n                    dailyQ={this.state.dailyQ}\r\n                    perQ={this.state.perQ}\r\n                    date={this.state.date}\r\n                    showDaily={this.state.showDaily}\r\n                    weekly={this.state.weekly}\r\n                    monthly={this.state.monthly}\r\n                    user={this.state.user}\r\n                    ready={this.state.ready}\r\n                />\r\n                {/*<QuestionnaireManger user={this.state.user}*/}\r\n                {/*/>*/}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PatientSearchNew\r\n","import React, {Component} from \"react\"\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport axios from \"axios\";\r\nimport {Card} from \"react-bootstrap\";\r\n// ES5 require\r\nimport ImageMapper from \"react-image-mapper\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport {Document, Page, pdfjs} from 'react-pdf';\r\nimport ACL from \"./prtocols/ACL.pdf\";\r\nimport ASD from \"./prtocols/ASD.pdf\";\r\nimport BANKART from \"./prtocols/BANKART.pdf\";\r\nimport KNEE from \"./prtocols/KNEE.pdf\";\r\nimport REVERSE_TSR from \"./prtocols/REVERSE_TSR.pdf\";\r\nimport ROTATORCUFF from \"./prtocols/ROTATORCUFF.pdf\";\r\nimport FIRST from \"./prtocols/FIRST.pdf\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {BsDownload} from \"react-icons/bs\";\r\n\r\nvar MAP = {\r\n    name: \"my-map\",\r\n    areas: [\r\n        {\r\n            name: \"knee\",\r\n            shape: \"circle\",\r\n            coords: [330, 300, 5],\r\n            preFillColor: \"#ff1313\",\r\n            fillColor: \"white\",\r\n            lineWidth: 1\r\n        },\r\n        {\r\n            name: \"neck\",\r\n            shape: \"circle\",\r\n            coords: [350, 80, 5],\r\n            preFillColor: \"#ff1313\",\r\n            fillColor: \"white\",\r\n            lineWidth: 1\r\n        },\r\n        {\r\n            name: \"back\",\r\n            shape: \"circle\",\r\n            coords: [350, 170, 5],\r\n            preFillColor: \"#ff1313\",\r\n            fillColor: \"white\",\r\n            lineWidth: 1\r\n        },   {\r\n            name: \"shoulder\",\r\n            shape: \"circle\",\r\n            coords: [310, 95, 5],\r\n            preFillColor: \"#ff1313\",\r\n            fillColor: \"white\",\r\n            lineWidth: 1\r\n        }, {\r\n            name: \"elbow\",\r\n            shape: \"circle\",\r\n            coords: [255, 105, 5],\r\n            preFillColor: \"#ff1313\",\r\n            fillColor: \"white\",\r\n            lineWidth: 1\r\n        },{\r\n            name: \"ankle\",\r\n            shape: \"circle\",\r\n            coords: [333, 382, 5],\r\n            preFillColor: \"#ff1313\",\r\n            fillColor: \"white\",\r\n            lineWidth: 1\r\n        },{\r\n            name: \"hip\",\r\n            shape: \"circle\",\r\n            coords: [325, 200, 5],\r\n            preFillColor: \"#ff1313\",\r\n            fillColor: \"white\",\r\n            lineWidth: 1\r\n        }\r\n    ]\r\n};\r\n\r\n// var URL = \"https://cdn1.bbcode0.com/uploads/2021/3/12/44020e8f94bb6f1e1f5daefa99e5dbbd-full.jpg?__cf_chl_jschl_tk__=44f056c180321e3187e8e785fe9ebc8efea1a510-1615559897-0-AYcqoygPVQpfg88iWu4Xkb0s-sdo06kYRqVG_irUgjBbap22wgX3WGpiolYjKZ3M4cms0fNzEtJkKjy8vSgtWGXTBQYx1CVPQ2HdxLMw9kux4rfv_r3r6T7CHIQoP_1_g4WcuKAshfV-kpDefRb0Wq5IJzkr4_kg8jrupQA9PqkYDX7dGPNljLT11XxebURRt3Kkohj-Np1vmDnT8mg6laQlgLDEMHr-pWkZTODWrUDrvgjg0bOGM0XMBW21Rj4Jw7jaLYMEiCltPIKFGBj4fCjzi8ebMV6rnbLSE-uEa4OA7AzwnoZrbXOyWDOWPVYor3OFFCKQ9KS59WnIaaJ2gAAzKKPiux-8kKJIJAmXRvVze9NcyC7hFUtki1qJCiACjeh0OQBH-tR_yzk4yO3QlKk\";\r\nvar URL = \"https://modernorthonj.com/wp-content/uploads/2020/03/body-schematic-transparent-2048x1257.jpg\"\r\n\r\nclass InstructionsSurgery extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        // pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n        this.state = {\r\n            instructions: undefined,\r\n            instructionsForGrid: [],\r\n            // numPages: null,\r\n            // pageNumber: 1,\r\n            // pdfNames:{\"ACL\": ACL,ASD,BANKART,KNEE,REVERSE_TSR,ROTATORCUFF]}\r\n            pdfNames: {\r\n                \"ACL\": ACL,\r\n                \"KNEE\": KNEE,\r\n                \"ASD\": ASD,\r\n                \"BANKART\": BANKART,\r\n                \"REVERSE_TSR\": REVERSE_TSR,\r\n                \"ROTATORCUFF\": ROTATORCUFF,\r\n                \"FIRST\": FIRST\r\n            },\r\n            headerNames: {\r\n                \"knee\": \"פרוטוקולי שיקום - ברך\",\r\n                \"shoulder\": \"פרוטוקולי שיקום - כתף\",\r\n                \"hip\" : \"פרוטוקולי שיקום - ירך\",\r\n                \"ankle\" : \"פרוטוקולי שיקום - קרסול\",\r\n                \"elbow\" : \"פרוטוקולי שיקום - מרפק\",\r\n                \"back\" : \"פרוטוקולי שיקום - גב\",\r\n                \"neck\" : \"פרוטוקולי שיקום - צוואר\"\r\n            },\r\n            instructionsByCategory: {},\r\n            showInstructions: false,\r\n            showPopup: false\r\n        }\r\n        ;\r\n\r\n        this.getInstructions = this.getInstructions.bind(this);\r\n        this.changePdfToShow = this.changePdfToShow.bind(this);\r\n        // this.nextPage = this.nextPage.bind(this);\r\n        // this.previousPage = this.previousPage.bind(this);\r\n        this.getInitialState = this.getInitialState.bind(this);\r\n        this.load = this.load.bind(this);\r\n        this.clicked = this.clicked.bind(this);\r\n        this.clickedOutside = this.clickedOutside.bind(this);\r\n        this.moveOnImage = this.moveOnImage.bind(this);\r\n        this.enterArea = this.enterArea.bind(this);\r\n        this.leaveArea = this.leaveArea.bind(this);\r\n        this.moveOnArea = this.moveOnArea.bind(this);\r\n        this.getTipPosition = this.getTipPosition.bind(this);\r\n        this.togglePopup = this.togglePopup.bind(this);\r\n\r\n    }\r\n\r\n    getInitialState() {\r\n        return {hoveredArea: null, msg: null, moveMsg: null};\r\n    }\r\n\r\n    load() {\r\n        // this.setState({msg: \"Interact with image !\"});\r\n    }\r\n\r\n    clicked(area) {\r\n        if(area.name === this.state.category) {\r\n            this.setState({\r\n                showInstructions: !this.state.showInstructions,\r\n                category: \"\"\r\n            });\r\n        } else {\r\n            this.setState({\r\n                // msg: `You clicked on ${area.shape} at coords ${JSON.stringify(\r\n                //     area.coords\r\n                // )} !`,\r\n                category: area.name,\r\n                showInstructions: true,\r\n            }, this.focusOnInstructions);\r\n        }\r\n    }\r\n\r\n    focusOnInstructions() {\r\n        if(this.state.showInstructions) {\r\n            var elmnt = document.getElementById(\"inst\");\r\n            elmnt.scrollIntoView();\r\n        }\r\n    }\r\n\r\n    clickedOutside(evt) {\r\n        const coords = {x: evt.nativeEvent.layerX, y: evt.nativeEvent.layerY};\r\n        this.setState({\r\n            msg: `You clicked on the image at coords ${JSON.stringify(coords)} !`\r\n        });\r\n    }\r\n\r\n    moveOnImage(evt) {\r\n        const coords = {x: evt.nativeEvent.layerX, y: evt.nativeEvent.layerY};\r\n        this.setState({\r\n            moveMsg: `You moved on the image at coords ${JSON.stringify(coords)} !`\r\n        });\r\n    }\r\n\r\n    enterArea(area) {\r\n        this.setState({\r\n            hoveredArea: area,\r\n            msg: `You entered ${area.shape} ${area.name} at coords ${JSON.stringify(\r\n                area.coords\r\n            )} !`\r\n        });\r\n    }\r\n\r\n    leaveArea(area) {\r\n        this.setState({\r\n            hoveredArea: null,\r\n            msg: `You leaved ${area.shape} ${area.name} at coords ${JSON.stringify(\r\n                area.coords\r\n            )} !`\r\n        });\r\n    }\r\n\r\n    moveOnArea(area, evt) {\r\n        const coords = {x: evt.nativeEvent.layerX, y: evt.nativeEvent.layerY};\r\n        this.setState({\r\n            moveMsg: `You moved on ${area.shape} ${\r\n                area.name\r\n            } at coords ${JSON.stringify(coords)} !`\r\n        });\r\n    }\r\n\r\n    getTipPosition(area) {\r\n        return {top: `${area.center[1]}px`, left: `${area.center[0]}px`};\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.getInstructions();\r\n    }\r\n\r\n\r\n    async getInstructions() {\r\n            let respone = await axios.get('http://localhost:8180/auth/usersAll/instructions',\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': sessionStorage.getItem(\"token\")\r\n                    }\r\n                });\r\n            if (respone.data.data) {\r\n                let instructionsArr = [];\r\n                for (var i = 0; i < respone.data.data.length; i++) {\r\n                    instructionsArr.push(respone.data.data[i]);\r\n                }\r\n                let instructionsForGrid = [];\r\n                for (var i = 0; i < instructionsArr.length; i = i + 2) {\r\n                    if (instructionsArr[i + 1]) {\r\n                        instructionsForGrid.push({\"obj1\": instructionsArr[i], \"obj2\": instructionsArr[i + 1]});\r\n                    } else {\r\n                        instructionsForGrid.push({\"obj1\": instructionsArr[i], \"obj2\": {}});\r\n                    }\r\n                }\r\n                this.setState({\r\n                    instructions: instructionsArr,\r\n                    instructionsForGrid: instructionsForGrid,\r\n                    instructionsByCategory: this.groupArrayOfObjects(instructionsArr, \"Category\")\r\n                });\r\n            }\r\n\r\n    }\r\n\r\n    groupArrayOfObjects(list, key) {\r\n        return list.reduce(function (rv, x) {\r\n            (rv[x[key]] = rv[x[key]] || []).push(x);\r\n            return rv;\r\n        }, {});\r\n    };\r\n\r\n    changePdfToShow(e) {\r\n        console.log(e);\r\n        if (this.state.pdfToShow === e) {\r\n            this.setState({pdfToShow: null})\r\n        } else {\r\n            this.setState({pdfToShow: e, showPopup: true});\r\n        }\r\n    }\r\n\r\n    togglePopup() {\r\n        this.setState({\r\n            showPopup: !this.state.showPopup\r\n        });\r\n    }\r\n\r\n    render() {\r\n        // const { pageNumber, numPages } = this.state;\r\n        // require(\"./MessagesPage.css\");\r\n        require(\"./InstructionsSurgery.css\");\r\n        return (\r\n            <div className=\"presenter\">\r\n                <Grid container spacing={2} >\r\n                    <Grid item xs={6} >\r\n                        <br/>\r\n                        <img style={{width: '100%', marginLeft:\"auto\"}} src={require('./ImagesOrth/INSTRUCTIONS.PNG')} />\r\n                    </Grid>\r\n                    <Grid item xs={6} >\r\n                        <div>\r\n                            <div style={{ width: '100%', position: \"relative\"}}>\r\n                                <ImageMapper\r\n                                    src={URL}\r\n                                    map={MAP}\r\n                                    width={700}\r\n                                    // height={700}\r\n                                    onLoad={() => this.load()}\r\n                                    onClick={area => this.clicked(area)}\r\n                                    // onMouseEnter={area => this.enterArea(area)}\r\n                                    // onMouseLeave={area => this.leaveArea(area)}\r\n                                    // onMouseMove={(area, _, evt) => this.moveOnArea(area, evt)}\r\n                                    // onImageClick={evt => this.clickedOutside(evt)}\r\n                                    // onImageMouseMove={evt => this.moveOnImage(evt)}\r\n                                    lineWidth={4}\r\n                                    strokeColor={\"white\"}\r\n                                />\r\n                                {this.state.hoveredArea && (\r\n                                    <span\r\n                                        className=\"tooltip\"\r\n                                        style={{...this.getTipPosition(this.state.hoveredArea)}}\r\n                                    >\r\n\t\t\t\t\t\t\t\t{this.state.hoveredArea && this.state.hoveredArea.name}\r\n\t\t\t\t\t\t\t</span>\r\n                                )}\r\n                            </div>\r\n                            <pre className=\"message\">{this.state.msg ? this.state.msg : null}</pre>\r\n                            <pre>{this.state.moveMsg ? this.state.moveMsg : null}</pre>\r\n                        </div>\r\n                    </Grid>\r\n                </Grid>\r\n                {/*{this.state.pdfToShow &&*/}\r\n                {/*<div>*/}\r\n                {/*    <PDF pdfFile={this.state.pdfNames[this.state.pdfToShow]}/>*/}\r\n                {/*</div>*/}\r\n                {/*<Grid item xs={6}>*/}\r\n                {/*    {this.state.pdfToShow &&*/}\r\n                {/*    <div>*/}\r\n                {/*        <PDF pdfFile={this.state.pdfNames[this.state.pdfToShow]}/>*/}\r\n                {/*    </div>}*/}\r\n                {/*</Grid>*/}\r\n                {/*<Grid item xs={6}>*/}\r\n\r\n                {/*</Grid>*/}\r\n                <div id=\"inst\">\r\n                    <br/>\r\n                    <br/>\r\n                    <br/>\r\n                    <h2>{this.state.headerNames[this.state.category]}</h2>\r\n                </div>\r\n                <div >\r\n                    {!this.state.instructionsByCategory[this.state.category] && <div><h3>אין פרוטוקולים בתחום זה</h3></div>}\r\n                    <Grid container spacing={2} >\r\n                        {this.state.showInstructions && this.state.instructionsByCategory[this.state.category] &&\r\n                        this.state.instructionsByCategory[this.state.category].map((instruction) => {\r\n                            return <Grid item xs={5} style={{marginLeft:50}}>\r\n                                <Card>\r\n                                    <CardMedia\r\n                                        component=\"img\"\r\n                                        alt=\"Contemplative Reptile\"\r\n                                        height=\"200\"\r\n                                        image={instruction.ImagePart}\r\n                                        title=\"Contemplative Reptile\"\r\n                                        style={{borderColor: 'black'}}\r\n                                    />\r\n                                    <Card.Header>\r\n                                        <button onClick={() => this.changePdfToShow(instruction.PdfName)}>\r\n                                                <a href={this.state.pdfNames[this.state.pdfToShow]} target=\"_blank\">\r\n                                                {/*<a href={this.state.pdfNames[this.state.pdfToShow]} download={instruction.PdfName}>*/}\r\n                                                    <b>{instruction.Title}</b>\r\n                                                    <BsDownload style={{float:'left'}}></BsDownload>\r\n                                                </a>\r\n                                        </button>\r\n                                    </Card.Header>\r\n                                </Card>\r\n                            </Grid>\r\n                        })\r\n                        }\r\n                    </Grid>\r\n                </div>\r\n            </div>)\r\n\r\n    }\r\n}\r\n\r\nexport default InstructionsSurgery;\r\n\r\nclass PDF extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n        this.state = {\r\n            numPages: null,\r\n            pageNumber: 1,\r\n        };\r\n\r\n        this.nextPage = this.nextPage.bind(this);\r\n        this.previousPage = this.previousPage.bind(this);\r\n\r\n    }\r\n\r\n    onDocumentLoad = ({ numPages }) => {\r\n        this.setState({ numPages });\r\n    };\r\n\r\n    previousPage() {\r\n        this.setState({pageNumber: this.state.pageNumber - 1});\r\n    }\r\n\r\n    nextPage() {\r\n        this.setState({pageNumber: this.state.pageNumber + 1});\r\n    }\r\n\r\n    render() {\r\n        require(\"./Pdf.css\");\r\n\r\n        return <div>\r\n            <Document file={this.props.pdfFile} onLoadSuccess={this.onDocumentLoad} options={{ workerSrc: \"/pdf.worker.js\" }}>\r\n                <Page pageNumber={this.state.pageNumber} />\r\n            </Document>\r\n            <p>Page {this.state.pageNumber} of {this.state.numPages}</p>\r\n            <button class=\"nextprv\" type=\"button\" disabled={this.state.pageNumber <= 1} onClick={this.previousPage}>\r\n                Previous\r\n            </button>\r\n            <button class=\"nextprv\"\r\n                    type=\"button\"\r\n                    disabled={this.state.pageNumber >= this.state.numPages}\r\n                    onClick={this.nextPage}\r\n            >\r\n                Next\r\n            </button>\r\n        </div>\r\n    }\r\n}\r\n\r\n","import React, {Component} from \"react\"\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport axios from \"axios\";\r\nimport YouTube from \"react-youtube\";\r\n//\r\n// import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {AiFillDelete} from \"react-icons/ai\";\r\n\r\nclass ExercisesPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            exercises: undefined,\r\n            exercisesGrid: undefined,\r\n            newExerciseUrl: '',\r\n            newExerciseCategory: 'ברך',\r\n            categories: ['ברך','גב','כתף','קרסול','ירך','מרפק','גב']};\r\n        this.getExercises = this.getExercises.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.onSelectCategoryChosen = this.onSelectCategoryChosen.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getExercises();\r\n    }\r\n\r\n    async getExercises(){\r\n        let respone = await axios.get('http://localhost:8180/auth/usersAll/exercises',\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                },\r\n            });\r\n        this.setState({exercises: respone.data.data})\r\n\r\n        let exercisesForGrid = [];\r\n        for (var i = 0; i < this.state.exercises.length; i = i + 2) {\r\n            if (this.state.exercises[i + 1]) {\r\n                exercisesForGrid.push({\"obj1\": this.state.exercises[i], \"obj2\": this.state.exercises[i + 1]});\r\n            } else {\r\n                exercisesForGrid.push({\"obj1\": this.state.exercises[i], \"obj2\": {}});\r\n            }\r\n            // }\r\n            this.setState({exercisesGrid: exercisesForGrid})\r\n        }\r\n    }\r\n\r\n    handleSubmit(e){\r\n        e.preventDefault();\r\n        this.addExercise();\r\n        this.setState({newExerciseUrl : ''})\r\n        // if(response.data.data === null){\r\n        //     window.alert('אנא מלא את הטופס כראוי')\r\n        // }\r\n    }\r\n\r\n     addExercise(){\r\n        const urlExe = new URL(this.state.newExerciseUrl);\r\n        var urlId = urlExe.searchParams.get('v');\r\n        for(var i=0; i<this.state.exercises.length; i++){\r\n            if (this.state.exercises[i].Video === urlId){\r\n                window.alert('הסרטון כבר קיים במאגר');\r\n                this.setState({newExerciseUrl : ''})\r\n                return;\r\n            }\r\n        }\r\n        let url = `http://localhost:8180/auth/doctors/exercises`;\r\n        axios.post(url,\r\n            {\r\n                category: this.state.newExerciseCategory,\r\n                url : urlId\r\n            },{\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                }});\r\n        window.alert(\"הסרטון נוסף בהצלחה!\")\r\n        this.getExercises()\r\n    }\r\n    handleChange(e) {\r\n        if (e.target.name === \"newExerciseUrl\") {\r\n            this.setState({[e.target.name]: e.target.value})}\r\n    }\r\n\r\n    onSelectCategoryChosen(event) {\r\n        this.setState({\r\n            newExerciseCategory  : this.state.categories[event.target.options.selectedIndex]\r\n        });\r\n    }\r\n\r\n    async removeExercise(eId){\r\n        if(sessionStorage.getItem('doctor')) {\r\n            const r = window.confirm(\"האם אתה בטוח שאתה רוצה למחוק את הסרטון?\");\r\n            if (r == true) {\r\n                axios.delete(`http://localhost:8180/auth/doctors/exercises/removeExercise/${eId}`,\r\n                    {\r\n                        headers: {\r\n                            'Content-Type': 'application/json',\r\n                            'x-auth-token': sessionStorage.getItem(\"token\")\r\n                        }\r\n                    });\r\n                this.getExercises()\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n        require(\"./ExercisesPage.css\");\r\n        let group = undefined;\r\n        var forPatient = \"מטופל/ת יקר/ה!\\nלפניך מאגר תרגולי פיזיותרפיה המחולקים לקטגוריות.\\nשים לב! יש להתייעץ עם הרופא המטפל לפני ביצוע התרגולים הביתיים.\\n החלמה מהירה ובריאות שלמה!\"\r\n        if (this.state.exercises) {\r\n            group = this.state.exercises.reduce((r, a) => {\r\n                r[a.Category] = [...r[a.Category] || [], a];\r\n                return r;\r\n            }, {});\r\n        }\r\n        const opts = {\r\n            height: '350',\r\n            width: '400',\r\n            playerVars: {\r\n                // https://developers.google.com/youtube/player_parameters\r\n                autoplay: 0,\r\n            },\r\n        };\r\n        let optionItems = this.state.categories.map((category) =>\r\n            <option key={category} >{category}</option>\r\n        );\r\n        return (\r\n            <div>\r\n                {sessionStorage.getItem('doctor') && <div>\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className=\"divs_in_add\">\r\n                            <h5>מטפל/ת יקר/ה,</h5>\r\n                            <h5>על מנת להוסיף סרטון למאגר, אנא העתק את קישור ה-Youtube לחלון הנכון ובחר את האיבר השייך לטיפול בסרטון זה.</h5>\r\n                            <h5>על מנת למחוק סרטון, יש ללחוץ על כפתור המחיקה תחת הסרטון הרלוונטי.</h5>\r\n                            <label className=\"labels_in_add_user\">כתובת הסרטון:</label>\r\n                            <input className=\"inputs_in_add_user\" name=\"newExerciseUrl\" type=\"url\"\r\n                                   value={this.state.newExerciseUrl} onChange={e => this.handleChange(e)} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">קטגוריית הסרטון: </label>\r\n                            <select className=\"select_in_add_user\" onChange={this.onSelectCategoryChosen}>\r\n                                {optionItems}\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <input type=\"submit\" value=\"הוסף\" className=\"submit_and_reset_buttons\"/>\r\n                        </div>\r\n                    </form>\r\n                </div>}\r\n                {sessionStorage.getItem('patient') && <div>\r\n                    <a><b>מטופל/ת יקר/ה!</b></a><br/>\r\n                    <a><b>לפניך מאגר תרגולי פיזיותרפיה המחולקים לקטגוריות.</b></a><br/>\r\n                    <a><b>שים לב! יש להתייעץ עם הרופא המטפל לפני ביצוע התרגולים הביתיים.</b></a><br/>\r\n                    <a><b>החלמה מהירה ובריאות שלמה!</b></a>\r\n                </div>}\r\n\r\n                <hr style={{color: \"darkgrey\", backgroundColor: \"darkgrey\", height: 3}}/>\r\n                {group && Object.keys(group).map((keyName, keyIndex) => (\r\n                    <div>\r\n                        <div>\r\n                            <Grid item xs={7} >\r\n                                <div>\r\n                                    <h2><b>תרגילי {keyName}</b></h2>\r\n                                </div>\r\n                            </Grid>\r\n                            <Grid container spacing={3} style={{width: '100%', height:'100%'}} >\r\n                                {group[keyName].map(exercise => <Grid item xs={6} style={{width: '100%', height:'100%'}}>\r\n                                        <YouTube  videoId={exercise.Video} opts={opts} onReady={this._onReady}/>\r\n                                        {sessionStorage.getItem('doctor') &&\r\n                                        <AiFillDelete type=\"button\" class=\"trushIcon\" style={{color: 'black'}} size={20}\r\n                                                      onClick={() => this.removeExercise(exercise.ExerciseId)}/>\r\n                                        }\r\n                                    </Grid>\r\n                                )}\r\n                            </Grid>\r\n                            <hr style={{color: \"darkgrey\", backgroundColor: \"darkgrey\", height: 3}}/>\r\n                        </div>\r\n                    </div>))}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ExercisesPage;\r\n\r\n\r\n","import React, {Component} from 'react';\r\nimport \"./Logo\";\r\nimport \"./Search\";\r\nimport \"./PatientSearch\";\r\n\r\n\r\nimport Logo from './Logo';\r\nimport NavBar from \"./NavBar\";\r\nimport axios from \"axios\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport MessagesPage from \"./MessagesPage\";\r\nimport PatientSearchNew from \"./PatientSearchNew\";\r\nimport QuestionnairesManger from \"./Questionnaire/QuestionnaireManger\";\r\nimport {Route} from \"react-router-dom\";\r\nimport SurveyComponent from \"./Questionnaire/SurveyComponent\";\r\nimport InstructionsSurgery from \"./InstructionsSurgery\";\r\nimport ExercisesPage from \"./ExercisesPage\";\r\n\r\nimport { Document, Page, pdfjs } from \"react-pdf\";\r\npdfjs.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            optionsPName: [],\r\n            namesDiv: [],\r\n            isFetchingNames: false,\r\n            users: [],\r\n            pName:'',\r\n            showPopup: false,\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.togglePopup = this.togglePopup.bind(this);\r\n        this.fetchNames = this.fetchNames.bind(this);\r\n        this.handlePName = this.handlePName.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.isDoctor()) {\r\n            this.fetchNames()\r\n                .then(() => console.log(\"Fetch names successfully\"));\r\n        }\r\n    }\r\n\r\n\r\n    async fetchNames(){\r\n        var list = [];\r\n        var users = [];\r\n        var namesDiv = [];\r\n        this.setState({isFetchingNames: true});\r\n        var response = await axios.get(\r\n            \"http://localhost:8180/auth/doctors/metrics/getUsers\",\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': sessionStorage.getItem(\"token\")\r\n                }\r\n            }\r\n        );\r\n        if(response.data.data){\r\n            var names = [];\r\n            for(var i = 0; i < response.data.data.length; i++){\r\n                let user = response.data.data[i];\r\n                namesDiv.push({first: user.First_Name, last: user.Last_Name});\r\n                users.push(user);\r\n                names.push(user.First_Name.trim() + \" \" + user.Last_Name.trim())\r\n            }\r\n            names = names.sort();\r\n            var uniqueNames = Array.from(new Set(names));\r\n            for(i = 0; i < uniqueNames.length; i++){\r\n                list.push(<option key={uniqueNames[i]}>{uniqueNames[i]}</option>);\r\n            }\r\n        }\r\n        this.setState({\r\n            isFetchingNames: false,\r\n            optionsPName: list,\r\n            namesDiv: namesDiv,\r\n            users: users\r\n        });\r\n    }\r\n\r\n    togglePopup() {\r\n        this.setState({\r\n            showPopup: !this.state.showPopup\r\n        });\r\n    }\r\n\r\n    handlePName(event) {\r\n        this.setState({pName: event.target.value});\r\n    }\r\n\r\n    async handleSubmit(event) {\r\n        if(event){\r\n            event.preventDefault()\r\n        }\r\n\r\n        let usersByName = [];\r\n        this.state.users.forEach(user => {\r\n            if(this.state.pName.toLocaleLowerCase() === `${user.First_Name.trim()} ${user.Last_Name.trim()}`.toLocaleLowerCase()) {\r\n                console.log(`found user ${user}`);\r\n                usersByName.push(user);\r\n            }\r\n        });\r\n        let cards = [];\r\n        for(let i = 0; i < usersByName.length; i++){\r\n            let user = usersByName[i];\r\n            let dateC = new Date(user.BirthDate).toLocaleDateString('en-GB', {day: 'numeric', month: 'numeric', year:\"numeric\"});\r\n            cards.push(\r\n                <Card className=\"card\" key={user.UserID}  onClick={() => {\r\n                    this.setState({patientUserId: user.UserID, user: user});\r\n                    this.togglePopup();\r\n                }}>\r\n                    <Card.Body className=\"cardBody\">שם מלא: {this.state.pName.trim()} </Card.Body>\r\n                    <Card.Body className=\"cardBody\">תאריך לידה: {dateC}</Card.Body>\r\n                </Card>\r\n            );\r\n        }\r\n        this.setState({\r\n            text: cards\r\n        });\r\n        this.togglePopup();\r\n    }\r\n\r\n    isDoctor() {\r\n        return sessionStorage.getItem('doctor');\r\n    }\r\n\r\n    searchPatient() {\r\n        require(\"./search.css\");\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <datalist id=\"first-list\">{this.state.optionsPName}</datalist>\r\n                    <div className=\"search\">\r\n                        <label className=\"lSearch\">\r\n                            חפש מטופל:\r\n                        </label>\r\n                        <input className=\"iSearch\"\r\n                               id=\"pname\"\r\n                               type=\"text\"\r\n                               name=\"pName\"\r\n                               value={this.state.pName}\r\n                               placeholder=\"שם פרטי ומשפחה\"\r\n                               onChange={this.handlePName}\r\n                               list=\"first-list\"\r\n                               required\r\n                        />\r\n                        <button className=\"bSearch\">\r\n                            חפש\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n                <br />\r\n                {this.state.showPopup ?\r\n                    <Popup\r\n                        text={this.state.text}\r\n                        closePopup={this.togglePopup.bind(this)}\r\n                    /> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    getActiveComponent() {\r\n        if(this.props.component === 'search') {\r\n            return <PatientSearchNew patientUserId={this.state.patientUserId}/>;\r\n        } else if(this.props.component === 'messages') {\r\n            return <MessagesPage patientUserId={this.state.patientUserId}/>\r\n        } else if(this.props.component === 'questionnaires'){\r\n            return <QuestionnairesManger user = {this.state.user}/>\r\n        } else if(this.props.component === 'survey'){\r\n            return <SurveyComponent {...this.props}/>\r\n        } else if(this.props.component === 'instructions'){\r\n            return <InstructionsSurgery {...this.props}/>\r\n        } else if(this.props.component === 'exercises'){\r\n            return <ExercisesPage {...this.props}/>\r\n        }\r\n        return null;\r\n    }\r\n\r\n    checkIfNotSearchNeeded(){\r\n        if(this.props.component === 'instructions' || this.props.component === 'exercises'){\r\n            return false;\r\n        }\r\n        return true\r\n    }\r\n\r\n    render() {\r\n        require(\"./App.css\");\r\n        return (\r\n            <div>\r\n                <NavBar />\r\n                <div className=\"App\">\r\n                    <header className=\"App-header\">\r\n                        <Logo />\r\n                        {this.isDoctor() && this.checkIfNotSearchNeeded() && this.searchPatient()}\r\n                        {this.getActiveComponent()}\r\n                        <br />\r\n                    </header>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default App;\r\n\r\nclass Popup extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className='popup'>\r\n                <div className='popup_inner' >\r\n                    <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                    <h4>:אנא בחר מבין הרשומות הבאות</h4>\r\n                    {this.props.text}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport axios from 'axios';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Select from 'react-select';\r\nimport DropdownMultiselect from \"react-multiselect-dropdown-bootstrap\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport {FcInfo} from \"react-icons/fc\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\n\r\nconst initialState = {\r\n    userName: \"\",\r\n    fName: \"\",\r\n    lName: \"\",\r\n    password: \"\",\r\n    bday: new Date(),\r\n    questionsID: [],\r\n    questionsText: [],\r\n    questions :[],\r\n    answerUserQuestion: \"\",\r\n    quesionChosen: 0,\r\n    code: \"\",\r\n    type: '',\r\n    questionnairesID:[],\r\n    questionnairesText:[],\r\n    gender: \"\",\r\n    smoke: \"\",\r\n    dateOfSurgery:\"\",\r\n    surgeryType: \"\",\r\n    education: \"\",\r\n    height: \"\",\r\n    weight: \"\",\r\n    bmi:\"\",\r\n    // questionnaires: [],\r\n    questionnairesChosen:0,\r\n};\r\n\r\nclass AddUser extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userName: \"\",\r\n            fName: \"\",\r\n            lName: \"\",\r\n            password: \"\",\r\n            bday: new Date(),\r\n            phone: \"\",\r\n            questionsID: [],\r\n            questionsText: [],\r\n            questions :[],\r\n            answerUserQuestion: \"\",\r\n            code: \"\",\r\n            questionnaires: [],\r\n            questionnairesID:[],\r\n            questionnairesText:[],\r\n            questionnairesChosen:0,\r\n            quesionChosen: 0,\r\n            gender: \"\",\r\n            smoke: \"\",\r\n            dateOfSurgery:\"\",\r\n            surgeryType: \"\",\r\n            education: \"\",\r\n            height: \"\",\r\n            weight: \"\",\r\n            bmi:\"\",\r\n            surgeryDateDisplay: false\r\n        };\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleReset = this.handleReset.bind(this);\r\n        this.onSelectQuesionChosen = this.onSelectQuesionChosen.bind(this);\r\n        this.onSelectGender = this.onSelectGender.bind(this);\r\n        this.onSelectSmoke = this.onSelectSmoke.bind(this);\r\n        this.onSelectSurgeryType = this.onSelectSurgeryType.bind(this);\r\n        this.onSelectEducation = this.onSelectEducation.bind(this);\r\n        this.onSelectQuestionnairesChosen = this.onSelectQuestionnairesChosen.bind(this);\r\n    }\r\n\r\n    onSelectQuesionChosen(event) {\r\n        const selectedIndex = event.target.options.selectedIndex;\r\n        this.setState({\r\n            quesionChosen: selectedIndex\r\n        });\r\n    }\r\n    onSelectGender(event) {\r\n        const selectedIndex = event.target.options.selectedIndex;\r\n        this.setState({\r\n            gender: selectedIndex\r\n        });\r\n    }\r\n    onSelectSmoke(event) {\r\n        const selectedIndex = event.target.options.selectedIndex;\r\n        this.setState({\r\n            smoke: selectedIndex\r\n        });\r\n    }\r\n    onSelectEducation(event) {\r\n        const selectedIndex = event.target.options.selectedIndex;\r\n        this.setState({\r\n            education: selectedIndex\r\n        });\r\n    }\r\n\r\n    onSelectSurgeryType(event) {\r\n        const selectedIndex = event.target.options.selectedIndex;\r\n        console.log(selectedIndex)\r\n        this.setState({\r\n            surgeryType: selectedIndex\r\n        });\r\n        if( selectedIndex !== 3 && selectedIndex !==0){\r\n            this.setState({\r\n                surgeryDateDisplay: true\r\n            });\r\n        }else{\r\n            this.setState({\r\n                surgeryDateDisplay: false\r\n            });\r\n        }\r\n\r\n    }\r\n    onSelectQuestionnairesChosen(selected) {\r\n        console.log(selected)\r\n        // const selectedIndex = event.target.options.selectedIndex;\r\n        let chosen = [];\r\n        let questionnaires = this.state.questionnaires;\r\n        selected.forEach(selectQuestionnaire => {\r\n            questionnaires.forEach(questionnaire => {\r\n                if(selectQuestionnaire == questionnaire.QuestionnaireText){\r\n                    chosen.push(questionnaire)\r\n                }\r\n            })\r\n        });\r\n        this.setState({\r\n            questionnairesChosen: Array.from(new Set(chosen))\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        let initialQuestions = [];\r\n        let initQuestionsID = [];\r\n        let initQuestionsText = [];\r\n\r\n        fetch('http://localhost:8180/users/getVerifications')\r\n            .then(response => {\r\n                return response.json();\r\n            }).then(results => {\r\n\r\n            initialQuestions = results.data;\r\n\r\n            for(var i = 0; i < initialQuestions.length; i++) {\r\n                var obj = initialQuestions[i];\r\n                initQuestionsID.push(obj.QuestionID);\r\n                initQuestionsText.push(obj.QuestionText);\r\n\r\n            }\r\n\r\n            this.setState({\r\n                questionsID: initQuestionsID,\r\n                questionsText: initQuestionsText,\r\n                questions: initialQuestions,\r\n            });\r\n        });\r\n        // if(this.state.type === \"patient\"){\r\n        let initQuestionnairesID = [];\r\n        let initQuestionnairesText = [];\r\n        let initQuestionnaires = [];\r\n        fetch('http://localhost:8180/questionnaires/all')\r\n            .then(response => {\r\n                return response.json();\r\n            }).then(results => {\r\n\r\n            initQuestionnaires = results.data;\r\n\r\n            for(var i = 0; i < initQuestionnaires.length; i++) {\r\n                var obj = initQuestionnaires[i];\r\n                if(obj.QuestionnaireID !== 0 && obj.QuestionnaireID !==6 && obj.QuestionnaireID !== 5) {\r\n                    initQuestionnairesID.push(obj.QuestionnaireID);\r\n                    initQuestionnairesText.push(obj.QuestionnaireText);\r\n                }\r\n            }\r\n            this.setState({\r\n                questionnaires: initQuestionnaires,\r\n                questionnairesID: initQuestionnairesID,\r\n                questionnairesText: initQuestionnairesText\r\n            });\r\n        });\r\n    }\r\n\r\n    handleChange(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        var bDay = new Date(this.state.bday);\r\n        var now = new Date();\r\n        // var regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/;\r\n        // if(!regex.test(this.state.password)){\r\n        //     window.alert('הסיסמא צריכה להכיל לפחות 8 תווים,אות אנגלית קטנה, אות אנגלית גדולה ומספר')\r\n        //     return\r\n        // }\r\n        if(this.state.type === 'doctor') {\r\n            axios.post('http://localhost:8180/users/doctorRegister', {\r\n                UserID: this.state.userName,\r\n                Password: this.state.password,\r\n                First_Name: this.state.fName,\r\n                Last_Name: this.state.lName,\r\n                Phone_Number: this.state.phone,\r\n                BirthDate: bDay.getTime(),\r\n                Code: this.state.code,\r\n                VerificationQuestion: this.state.quesionChosen,\r\n                VerificationAnswer: this.state.answerUserQuestion,\r\n                ValidTime: now.getTime()\r\n            }).then(res => {\r\n                if (res.data.message === \"Wrong Code\") {\r\n                    window.alert(\"קוד האימות אינו נכון\");\r\n                } else if (res.data.message === \"Taken Email\") {\r\n                    window.alert(\"כתובת הדואל כבר רשומה במערכת\");\r\n                } else {\r\n                    window.alert(\"ההרשמה בוצעה בהצלחה נא לבצע התחברות\");\r\n                    window.location.reload(false);\r\n                }\r\n            })\r\n        }\r\n        if(this.state.type === 'patient') {\r\n            var dateOfSurgery = new Date(this.state.dateOfSurgery);\r\n            let gender;\r\n            if (this.state.gender == 1) {\r\n                gender = \"נקבה\"\r\n            } else if (this.state.gender == 2) {\r\n                gender = \"זכר\"\r\n            }\r\n            let smoke;\r\n            if (this.state.smoke == 1) {\r\n                smoke = \"מעשן\"\r\n            } else if (this.state.smoke == 2) {\r\n                smoke = \"לא מעשן\"\r\n            }\r\n            let sType;\r\n            if (this.state.surgeryType ==1) {\r\n                sType = \"ניתוח דחוף\"\r\n            }else if (this.state.surgeryType == 2)\r\n            {\r\n                sType = \"ניתוח מתוכנן\"\r\n\r\n            }else if (this.state.surgeryType == 3) {\r\n                sType = \"ללא ניתוח\"\r\n            }\r\n            let education;\r\n            let educationOptions = {1 :\"השכלה אקדמאית\", 2: \"השכלה תיכונית\", 3:\"10-12 שנות לימוד\", 4: \"6-9 שנות לימוד\", 5: \"5 שנות לימוד או פחות\", 6:\"לא מעוניין לענות\"};\r\n            for (var key in educationOptions) {\r\n                if(key == this.state.education){\r\n                    education = educationOptions[key]\r\n                }\r\n            }\r\n            let height_double = Number(this.state.height / 100);\r\n            let bmi = String((Number(this.state.weight)/Math.pow(height_double,2)));\r\n            axios.post('http://localhost:8180/users/patientRegister', {\r\n                UserID: this.state.userName,\r\n                Password: this.state.password,\r\n                First_Name: this.state.fName,\r\n                Last_Name: this.state.lName,\r\n                Phone_Number: this.state.phone,\r\n                Gender:gender,\r\n                Smoke: smoke,\r\n                DateOfSurgery: dateOfSurgery.getTime(),\r\n                SurgeryType: sType,\r\n                Education: education,\r\n                Height: this.state.height,\r\n                Weight: this.state.weight,\r\n                BMI: bmi,\r\n                BirthDate: bDay.getTime(),\r\n                Code: this.state.code,\r\n                Questionnaires: this.state.questionnairesChosen,\r\n                VerificationQuestion: this.state.quesionChosen,\r\n                VerificationAnswer: this.state.answerUserQuestion,\r\n                ValidTime: now.getTime()\r\n            }).then(res => {\r\n                if (res.data.message === \"Wrong Code\") {\r\n                    window.alert(\"קוד האימות אינו נכון\");\r\n                } else if (res.data.message === \"Taken Email\") {\r\n                    window.alert(\"כתובת הדואל כבר רשומה במערכת\");\r\n                } else {\r\n                    window.alert(\"ההרשמה בוצעה בהצלחה נא לבצע התחברות\");\r\n                    window.location.reload(false);\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    handleReset(event) {\r\n        this.setState (initialState);\r\n        let initialQuestions = [];\r\n        let initQuestionsID = [];\r\n        let initQuestionsText = [];\r\n        fetch('http://localhost:8180/users/getVerifications')\r\n            .then(response => {\r\n                return response.json();\r\n            }).then(results => {\r\n\r\n            initialQuestions = results.data;\r\n            console.log(initialQuestions);\r\n\r\n            for(var i = 0; i < initialQuestions.length; i++) {\r\n                var obj = initialQuestions[i];\r\n\r\n                initQuestionsID.push(obj.QuestionID);\r\n                initQuestionsText.push(obj.QuestionText);\r\n            }\r\n\r\n            this.setState({\r\n                questionsID: initQuestionsID,\r\n                questionsText: initQuestionsText,\r\n                questions: initialQuestions\r\n            });\r\n        });\r\n\r\n        let initQuestionnairesID = [];\r\n        let initQuestionnairesText = [];\r\n        let initQuestionnaires = [];\r\n        fetch('http://localhost:8180/questionnaires/all')\r\n            .then(response => {\r\n                return response.json();\r\n            }).then(results => {\r\n\r\n            initQuestionnaires = results.data;\r\n\r\n            for(var i = 0; i < initQuestionnaires.length; i++) {\r\n                var obj = initQuestionnaires[i];\r\n\r\n                initQuestionnairesID.push(obj.QuestionnaireID);\r\n                initQuestionnairesText.push(obj.QuestionnaireText);\r\n            }\r\n            this.setState({\r\n                questionnaires: initQuestionnaires,\r\n                questionnairesID: initQuestionnairesID,\r\n                questionnairesText: initQuestionnairesText\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    isDoctor(){\r\n        this.setState({type: 'doctor'})\r\n    }\r\n    isPatient(){\r\n        this.setState({type: 'patient'})\r\n    }\r\n    render() {\r\n        require(\"./AddUser.css\");\r\n        let quesions = this.state.questionsText;\r\n        let optionItems = quesions.map((question) =>\r\n            <option key={question} >{question}</option>\r\n        );\r\n        let questionnaires = this.state.questionnairesText;\r\n        if (questionnaires.length === 0){\r\n            this.componentDidMount();\r\n            questionnaires = this.state.questionnairesText;\r\n        }\r\n        // let questionnairesOption = questionnaires.map((questionnaire) =>\r\n        //     <option key={questionnaire} >{questionnaire}</option>\r\n        // );\r\n        let questionnairesOption =[];\r\n        questionnaires.forEach(questionnaire => {\r\n            questionnairesOption.push(questionnaire)\r\n            // questionnairesOption.push({value: questionnaire, label: questionnaire})\r\n        });\r\n        // let questionnairesOption = questionnaires.map((questionnaire) => {value: {questionnaire}, label: {questionnaire}});\r\n        let genderOptions = [<option></option>,<option>נקבה</option>,<option>זכר</option>];\r\n        let surgeryOptions = [<option/>,<option>ניתוח דחוף</option>,<option>ניתוח מתוכנן</option>,<option>ללא ניתוח</option>];\r\n        let smokeOptions = [<option/>,<option>מעשן</option>,<option>לא מעשן</option>];\r\n        let educationOptions = [<option/>,<option>השכלה אקדמאית</option>,<option>השכלה תיכונית</option>,<option>10-12 שנות לימוד</option>,<option>6-9 שנות לימוד</option>,<option>5 שנות לימוד או פחות</option>,<option>לא מעוניין לענות</option>];\r\n        var today = (new Date()).toISOString().split(\"T\")[0];\r\n        return (\r\n            <div>\r\n                <label className=\"buttonsChoose\">\r\n                    <Button style={{width: 150, floatButtom:'auto'}} className=\"docbutton\" variant=\"info\" onClick={() => this.isDoctor()}> דוקטור </Button>\r\n                    {'                                                                '}\r\n                    <Button style={{width: 150}} className=\"docbutton\" variant=\"info\" onClick={() => this.isPatient()}> מטופל </Button>\r\n                </label>\r\n                {this.state.type === 'doctor' ?\r\n                    <form onSubmit={this.handleSubmit} onReset={this.handleReset} id=\"new_user_form\">\r\n                        <div className=\"divs_in_add\">\r\n                            <label for= \"email\" className=\"labels_in_add_user\">כתובת דוא\"ל</label>\r\n                            <input className=\"inputs_in_add_user\" name=\"userName\" type=\"email\"\r\n                                   value={this.state.userName} onChange={e => this.handleChange(e)} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">שם פרטי</label>\r\n                            <input className=\"inputs_in_add_user\" name=\"fName\" type=\"text\" value={this.state.fName}\r\n                                   minLength=\"2\" maxLength=\"20\" onChange={this.handleChange} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">שם משפחה </label>\r\n                            <input className=\"inputs_in_add_user\" name=\"lName\" type=\"text\" value={this.state.lName}\r\n                                   minLength=\"2\" maxLength=\"20\" onChange={this.handleChange} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">סיסמה </label>\r\n                            <input className=\"inputs_in_add_user\" name=\"password\" type=\"password\" minlength=\"8\"\r\n                                   maxLength=\"12\" pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$\" value={this.state.password} onChange={this.handleChange} message={\"הסיסמא צריכה להכיל לפחות 8 תווים, לפחות תו אחד באות אנגלית קטנה, תו אחד באות אנגלית אות אנגלית גדולה ותו אחד כמספר.\"} required/>\r\n                            <Tooltip title=\"הסיסמא צריכה להכיל לפחות 8 תווים,אות אנגלית קטנה, אות אנגלית גדולה ומספר\">\r\n                                <IconButton >\r\n                                    <FcInfo></FcInfo>\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">מספר טלפון</label>\r\n                            <input className=\"inputs_in_add_user\" name=\"phone\" type=\"tel\" id=\"phone\" pattern=\"[0-9]{10}\"\r\n                                   value={this.state.phone} onChange={this.handleChange} required/>\r\n                            <Tooltip title=\"מספר טלפון המכיל מספרים בלבד\">\r\n                                <IconButton >\r\n                                    <FcInfo></FcInfo>\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">תאריך לידה</label>\r\n                            <input className=\"inputs_in_add_user\" name=\"bday\" type=\"date\" max={today}\r\n                                   value={this.state.bday} onChange={this.handleChange} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">קוד אימות </label>\r\n                            <input className=\"inputs_in_add_user\" name=\"code\" type=\"text\" value={this.state.code}\r\n                                   onChange={this.handleChange} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">שאלת אימות </label>\r\n                            <select className=\"select_in_add_user\" onChange={this.onSelectQuesionChosen}>\r\n                                {optionItems}\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">תשובה </label>\r\n                            <input className=\"inputs_in_add_user\" name=\"answerUserQuestion\" type=\"text\"\r\n                                   value={this.state.answerUserQuestion} onChange={this.handleChange} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <input type=\"submit\" value=\"הירשם\" className=\"submit_and_reset_buttons\"/>\r\n                        </div>\r\n                        <br/>\r\n                        <br/>\r\n                    </form>\r\n                    : null}\r\n                {this.state.type === 'patient' ?\r\n                    <form onSubmit={this.handleSubmit} onReset={this.handleReset} id=\"new_user_form\">\r\n                        <div className=\"divs_in_add\">\r\n                            <label for=\"email\" className=\"labels_in_add_user\">כתובת דוא\"ל</label>\r\n                            <input className=\"inputs_in_add_user\" name=\"userName\" type=\"email\"\r\n                                   value={this.state.userName} onChange={e => this.handleChange(e)} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">שם פרטי</label>\r\n                            <input className=\"inputs_in_add_user\" name=\"fName\" type=\"text\" value={this.state.fName}  minLength=\"2\" maxLength=\"20\"\r\n                                   onChange={this.handleChange} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">שם משפחה </label>\r\n                            <input className=\"inputs_in_add_user\" name=\"lName\" type=\"text\" value={this.state.lName}  minLength=\"2\" maxLength=\"20\"\r\n                                   onChange={this.handleChange} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">סיסמה </label>\r\n                            <input className=\"inputs_in_add_user\" name=\"password\" type=\"password\" minlength=\"8\"\r\n                                   maxLength=\"12\" pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$\"\r\n                                   value={this.state.password} onChange={this.handleChange} required/>\r\n                            <Tooltip title=\"הסיסמא צריכה להכיל לפחות 8 תווים,אות אנגלית קטנה, אות אנגלית גדולה ומספר\">\r\n                                <IconButton >\r\n                                    <FcInfo></FcInfo>\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">מספר טלפון</label>\r\n                            <input className=\"inputs_in_add_user\" name=\"phone\" type=\"tel\" id=\"phone\" pattern=\"[0-9]{10}\"\r\n                                   value={this.state.phone} onChange={this.handleChange} required/>\r\n                            <Tooltip title=\"מספר טלפון המכיל מספרים בלבד\">\r\n                                <IconButton >\r\n                                    <FcInfo></FcInfo>\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">תאריך לידה</label>\r\n                            <input className=\"inputs_in_add_user\" name=\"bday\" type=\"date\" max={today}\r\n                                   value={this.state.bday} onChange={this.handleChange} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">משקל (ק\"ג) </label>\r\n                            <input className=\"inputs_in_add_user\" name=\"weight\" type=\"number\" value={this.state.weight}\r\n                                   onChange={this.handleChange} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">גובה (ס\"מ) </label>\r\n                            <input className=\"inputs_in_add_user\" name=\"height\" type=\"number\" minLength=\"3\" value={this.state.height}\r\n                                   onChange={this.handleChange} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">מין </label>\r\n                            <select className=\"select_in_add_user\" onChange={this.onSelectGender}>\r\n                                {genderOptions}\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">מעשן </label>\r\n                            <select className=\"select_in_add_user\" onChange={this.onSelectSmoke}>\r\n                                {smokeOptions}\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">השכלה </label>\r\n                            <select className=\"select_in_add_user\" onChange={this.onSelectEducation}>\r\n                                {educationOptions}\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">סוג ניתוח </label>\r\n                            <select className=\"select_in_add_user\" onChange={this.onSelectSurgeryType}>\r\n                                {surgeryOptions}\r\n                            </select>\r\n                        </div>{this.state.surgeryDateDisplay &&\r\n                    <div className=\"divs_in_add\">\r\n                        <label className=\"labels_in_add_user\">תאריך ניתוח</label>\r\n                        <input className=\"inputs_in_add_user\" name=\"dateOfSurgery\" type=\"date\"\r\n                               value={this.state.DateOfSurgery} onChange={this.handleChange} required/>\r\n                    </div>}\r\n                        <div className=\"divs_in_add_drop\">\r\n                            <label className=\"labels_in_add_user\">שאלונים רפואיים </label>\r\n                            <DropdownMultiselect id=\"add_user_dropdown\" options={questionnairesOption} handleOnChange={(selected) => {\r\n                                this.onSelectQuestionnairesChosen(selected)\r\n                            }} name=\"questionnaires\" placeholder=\"לא נבחר שאלון\"  style={{borderColor: 'black', width:80}}/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <br/>\r\n                            <br/>\r\n                            <br/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">קוד אימות </label>\r\n                            <input className=\"inputs_in_add_user\" name=\"code\" type=\"text\" value={this.state.code}\r\n                                   onChange={this.handleChange} required/>\r\n                            <Tooltip title=\"קוד האימות שהוגדר מבית החולים המטפל\">\r\n                                <IconButton >\r\n                                    <FcInfo></FcInfo>\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">שאלת אימות </label>\r\n                            <select className=\"select_in_add_user\" onChange={this.onSelectQuesionChosen}>\r\n                                {optionItems}\r\n                            </select>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <label className=\"labels_in_add_user\">תשובה </label>\r\n                            <input className=\"inputs_in_add_user\" name=\"answerUserQuestion\" type=\"text\"\r\n                                   value={this.state.answerUserQuestion} onChange={this.handleChange} required/>\r\n                        </div>\r\n                        <div className=\"divs_in_add\">\r\n                            <input type=\"submit\" value=\"הירשם\" className=\"submit_and_reset_buttons\"/>\r\n                        </div>\r\n                        <br/>\r\n                        <br/>\r\n                    </form>\r\n                    : null}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddUser;","import React, {Component} from 'react';\r\n\r\nimport './Login.css';\r\nimport axios from 'axios';\r\nimport Adduser from'./AddUser';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nclass Login extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            ID: '',\r\n            password: '',\r\n            wrong: false,\r\n            showPopup: false,\r\n            name: \"\",\r\n            doctor: false,\r\n            patient: false,\r\n            showID: false,\r\n            showWrongUser: false,\r\n            showQ: false,\r\n            showChange: false,\r\n            id: \"\",\r\n            question: \"\",\r\n            answer: \"\",\r\n            date: \"\",\r\n            wrongA: false,\r\n            diff: false,\r\n            token: \"\",\r\n            pass: \"\",\r\n            pass2: \"\",\r\n            remember: false,\r\n            register: false\r\n        };\r\n        if(localStorage.getItem(\"doctor\")){\r\n            sessionStorage.setItem(\"token\", localStorage.getItem(\"token\"));\r\n            sessionStorage.setItem(\"name\", localStorage.getItem(\"name\"));\r\n            sessionStorage.setItem(\"type\", localStorage.getItem(\"type\"));\r\n            sessionStorage.setItem(\"doctor\", localStorage.getItem(\"doctor\"));\r\n        }\r\n        else if(localStorage.getItem(\"patient\")){\r\n            sessionStorage.setItem(\"token\", localStorage.getItem(\"token\"));\r\n            sessionStorage.setItem(\"name\", localStorage.getItem(\"name\"));\r\n            sessionStorage.setItem(\"type\", localStorage.getItem(\"type\"));\r\n            sessionStorage.setItem(\"patient\", localStorage.getItem(\"patient\"));\r\n        }\r\n        this.change = this.change.bind(this);\r\n        this.sumbit = this.sumbit.bind(this);\r\n        this.togglePopup = this.togglePopup.bind(this);\r\n        this.forget = this.forget.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handle = this.handle.bind(this);\r\n        this.changePass = this.changePass.bind(this);\r\n        this.register = this.register.bind(this);\r\n    }\r\n\r\n    change(e) {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    togglePopup() {\r\n        this.setState({\r\n            showPopup: !this.state.showPopup,\r\n            wrongA: false,\r\n            diff: false\r\n        });\r\n    }\r\n\r\n    forget(e){\r\n        e.preventDefault();\r\n        this.setState({\r\n            showID: true,\r\n            showWrongUser: false,\r\n            showQ: false,\r\n            showChange: false,\r\n            register: false\r\n        })\r\n        this.togglePopup();\r\n    }\r\n\r\n    async handleSubmit(e){\r\n        e.preventDefault();\r\n        let url = 'http://localhost:8180/users/forgotPassword';\r\n        const response = await axios.post(\r\n            url,\r\n            {\r\n                UserID: this.state.id\r\n            }\r\n        );\r\n        if(response.data.data === null){\r\n            this.setState({\r\n                wrongA: true\r\n            })\r\n        }\r\n        else{\r\n            var qID = response.data.data;\r\n            const response1 = await axios.get(\"http://localhost:8180/users/getVerificationQuestion?QuestionID=\" + qID);\r\n            this.setState({\r\n                showID: false,\r\n                showWrongUser: false,\r\n                showQ: true,\r\n                showChange: false,\r\n                register: false,\r\n                wrongA: false,\r\n                question: response1.data.data[\"QuestionText\"]\r\n            });\r\n        }\r\n    }\r\n\r\n    async handle(e){\r\n        e.preventDefault();\r\n        var date = new Date(this.state.date);\r\n        var dateLong = date.getTime();\r\n        let url = 'http://localhost:8180/users/checkVerification';\r\n        const response = await axios.post(\r\n            url,\r\n            {\r\n                UserID: this.state.id,\r\n                VerificationAnswer: this.state.answer,\r\n                BirthDate: dateLong\r\n            }\r\n        );\r\n        var token = response.data.data;\r\n        if(!token){\r\n            this.setState({\r\n                wrongA: true\r\n            })\r\n        }\r\n        else{\r\n            this.setState({\r\n                showID: false,\r\n                showWrongUser: false,\r\n                showQ: false,\r\n                showChange: true,\r\n                register: false,\r\n                token: token\r\n            })\r\n        }\r\n    }\r\n\r\n    async changePass(event){\r\n        event.preventDefault();\r\n        if(this.state.pass !== this.state.pass2){\r\n            this.setState({\r\n                diff: true\r\n            });\r\n        }\r\n        else{\r\n            var token = this.state.token;\r\n            var url = 'http://localhost:8180/users/passwordChangeCheck/changePassword';\r\n            const response = await axios.post(\r\n                url,\r\n                {\r\n                    \"NewPassword\":this.state.pass\r\n                },\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'x-auth-token': token\r\n                    }\r\n                }\r\n            );\r\n            if(response.data.message){\r\n                window.alert(\"הסיסמא שונתה בהצלחה\");\r\n                this.togglePopup();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    register(e){\r\n        this.setState({\r\n            register: true,\r\n            showID: false,\r\n            showWrongUser: false,\r\n            showQ: false,\r\n            showChange: false,\r\n        })\r\n        this.togglePopup();\r\n    }\r\n\r\n    sumbit(e){\r\n        e.preventDefault();\r\n        axios.post('http://localhost:8180/users/login', {\r\n            UserID: this.state.ID,\r\n            Password: this.state.password\r\n        }).then(res => {\r\n            if(res.data.data == null){\r\n                this.setState({wrong: true})\r\n            }\r\n            else if(res.data.data.type[0] === \"patient\"){\r\n                sessionStorage.setItem(\"token\", res.data.data.token);\r\n                sessionStorage.setItem(\"name\", res.data.data.name);\r\n                sessionStorage.setItem(\"type\", res.data.data.type);\r\n                this.setState({\r\n                    patient: sessionStorage.getItem(\"type\").includes(\"patient\")\r\n                });\r\n                sessionStorage.setItem(\"patient\", this.state.patient);\r\n                window.location.reload(false);\r\n                if(this.state.remember){\r\n                    localStorage.setItem(\"token\", res.data.data.token);\r\n                    localStorage.setItem(\"name\", res.data.data.name);\r\n                    localStorage.setItem(\"type\", res.data.data.type);\r\n                    localStorage.setItem(\"patient\", this.state.patient);\r\n                }\r\n                // this.setState({name: res.data.data.name,\r\n                //     ID: \"\",\r\n                //     password: \"\",\r\n                //     wrong: false,\r\n                //     showID: false,\r\n                //     showWrongUser: true,\r\n                //     showQ: false,\r\n                //     showChange: false,\r\n                //     register: false\r\n                // });\r\n                // this.togglePopup();\r\n            }\r\n            else{\r\n                sessionStorage.setItem(\"token\", res.data.data.token);\r\n                sessionStorage.setItem(\"name\", res.data.data.name);\r\n                sessionStorage.setItem(\"type\", res.data.data.type);\r\n                this.setState({\r\n                    doctor: sessionStorage.getItem(\"type\").includes(\"doctor\")\r\n                });\r\n                sessionStorage.setItem(\"doctor\", this.state.doctor);\r\n                window.location.reload(false);\r\n                if(this.state.remember){\r\n                    localStorage.setItem(\"token\", res.data.data.token);\r\n                    localStorage.setItem(\"name\", res.data.data.name);\r\n                    localStorage.setItem(\"type\", res.data.data.type);\r\n                    localStorage.setItem(\"doctor\", this.state.doctor);\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n    render(){\r\n        require(\"./Login.css\");\r\n        return(\r\n            <div>\r\n                <form onSubmit={e => this.sumbit(e)}>\r\n                    <label>כתובת דוא\"ל:</label>\r\n                    <input type=\"text\" className=\"inputs\" name=\"ID\" onChange={e => this.change(e)} value={this.state.ID} required/>\r\n                    <label>סיסמה:</label>\r\n                    <input type=\"password\"  className=\"inputs\" name=\"password\"  onChange={e => this.change(e)} value={this.state.password} required/>\r\n                    {this.state.wrong ? <label id=\"wrong\">כתובת הדוא\"ל או הסיסמה לא נכונים</label> :  <label></label> }\r\n                    <input type=\"checkbox\" id=\"remember\" name=\"remember\" onChange={e => this.change(e)} value={this.state.remember}/>\r\n                    <label>זכור אותי</label>\r\n                    <button type=\"submit\">התחבר</button>\r\n                    <label id=\"forget\"  onClick={(e) => this.forget(e)}>שכחת סיסמה?</label>\r\n                    <label id=\"register\"  onClick={(e) => this.register(e)}>הירשם</label>\r\n                </form>\r\n\r\n                {this.state.showPopup ?\r\n                    <Popup\r\n                        text={this.state.name}\r\n                        closePopup={this.togglePopup.bind(this)}\r\n                        showID={this.state.showID}\r\n                        showWrongUser={this.state.showWrongUser}\r\n                        showQ={this.state.showQ}\r\n                        showChange={this.state.showChange}\r\n                        handleSubmit={this.handleSubmit.bind(this)}\r\n                        change={this.change.bind(this)}\r\n                        handle={this.handle.bind(this)}\r\n                        question={this.state.question}\r\n                        wrongA={this.state.wrongA}\r\n                        diff={this.state.diff}\r\n                        changePass={this.changePass.bind(this)}\r\n                        register={this.state.register}\r\n                    /> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;\r\n\r\nclass Popup extends React.Component {\r\n    render() {\r\n        var today = (new Date()).toISOString().split(\"T\")[0];\r\n        return (\r\n            <div>\r\n                {/*{ this.props.showWrongUser ?*/}\r\n                {/*    <div className='popup'>*/}\r\n                {/*        <div className='popup_innerWrong' >*/}\r\n                {/*            <button onClick={this.props.closePopup} id=\"x\">x</button>*/}\r\n                {/*            <h3>,שלום {this.props.text}</h3>*/}\r\n                {/*            <p id=\"wrongType\"> אין לך את ההרשאות המתאימות על מנת להיכנס לאתר</p>*/}\r\n                {/*        </div>*/}\r\n                {/*    </div> : null*/}\r\n                {/*}*/}\r\n                { this.props.showID ?\r\n                    <div className='popup'>\r\n                        <div className='popup_innerEmail' >\r\n                            <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                            <h3 id=\"h3\">שכחתי סיסמא</h3>\r\n                            <form onSubmit={this.props.handleSubmit}>\r\n                                <label  id=\"lid\">\r\n                                    אנא הזן כתובת דוא\"ל:\r\n                                </label>\r\n                                <input type=\"text\" className=\"inputs\" name=\"id\" id=\"id\" onChange={this.props.change} required/>\r\n                                {this.props.wrongA ? <label className=\"error\">כתובת דוא\"ל לא קיימת</label> : null}\r\n                                <div className=\"lineC\">\r\n                                    <input type=\"submit\" value=\"המשך\" id=\"con\"/>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div> : null\r\n                }\r\n                { this.props.showQ ?\r\n                    <div className='popup'>\r\n                        <div className='popup_innerEmail' >\r\n                            <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                            <h3 id=\"h3\">שכחתי סיסמא</h3>\r\n                            <form onSubmit={this.props.handle}>\r\n                                <div className=\"lineC\">\r\n                                    <label  id=\"lq\">\r\n                                        {this.props.question}\r\n                                    </label>\r\n                                </div>\r\n                                <div className=\"lineC\">\r\n                                    <input type=\"text\"  name=\"answer\" id=\"answer\" onChange={this.props.change} required/>\r\n                                </div>\r\n                                <div className=\"lineC\">\r\n                                    <label  id=\"ldate\">\r\n                                        הכנס את תאריך יום הולדת שלך:\r\n                                    </label>\r\n                                </div>\r\n                                <div className=\"lineC\">\r\n                                    <input type=\"date\" name=\"date\" id=\"date\" max={today} onChange={this.props.change} required/>\r\n                                </div>\r\n                                <div className=\"lineC\">\r\n                                    {this.props.wrongA ? <label className=\"error\">שאלת אימות לא נכונה או תאריך לידה שגוי</label> : null}\r\n                                </div>\r\n                                <div className=\"lineC\">\r\n                                    <input type=\"submit\" value=\"המשך\" id=\"con\"/>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div> : null\r\n                }\r\n                { this.props.showChange ?\r\n                    <div className='popup'>\r\n                        <div className='popup_innerEmail' >\r\n                            <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                            <h3 id=\"h3\">שכחתי סיסמא</h3>\r\n                            <form onSubmit={this.props.changePass}>\r\n                                <label  id=\"lpass\">\r\n                                    סיסמא חדשה:\r\n                                </label>\r\n                                <input type=\"password\" className=\"inputs\" name=\"pass\" id=\"pass\" onChange={this.props.change} required/>\r\n                                <label id=\"lpass2\">\r\n                                    הקלד את הסיסמא מחדש:\r\n                                </label>\r\n                                <input type=\"password\" className=\"inputs\" name=\"pass2\" id=\"pass2\" onChange={this.props.change} required/>\r\n                                {this.props.diff ? <label className=\"error\">הסיסמאות שונות</label> : null}\r\n                                <input type=\"submit\" value=\"שלח\" id=\"send\"/>\r\n                            </form>\r\n                        </div>\r\n                    </div> : null\r\n                }\r\n                { this.props.register ?\r\n                    <div className='popup'>\r\n                        <div className='popup_innerAdd' >\r\n                            <button onClick={this.props.closePopup} id=\"x\">x</button>\r\n                            <br/>\r\n                            <h3>הרשמה</h3>\r\n                            <Adduser />\r\n                        </div>\r\n                    </div> : null\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport \"./HomeLogin.css\"\r\nimport Login from \"./Login\"\r\nimport Logo from \"./Logo\"\r\nimport {\r\n    Redirect\r\n} from \"react-router-dom\";\r\n\r\n\r\nclass HomeLogin extends Component{\r\n\r\n    render(){\r\n        var path = window.location.pathname;\r\n        if(path.includes(\"search\")){\r\n            window.location.pathname = path.replace(\"search\", \"\");\r\n        }\r\n        return(\r\n            <div>\r\n\r\n                <div className=\"Home\">\r\n                    {sessionStorage.getItem(\"token\") ?  <Redirect from={path} to=\"/search\" /> : null  }\r\n                    <br />\r\n                    <header className=\"Home-header\">\r\n                        <Logo />\r\n                        <Login />\r\n                    </header>\r\n                </div>\r\n              </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HomeLogin;","import React, {Component} from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route\r\n} from \"react-router-dom\";\r\nimport App from './App';\r\nimport HomeLogin from './HomeLogin';\r\nimport Questionnaire from './Questionnaire/SurveyComponent';\r\nimport QuestionnairesManger from './Questionnaire/QuestionnaireManger';\r\nimport SurveyComponent from './Questionnaire/SurveyComponent';\r\n\r\nclass Home extends Component{\r\n    /*\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    */\r\n\r\n    render(){\r\n\r\n        document.body.setAttribute('dir', 'rtl')\r\n        return(\r\n            <Router basename={window.location.pathname || ''}>\r\n                <Switch>\r\n                    <Route exact path=\"/\">\r\n                        <HomeLogin />\r\n                    </Route>\r\n                    <Route exact path=\"/search\">\r\n                        <App component='search'/>\r\n                    </Route>\r\n                    <Route exact path=\"/messages\">\r\n                        <App component='messages'/>\r\n                    </Route>\r\n                    <Route exact path=\"/questionnaires\">\r\n                        <App component='questionnaires'/>\r\n                    </Route>\r\n                    <Route exact path=\"/instructions\">\r\n                        <App component='instructions'/>\r\n                    </Route>\r\n                    <Route exact path=\"/exercises\">\r\n                        <App component='exercises'/>\r\n                    </Route>\r\n                    <Route path='/userQuestionnaire/:QuestionnaireID' render={(props) => <App component='survey' {...props}/>}>\r\n                        {/*<App component='survey'/>*/}\r\n                    </Route>\r\n                </Switch>\r\n              </Router>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Home from './Home';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<Home />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}